{
    "@class": "GameModel",
    "pages": {
        "1": {
            "type": "AbsoluteLayout",
            "plugins": [
                {
                    "fn": "CSSSize",
                    "cfg": {
                        "styles": {
                            "position": "absolute",
                            "width": "940px",
                            "height": "400px"
                        }
                    }
                }
            ],
            "children": [
                {
                    "type": "Box",
                    "cssClass": "proggame-splash",
                    "plugins": [
                        {
                            "fn": "CSSPosition",
                            "cfg": {
                                "styles": {
                                    "position": "absolute",
                                    "top": "40px",
                                    "left": "148px"
                                }
                            }
                        },
                        {
                            "fn": "CSSSize",
                            "cfg": {
                                "styles": {
                                    "width": "962px",
                                    "height": "709px"
                                }
                            }
                        },
                        {
                            "fn": "CSSStyles",
                            "cfg": {
                                "styles": {
                                    "background": "url(wegas-proggame/images/blackboard_Start.png)"
                                }
                            }
                        }
                    ]
                },
                {
                    "type": "Box",
                    "plugins": [
                        {
                            "fn": "CSSPosition",
                            "cfg": {
                                "styles": {
                                    "position": "absolute",
                                    "top": "646px",
                                    "left": "780px"
                                }
                            }
                        },
                        {
                            "fn": "CSSSize",
                            "cfg": {
                                "styles": {
                                    "width": "168px",
                                    "height": "56px"
                                }
                            }
                        },
                        {
                            "fn": "CSSStyles",
                            "cfg": {
                                "styles": {
                                    "background": "url(wegas-proggame/images/proggame-logo.png)",
                                    "cursor": "pointer"
                                }
                            }
                        },
                        {
                            "fn": "OpenUrlAction",
                            "cfg": {
                                "targetEvent": "click",
                                "url": "http://www.heig-vd.ch/",
                                "target": "blank"
                            }
                        }
                    ]
                },
                {
                    "type": "Box",
                    "plugins": [
                        {
                            "fn": "CSSPosition",
                            "cfg": {
                                "styles": {
                                    "position": "absolute",
                                    "top": "651px",
                                    "left": "953px"
                                }
                            }
                        },
                        {
                            "fn": "CSSSize",
                            "cfg": {
                                "styles": {
                                    "width": "114px",
                                    "height": "47px"
                                }
                            }
                        },
                        {
                            "fn": "CSSStyles",
                            "cfg": {
                                "styles": {
                                    "background": "url(wegas-proggame/images/proggame-logo.png) 0 -397px",
                                    "cursor": "pointer"
                                }
                            }
                        },
                        {
                            "fn": "OpenUrlAction",
                            "cfg": {
                                "targetEvent": "click",
                                "url": "http://www.hes-so.ch/",
                                "target": "blank"
                            }
                        }
                    ]
                },
                {
                    "type": "Box",
                    "plugins": [
                        {
                            "fn": "CSSPosition",
                            "cfg": {
                                "styles": {
                                    "position": "absolute",
                                    "top": "646px",
                                    "left": "202px"
                                }
                            }
                        },
                        {
                            "fn": "CSSSize",
                            "cfg": {
                                "styles": {
                                    "width": "63px",
                                    "height": "53px"
                                }
                            }
                        },
                        {
                            "fn": "OpenUrlAction",
                            "cfg": {
                                "targetEvent": "click",
                                "url": "http://www.albasim.ch",
                                "target": "blank"
                            }
                        },
                        {
                            "fn": "CSSStyles",
                            "cfg": {
                                "styles": {
                                    "background": "url(wegas-proggame/images/proggame-logo.png)0 -286px",
                                    "cursor": "pointer"
                                }
                            }
                        }
                    ]
                },
                {
                    "type": "Box",
                    "plugins": [
                        {
                            "fn": "CSSPosition",
                            "cfg": {
                                "styles": {
                                    "position": "absolute",
                                    "top": "656px",
                                    "left": "306px"
                                }
                            }
                        },
                        {
                            "fn": "CSSSize",
                            "cfg": {
                                "styles": {
                                    "width": "234px",
                                    "height": "73px"
                                }
                            }
                        },
                        {
                            "fn": "CSSStyles",
                            "cfg": {
                                "styles": {
                                    "background": "url(wegas-proggame/images/proggame-logo.png) 0 -192px",
                                    "cursor": "pointer"
                                }
                            }
                        },
                        {
                            "fn": "OpenUrlAction",
                            "cfg": {
                                "targetEvent": "click",
                                "url": "http://www.cyberlearn.ch/",
                                "target": "blank"
                            }
                        }
                    ]
                },
                {
                    "type": "Box",
                    "plugins": [
                        {
                            "fn": "CSSPosition",
                            "cfg": {
                                "styles": {
                                    "position": "absolute",
                                    "top": "647px",
                                    "left": "538px"
                                }
                            }
                        },
                        {
                            "fn": "CSSSize",
                            "cfg": {
                                "styles": {
                                    "width": "211px",
                                    "height": "47px"
                                }
                            }
                        },
                        {
                            "fn": "CSSStyles",
                            "cfg": {
                                "styles": {
                                    "background": "url(wegas-proggame/images/proggame-logo.png) 0 -97px",
                                    "cursor": "pointer"
                                }
                            }
                        },
                        {
                            "fn": "OpenUrlAction",
                            "cfg": {
                                "targetEvent": "click",
                                "url": "http://www.comem.ch/",
                                "target": "blank"
                            }
                        }
                    ]
                },
                {
                    "label": "START PLAYING",
                    "type": "Button",
                    "cssClass": "proggame-button",
                    "plugins": [
                        {
                            "fn": "OpenPageAction",
                            "cfg": {
                                "targetEvent": "click",
                                "subpageId": "5",
                                "targetPageLoaderId": "previewPageLoader",
                                "subpageVariable": {
                                    "@class": "Script",
                                    "content": "Variable.find(gameModel, \"money\")"
                                }
                            }
                        },
                        {
                            "fn": "CSSPosition",
                            "cfg": {
                                "styles": {
                                    "position": "absolute",
                                    "zIndex": "10",
                                    "top": "536px",
                                    "left": "534px",
                                    "bottom": "",
                                    "right": ""
                                }
                            }
                        },
                        {
                            "fn": "CSSSize",
                            "cfg": {
                                "styles": {
                                    "width": "200px",
                                    "height": "70px"
                                }
                            }
                        },
                        {
                            "fn": "CSSText",
                            "cfg": {
                                "styles": {
                                    "color": "white",
                                    "fontSize": "2em",
                                    "fontStyle": "",
                                    "textAlign": ""
                                }
                            }
                        },
                        {
                            "fn": "CSSStyles",
                            "cfg": {
                                "styles": {
                                    "background": "transparent",
                                    "fontFamily": "KG Ways to Say Goodbye",
                                    "lineHeight": "0.8em",
                                    "padding": "5px 0 0"
                                }
                            }
                        }
                    ],
                    "data": {}
                }
            ],
            "@name": "Splash screen"
        },
        "2": {
            "type": "PageLoader",
            "pageLoaderId": "leveldisplay",
            "defaultPageId": "1",
            "variable": {},
            "page": {
                "@class": "Script",
                "content": "Variable.find(gameModel, \"currentLevel\").getInstance().get('value')"
            },
            "@name": "Current level"
        },
        "3": {
            "type": "AbsoluteLayout",
            "plugins": [
                {
                    "fn": "CSSSize",
                    "cfg": {
                        "styles": {
                            "position": "absolute",
                            "width": "800px",
                            "height": "400px"
                        }
                    }
                }
            ],
            "children": [
                {
                    "type": "Box",
                    "plugins": [
                        {
                            "fn": "CSSPosition",
                            "cfg": {
                                "styles": {
                                    "position": "absolute",
                                    "top": "0px",
                                    "left": "124px"
                                }
                            }
                        },
                        {
                            "fn": "CSSSize",
                            "cfg": {
                                "styles": {
                                    "width": "962px",
                                    "height": "709px"
                                }
                            }
                        },
                        {
                            "fn": "CSSStyles",
                            "cfg": {
                                "styles": {
                                    "background": "url(wegas-proggame/images/blackboard1.png)"
                                }
                            }
                        }
                    ]
                },
                {
                    "label": "<b>BUY<br />BREAKPOINTS</b><br /><br />200 GOLD",
                    "type": "Button",
                    "cssClass": "proggame-button",
                    "plugins": [
                        {
                            "fn": "Tooltip",
                            "cfg": {
                                "content": "<p>With this upgrade, you will be able to add breakpoints in your code by clicking<br /> on the left margin of the code editor. <br />When you run your code again, it will stop executing at your breakpoint.</p>"
                            }
                        },
                        {
                            "fn": "ConditionalDisable",
                            "cfg": {
                                "condition": {
                                    "@class": "Script",
                                    "content": "Variable.find(gameModel, \"inventory\").getProperty(self, \"debugger\")===\"true\""
                                },
                                "attribute": "disabled",
                                "value": ""
                            }
                        },
                        {
                            "fn": "ExecuteScriptAction",
                            "cfg": {
                                "targetEvent": "click",
                                "onClick": {
                                    "@class": "Script",
                                    "content": "Variable.find(gameModel, \"money\").sub(self, 200);\nVariable.find(gameModel, \"inventory\").setProperty(self, \"debugger\", \"true\")"
                                }
                            }
                        },
                        {
                            "fn": "CSSPosition",
                            "cfg": {
                                "styles": {
                                    "position": "absolute",
                                    "zIndex": "10",
                                    "top": "100px",
                                    "left": "190px",
                                    "bottom": "",
                                    "right": ""
                                }
                            }
                        },
                        {
                            "fn": "CSSSize",
                            "cfg": {
                                "styles": {
                                    "width": "120px",
                                    "height": "120px"
                                }
                            }
                        },
                        {
                            "fn": "CSSText",
                            "cfg": {
                                "styles": {
                                    "color": "white",
                                    "fontSize": "2em",
                                    "fontStyle": "",
                                    "textAlign": ""
                                }
                            }
                        },
                        {
                            "fn": "CSSStyles",
                            "cfg": {
                                "styles": {
                                    "background": "transparent",
                                    "fontFamily": "KG Ways to Say Goodbye",
                                    "lineHeight": "0.8em",
                                    "padding": "5px 0 0"
                                }
                            }
                        }
                    ],
                    "data": {}
                },
                {
                    "label": "<b>BUY <br />VARIABLE<br />WATCHES</b><br />300 GOLD",
                    "type": "Button",
                    "cssClass": "proggame-button",
                    "plugins": [
                        {
                            "fn": "Tooltip",
                            "cfg": {
                                "content": "With watches, you can check the value of any variable while executing. <br />You can see their value changing at each step of the execution."
                            }
                        },
                        {
                            "fn": "ConditionalDisable",
                            "cfg": {
                                "condition": {
                                    "@class": "Script",
                                    "content": "Variable.find(gameModel, \"inventory\").getProperty(self, \"watches\") == \"true\"",
                                    "language": "JavaScript"
                                },
                                "attribute": "disabled",
                                "value": ""
                            }
                        },
                        {
                            "fn": "ExecuteScriptAction",
                            "cfg": {
                                "targetEvent": "click",
                                "onClick": {
                                    "@class": "Script",
                                    "language": "JavaScript",
                                    "content": "Variable.find(gameModel, \"money\").add(self, -300);\nVariable.find(gameModel, \"inventory\").setProperty(self, \"watches\", \"true\");"
                                }
                            }
                        },
                        {
                            "fn": "CSSPosition",
                            "cfg": {
                                "styles": {
                                    "position": "absolute",
                                    "top": "100px",
                                    "left": "330px"
                                }
                            }
                        },
                        {
                            "fn": "CSSSize",
                            "cfg": {
                                "styles": {
                                    "position": "absolute",
                                    "width": "120px",
                                    "height": "120px"
                                }
                            }
                        },
                        {
                            "fn": "CSSText",
                            "cfg": {
                                "styles": {
                                    "color": "white",
                                    "fontSize": "2em"
                                }
                            }
                        },
                        {
                            "fn": "CSSStyles",
                            "cfg": {
                                "styles": {
                                    "background": "transparent",
                                    "fontFamily": "KG Ways to Say Goodbye",
                                    "lineHeight": "0.8em",
                                    "padding": "5px 0 0"
                                }
                            }
                        }
                    ]
                },
                {
                    "label": "<b>BUY <br />FILE LIBRARY</b><br /><br />500 GOLD",
                    "type": "Button",
                    "cssClass": "proggame-button",
                    "plugins": [
                        {
                            "fn": "Tooltip",
                            "cfg": {
                                "content": "<p>The file library let you to store your code in files, in order to use it again.</p>"
                            }
                        },
                        {
                            "fn": "ConditionalDisable",
                            "cfg": {
                                "condition": {
                                    "@class": "Script",
                                    "content": "Variable.find(gameModel, \"inventory\").getProperty(self, \"filelibrary\")===\"true\""
                                },
                                "attribute": "disabled",
                                "value": ""
                            }
                        },
                        {
                            "fn": "ExecuteScriptAction",
                            "cfg": {
                                "targetEvent": "click",
                                "onClick": {
                                    "@class": "Script",
                                    "content": "Variable.find(gameModel, \"money\").sub(self, 500);\nVariable.find(gameModel, \"inventory\").setProperty(self, \"filelibrary\", \"true\")"
                                }
                            }
                        },
                        {
                            "fn": "CSSPosition",
                            "cfg": {
                                "styles": {
                                    "position": "absolute",
                                    "zIndex": "10",
                                    "top": "100px",
                                    "left": "470px",
                                    "bottom": "",
                                    "right": ""
                                }
                            }
                        },
                        {
                            "fn": "CSSSize",
                            "cfg": {
                                "styles": {
                                    "width": "120px",
                                    "height": "120px"
                                }
                            }
                        },
                        {
                            "fn": "CSSText",
                            "cfg": {
                                "styles": {
                                    "color": "white",
                                    "fontSize": "2em",
                                    "fontStyle": "",
                                    "textAlign": ""
                                }
                            }
                        }
                    ],
                    "data": {}
                }
            ],
            "@name": "Shop"
        },
        "4": {
            "type": "AbsoluteLayout",
            "plugins": [
                {
                    "fn": "CSSSize",
                    "cfg": {
                        "styles": {
                            "position": "absolute",
                            "width": "800px",
                            "height": "400px"
                        }
                    }
                }
            ],
            "children": [
                {
                    "type": "Box",
                    "plugins": [
                        {
                            "fn": "CSSPosition",
                            "cfg": {
                                "styles": {
                                    "position": "absolute",
                                    "top": "0px",
                                    "left": "124px"
                                }
                            }
                        },
                        {
                            "fn": "CSSSize",
                            "cfg": {
                                "styles": {
                                    "width": "962px",
                                    "height": "709px"
                                }
                            }
                        },
                        {
                            "fn": "CSSStyles",
                            "cfg": {
                                "styles": {
                                    "background": "url(wegas-proggame/images/blackboard1.png)"
                                }
                            }
                        }
                    ]
                },
                {
                    "label": "Level 1: Sequence d'instruction",
                    "type": "Button",
                    "cssClass": "proggame-levelselection-button",
                    "plugins": [
                        {
                            "fn": "OpenPageAction",
                            "cfg": {
                                "targetEvent": "click",
                                "subpageId": "401",
                                "targetPageLoaderId": "levelselectionsubpage"
                            }
                        },
                        {
                            "fn": "CSSPosition",
                            "cfg": {
                                "styles": {
                                    "position": "absolute",
                                    "top": "67px",
                                    "left": "174px"
                                }
                            }
                        },
                        {
                            "fn": "CSSSize",
                            "cfg": {
                                "styles": {
                                    "position": "absolute",
                                    "height": "40px",
                                    "width": "310px"
                                }
                            }
                        }
                    ]
                },
                {
                    "label": "Level 2: Variables",
                    "type": "Button",
                    "cssClass": "proggame-levelselection-button",
                    "plugins": [
                        {
                            "fn": "ConditionalDisable",
                            "cfg": {
                                "condition": {
                                    "@class": "Script",
                                    "content": "Variable.find(gameModel, \"maxLevel\").getValue(self)<20"
                                },
                                "attribute": "disabled",
                                "value": ""
                            }
                        },
                        {
                            "fn": "OpenPageAction",
                            "cfg": {
                                "targetEvent": "click",
                                "subpageId": "402",
                                "targetPageLoaderId": "levelselectionsubpage",
                                "subpageVariable": {
                                    "@class": "Script",
                                    "content": "Variable.find(gameModel, \"money\")"
                                }
                            }
                        },
                        {
                            "fn": "CSSPosition",
                            "cfg": {
                                "styles": {
                                    "position": "absolute",
                                    "zIndex": "10",
                                    "top": "112px",
                                    "left": "174px",
                                    "bottom": "",
                                    "right": ""
                                }
                            }
                        },
                        {
                            "fn": "CSSSize",
                            "cfg": {
                                "styles": {
                                    "width": "310px",
                                    "height": "40px"
                                }
                            }
                        }
                    ],
                    "data": {}
                },
                {
                    "label": "Level 3: Conditions & logique",
                    "type": "Button",
                    "cssClass": "proggame-levelselection-button",
                    "plugins": [
                        {
                            "fn": "ConditionalDisable",
                            "cfg": {
                                "condition": {
                                    "@class": "Script",
                                    "content": "Variable.find(gameModel, \"maxLevel\").getValue(self)<30"
                                },
                                "attribute": "disabled",
                                "value": ""
                            }
                        },
                        {
                            "fn": "OpenPageAction",
                            "cfg": {
                                "targetEvent": "click",
                                "subpageId": "403",
                                "targetPageLoaderId": "levelselectionsubpage",
                                "subpageVariable": {
                                    "@class": "Script",
                                    "content": "Variable.find(gameModel, \"money\")"
                                }
                            }
                        },
                        {
                            "fn": "CSSPosition",
                            "cfg": {
                                "styles": {
                                    "position": "absolute",
                                    "zIndex": "10",
                                    "top": "157px",
                                    "left": "174px",
                                    "bottom": "",
                                    "right": ""
                                }
                            }
                        },
                        {
                            "fn": "CSSSize",
                            "cfg": {
                                "styles": {
                                    "width": "310px",
                                    "height": "40px"
                                }
                            }
                        }
                    ],
                    "data": {}
                },
                {
                    "label": "Level 4: Itérations",
                    "type": "Button",
                    "cssClass": "proggame-levelselection-button",
                    "plugins": [
                        {
                            "fn": "ConditionalDisable",
                            "cfg": {
                                "condition": {
                                    "@class": "Script",
                                    "content": "Variable.find(gameModel, \"maxLevel\").getValue(self)<40"
                                },
                                "attribute": "disabled",
                                "value": ""
                            }
                        },
                        {
                            "fn": "OpenPageAction",
                            "cfg": {
                                "targetEvent": "click",
                                "subpageId": "403",
                                "targetPageLoaderId": "levelselectionsubpage",
                                "subpageVariable": {
                                    "@class": "Script",
                                    "content": "Variable.find(gameModel, \"money\")"
                                }
                            }
                        },
                        {
                            "fn": "CSSPosition",
                            "cfg": {
                                "styles": {
                                    "position": "absolute",
                                    "zIndex": "10",
                                    "top": "202px",
                                    "left": "174px",
                                    "bottom": "",
                                    "right": ""
                                }
                            }
                        },
                        {
                            "fn": "CSSSize",
                            "cfg": {
                                "styles": {
                                    "width": "310px",
                                    "height": "40px"
                                }
                            }
                        }
                    ],
                    "data": {}
                },
                {
                    "label": "Level 5: Procédures <em>(Pas encore disponible)</em>",
                    "type": "Button",
                    "cssClass": "proggame-levelselection-button",
                    "plugins": [
                        {
                            "fn": "ConditionalDisable",
                            "cfg": {
                                "condition": {
                                    "@class": "Script",
                                    "content": "Variable.find(gameModel, \"maxLevel\").getValue(self)<50"
                                },
                                "attribute": "disabled",
                                "value": ""
                            }
                        },
                        {
                            "fn": "OpenPageAction",
                            "cfg": {
                                "targetEvent": "click",
                                "subpageId": "1",
                                "targetPageLoaderId": "levelselectionsubpage",
                                "subpageVariable": {
                                    "@class": "Script",
                                    "content": "Variable.find(gameModel, \"money\")"
                                }
                            }
                        },
                        {
                            "fn": "CSSPosition",
                            "cfg": {
                                "styles": {
                                    "position": "absolute",
                                    "zIndex": "10",
                                    "top": "247px",
                                    "left": "174px",
                                    "bottom": "",
                                    "right": ""
                                }
                            }
                        },
                        {
                            "fn": "CSSSize",
                            "cfg": {
                                "styles": {
                                    "width": "310px",
                                    "height": "40px"
                                }
                            }
                        }
                    ],
                    "data": {}
                },
                {
                    "label": "Level 6: Tableaux <em>(Pas encore disponible)</em>",
                    "type": "Button",
                    "cssClass": "proggame-levelselection-button",
                    "plugins": [
                        {
                            "fn": "ConditionalDisable",
                            "cfg": {
                                "condition": {
                                    "@class": "Script",
                                    "content": "Variable.find(gameModel, \"maxLevel\").getValue(self)<60"
                                },
                                "attribute": "disabled",
                                "value": ""
                            }
                        },
                        {
                            "fn": "OpenPageAction",
                            "cfg": {
                                "targetEvent": "click",
                                "subpageId": "1",
                                "targetPageLoaderId": "levelselectionsubpage",
                                "subpageVariable": {
                                    "@class": "Script",
                                    "content": "Variable.find(gameModel, \"money\")"
                                }
                            }
                        },
                        {
                            "fn": "CSSPosition",
                            "cfg": {
                                "styles": {
                                    "position": "absolute",
                                    "zIndex": "10",
                                    "top": "292px",
                                    "left": "174px",
                                    "bottom": "",
                                    "right": ""
                                }
                            }
                        },
                        {
                            "fn": "CSSSize",
                            "cfg": {
                                "styles": {
                                    "width": "310px",
                                    "height": "40px"
                                }
                            }
                        }
                    ],
                    "data": {}
                },
                {
                    "label": "Level 7: Récursivité <em>(Pas encore disponible)</em>",
                    "type": "Button",
                    "cssClass": "proggame-levelselection-button",
                    "plugins": [
                        {
                            "fn": "ConditionalDisable",
                            "cfg": {
                                "condition": {
                                    "@class": "Script",
                                    "content": "Variable.find(gameModel, \"maxLevel\").getValue(self)<60"
                                },
                                "attribute": "disabled",
                                "value": ""
                            }
                        },
                        {
                            "fn": "OpenPageAction",
                            "cfg": {
                                "targetEvent": "click",
                                "subpageId": "1",
                                "targetPageLoaderId": "levelselectionsubpage",
                                "subpageVariable": {
                                    "@class": "Script",
                                    "content": "Variable.find(gameModel, \"money\")"
                                }
                            }
                        },
                        {
                            "fn": "CSSPosition",
                            "cfg": {
                                "styles": {
                                    "position": "absolute",
                                    "zIndex": "10",
                                    "top": "334px",
                                    "left": "173px",
                                    "bottom": "",
                                    "right": ""
                                }
                            }
                        },
                        {
                            "fn": "CSSSize",
                            "cfg": {
                                "styles": {
                                    "width": "310px",
                                    "height": "40px"
                                }
                            }
                        }
                    ],
                    "data": {}
                },
                {
                    "type": "PageLoader",
                    "cssClass": "proggame-levelselection",
                    "plugins": [
                        {
                            "fn": "CSSPosition",
                            "cfg": {
                                "styles": {
                                    "position": "absolute",
                                    "top": "49px",
                                    "left": "485px"
                                }
                            }
                        },
                        {
                            "fn": "CSSSize",
                            "cfg": {
                                "styles": {
                                    "position": "absolute",
                                    "width": "550px",
                                    "height": "634px"
                                }
                            }
                        }
                    ],
                    "pageLoaderId": "levelselectionsubpage",
                    "page": {
                        "content": "\"40\"+(Math.floor(maxLevel.value/10))"
                    }
                }
            ],
            "@name": "Levels"
        },
        "5": {
            "type": "AbsoluteLayout",
            "plugins": [
                {
                    "fn": "CSSSize",
                    "cfg": {
                        "styles": {
                            "position": "absolute",
                            "width": "1200px"
                        }
                    }
                }
            ],
            "children": [
                {
                    "type": "Box",
                    "plugins": [
                        {
                            "fn": "CSSPosition",
                            "cfg": {
                                "styles": {
                                    "position": "absolute",
                                    "top": "0px",
                                    "left": "0px"
                                }
                            }
                        },
                        {
                            "fn": "CSSSize",
                            "cfg": {
                                "styles": {
                                    "width": "339px",
                                    "height": "125px"
                                }
                            }
                        },
                        {
                            "fn": "CSSStyles",
                            "cfg": {
                                "styles": {
                                    "background": "url(wegas-proggame/images/proggame-title.png)"
                                }
                            }
                        }
                    ]
                },
                {
                    "type": "Box",
                    "cssClass": "proggame-menu",
                    "plugins": [
                        {
                            "fn": "CSSPosition",
                            "cfg": {
                                "styles": {
                                    "position": "absolute",
                                    "top": "0px",
                                    "left": "566px"
                                }
                            }
                        },
                        {
                            "fn": "CSSSize",
                            "cfg": {
                                "styles": {}
                            }
                        }
                    ]
                },
                {
                    "type": "Template",
                    "cssClass": "proggame-money",
                    "plugins": [
                        {
                            "fn": "CSSPosition",
                            "cfg": {
                                "styles": {
                                    "position": "absolute",
                                    "top": "27px",
                                    "left": "583px"
                                }
                            }
                        },
                        {
                            "fn": "CSSSize",
                            "cfg": {
                                "styles": {
                                    "position": "absolute"
                                }
                            }
                        }
                    ],
                    "variable": {
                        "name": "money"
                    },
                    "data": {},
                    "custom": "<%= this.value || 0 %>"
                },
                {
                    "label": "Levels",
                    "type": "Button",
                    "cssClass": "proggame-button-levels",
                    "plugins": [
                        {
                            "fn": "OpenPageAction",
                            "cfg": {
                                "targetEvent": "click",
                                "subpageId": 4,
                                "targetPageLoaderId": "maindisplayarea"
                            }
                        },
                        {
                            "fn": "CSSPosition",
                            "cfg": {
                                "styles": {
                                    "position": "absolute",
                                    "top": "26px",
                                    "left": "722px"
                                }
                            }
                        },
                        {
                            "fn": "CSSSize",
                            "cfg": {
                                "styles": {}
                            }
                        }
                    ]
                },
                {
                    "label": "Shop",
                    "type": "Button",
                    "cssClass": "proggame-button-shop",
                    "plugins": [
                        {
                            "fn": "OpenPageAction",
                            "cfg": {
                                "targetEvent": "click",
                                "subpageId": 3,
                                "targetPageLoaderId": "maindisplayarea"
                            }
                        },
                        {
                            "fn": "CSSPosition",
                            "cfg": {
                                "styles": {
                                    "position": "absolute",
                                    "top": "26px",
                                    "left": "837px"
                                }
                            }
                        },
                        {
                            "fn": "CSSSize",
                            "cfg": {
                                "styles": {}
                            }
                        }
                    ]
                },
                {
                    "label": "Mails",
                    "type": "Button",
                    "cssClass": "proggame-button-courses",
                    "plugins": [
                        {
                            "fn": "OpenPageAction",
                            "cfg": {
                                "targetEvent": "click",
                                "subpageId": 6,
                                "targetPageLoaderId": "maindisplayarea"
                            }
                        },
                        {
                            "fn": "UnreadCount",
                            "cfg": {
                                "variable": {
                                    "name": "inbox"
                                }
                            }
                        },
                        {
                            "fn": "CSSPosition",
                            "cfg": {
                                "styles": {
                                    "position": "absolute",
                                    "top": "26px",
                                    "left": "938px"
                                }
                            }
                        },
                        {
                            "fn": "CSSSize",
                            "cfg": {
                                "styles": {}
                            }
                        }
                    ]
                },
                {
                    "type": "LoginButton",
                    "cssClass": "proggame-button-account",
                    "plugins": [
                        {
                            "fn": "OpenPageAction",
                            "cfg": {
                                "targetEvent": "click",
                                "subpageId": 3,
                                "targetPageLoaderId": "maindisplayarea"
                            }
                        },
                        {
                            "fn": "CSSPosition",
                            "cfg": {
                                "styles": {
                                    "position": "absolute",
                                    "top": "27px",
                                    "left": "1043px"
                                }
                            }
                        },
                        {
                            "fn": "CSSSize",
                            "cfg": {
                                "styles": {}
                            }
                        }
                    ],
                    "preferencePageId": 1000,
                    "targetPageLoader": "maindisplayarea"
                },
                {
                    "type": "PageLoader",
                    "cssClass": "proggame-body",
                    "plugins": [
                        {
                            "fn": "CSSPosition",
                            "cfg": {
                                "styles": {
                                    "position": "absolute",
                                    "top": "85px",
                                    "left": "4px"
                                }
                            }
                        },
                        {
                            "fn": "CSSSize",
                            "cfg": {
                                "styles": {
                                    "position": "absolute",
                                    "width": "1186px",
                                    "height": "710px"
                                }
                            }
                        }
                    ],
                    "pageLoaderId": "maindisplayarea",
                    "defaultPageId": 4
                },
                {
                    "type": "Text",
                    "plugins": [
                        {
                            "fn": "CSSPosition",
                            "cfg": {
                                "styles": {
                                    "position": "absolute",
                                    "top": "751px",
                                    "left": "34px"
                                }
                            }
                        },
                        {
                            "fn": "CSSSize",
                            "cfg": {
                                "styles": {
                                    "width": "168px",
                                    "height": "56px"
                                }
                            }
                        }
                    ],
                    "content": "<iframe src='//www.facebook.com/plugins/like.php?href=https%3A%2F%2Fwww.facebook.com%2Fprogramminggame&amp;width&amp;layout=button_count&amp;action=like&amp;show_faces=false&amp;share=false&amp;height=21&amp;appId=214143398685715' scrolling='no' frameborder='0' style='border:none; overflow:hidden; height:21px;' allowTransparency='true'></iframe>"
                }
            ],
            "@name": "Main page"
        },
        "6": {
            "type": "AbsoluteLayout",
            "plugins": [
                {
                    "fn": "CSSSize",
                    "cfg": {
                        "styles": {
                            "position": "absolute",
                            "width": "800px",
                            "height": "400px"
                        }
                    }
                }
            ],
            "children": [
                {
                    "type": "Box",
                    "plugins": [
                        {
                            "fn": "CSSPosition",
                            "cfg": {
                                "styles": {
                                    "position": "absolute",
                                    "top": "0px",
                                    "left": "124px"
                                }
                            }
                        },
                        {
                            "fn": "CSSSize",
                            "cfg": {
                                "styles": {
                                    "width": "962px",
                                    "height": "709px"
                                }
                            }
                        },
                        {
                            "fn": "CSSStyles",
                            "cfg": {
                                "styles": {
                                    "background": "url(wegas-proggame/images/blackboard1.png)"
                                }
                            }
                        }
                    ]
                },
                {
                    "type": "InboxDisplay",
                    "plugins": [
                        {
                            "fn": "CSSPosition",
                            "cfg": {
                                "styles": {
                                    "position": "absolute",
                                    "top": "51px",
                                    "left": "171px"
                                }
                            }
                        },
                        {
                            "fn": "CSSSize",
                            "cfg": {
                                "styles": {
                                    "width": "868px",
                                    "height": "618px"
                                }
                            }
                        },
                        {
                            "fn": "CSSStyles",
                            "cfg": {
                                "styles": {
                                    "color": "white"
                                }
                            }
                        }
                    ],
                    "variable": {
                        "name": "inbox"
                    },
                    "template": "inbox",
                    "setToReadAfter": 0.05
                }
            ],
            "@name": "Mails"
        },
        "11": {
            "type": "ProgGameLevel",
            "plugins": [],
            "intro": "<p>&nbsp;</p>\n<p>&nbsp;&nbsp;</p>\n<p>Le personnage blanc souhaite rejoindre le jaune.</p>\n<p>&nbsp;</p>\n<p>Votre seul moyen pour le d&eacute;placer&nbsp;est de programmer la s&eacute;quence n&eacute;cessaire d'instruction dans le langage <strong>Javascript</strong>!</p>",
            "label": "Level 1.1 - First moves",
            "map": [
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ],
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ],
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 1
                    },
                    {
                        "x": 0,
                        "y": 1
                    },
                    {
                        "x": 0,
                        "y": 1
                    },
                    {
                        "x": 0,
                        "y": 1
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ],
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ],
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ]
            ],
            "objects": [
                {
                    "id": "Player",
                    "x": 0,
                    "y": 2,
                    "direction": 2,
                    "collides": "",
                    "components": "PC"
                },
                {
                    "id": "Enemy",
                    "x": 5,
                    "y": 2,
                    "direction": 4,
                    "collides": false,
                    "components": "NPC"
                }
            ],
            "api": [
                "move"
            ],
            "winningCondition": "objects[0].x===objects[1].x && objects[0].y===objects[1].y",
            "onStart": "",
            "onAction": "",
            "onWin": "currentLevel.value=12;money.value+=100",
            "defaultCode": "// Ecrivez votre code ici ",
            "invites": [],
            "maxTurns": "1",
            "@name": "Level 1.1"
        },
        "12": {
            "type": "ProgGameLevel",
            "plugins": [],
            "intro": "<p>Le parcours a chang&eacute;, mais deux nouvelles fonctions<em> right()</em> et <em>left()</em> vous permettent maintenant de faire tourner votre personnage.</p>\n<p>&nbsp;</p>\n<p>Rejoignez votre ami avec ces nouvelles fonctions.</p>",
            "label": "Level 4.1",
            "objects": [
                {
                    "id": "Player",
                    "x": 0,
                    "y": 2,
                    "direction": 2,
                    "collides": "",
                    "components": "PC"
                },
                {
                    "id": "Enemy",
                    "x": 4,
                    "y": 1,
                    "direction": 4,
                    "collides": false,
                    "components": "NPC"
                }
            ],
            "api": [
                "move",
                "left",
                "right"
            ],
            "winningCondition": "objects[0].x===objects[1].x && objects[0].y===objects[1].y",
            "onStart": "",
            "onAction": "",
            "onWin": "currentLevel.value=13",
            "defaultCode": "//Put your code here...\n",
            "map": [
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ],
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 1
                    },
                    {
                        "x": 0,
                        "y": 1
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ],
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 1
                    },
                    {
                        "x": 0,
                        "y": 1
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ],
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ],
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ]
            ],
            "invites": [],
            "maxTurns": "1",
            "@name": "Level 1.2"
        },
        "13": {
            "type": "ProgGameLevel",
            "plugins": [],
            "intro": "<p>Pas de nouvelles fonctions dans l'API pour cette fois.</p>\n<p>&nbsp;</p>\n<p>Confirmez seulement votre ma&icirc;trise&nbsp;avec cette s&eacute;quence un peu plus longue.</p>",
            "label": "Level 1.3 - Getting harder",
            "objects": [
                {
                    "id": "Player",
                    "x": 0,
                    "y": 2,
                    "direction": 2,
                    "collides": "",
                    "components": "PC"
                },
                {
                    "id": "Enemy",
                    "x": 6,
                    "y": 2,
                    "direction": 4,
                    "collides": false,
                    "components": "NPC"
                }
            ],
            "api": [
                "move",
                "left",
                "right"
            ],
            "winningCondition": "objects[0].x===objects[1].x && objects[0].y===objects[1].y",
            "onStart": "",
            "onAction": "",
            "onWin": "currentLevel.value=21",
            "defaultCode": "\n",
            "map": [
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ],
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 1
                    },
                    {
                        "x": 0,
                        "y": 1
                    },
                    {
                        "x": 0,
                        "y": 1
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ],
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 1
                    },
                    {
                        "x": 0,
                        "y": 1
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 1
                    },
                    {
                        "x": 0,
                        "y": 1
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ],
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 1
                    },
                    {
                        "x": 0,
                        "y": 1
                    },
                    {
                        "x": 0,
                        "y": 1
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ],
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ]
            ],
            "invites": [],
            "maxTurns": "1",
            "@name": "Level 1.3"
        },
        "21": {
            "type": "ProgGameLevel",
            "plugins": [],
            "intro": "<p>Une porte vous emp&ecirc;che de rejoindre votre ami. Mais la porte&nbsp;s'ouvrira si vous lui annoncez le&nbsp;bon mot de passe, qui&nbsp;est \"1234\".</p>\n<p>&nbsp;</p>\n<p>Utilisez votre nouvelle fonction&nbsp;<span style=\"font-family: 'courier new', courier;\">say(text)</span><span style=\"font-family: 'courier new', courier;\"><em>.</em></span> Cette fonction&nbsp;poss&egrave;de un <strong>param&egrave;tre </strong><em>text</em>, qui&nbsp;repr&eacute;sente ce que va dire votre avatar. Dans cas, le&nbsp;<em>text&nbsp;</em>est le mot de passe.</p>",
            "label": "Level 2.1",
            "map": [
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ],
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ],
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 1
                    },
                    {
                        "x": 0,
                        "y": 1
                    },
                    {
                        "x": 0,
                        "y": 1
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ],
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ],
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ],
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ]
            ],
            "objects": [
                {
                    "id": "Door",
                    "x": 2,
                    "y": 2,
                    "open": false,
                    "components": "Door"
                },
                {
                    "id": "Player",
                    "x": 0,
                    "y": 2,
                    "direction": 2,
                    "collides": "",
                    "components": "PC"
                },
                {
                    "id": "Enemy",
                    "x": 4,
                    "y": 2,
                    "direction": 4,
                    "collides": false,
                    "components": "NPC"
                }
            ],
            "api": [
                "move",
                "left",
                "right",
                "say"
            ],
            "winningCondition": "comparePos(find('Player'), find('Enemy'))",
            "onStart": "",
            "onAction": "if((\"\"+said).indexOf(\"1234\")>=0) {doOpen(find('Door'));}",
            "onWin": "currentLevel.value=22",
            "defaultCode": "",
            "invites": [
                "He! Le password c'est 1234 !",
                "Tu m'écoutes? 1234 je te dis !"
            ],
            "maxTurns": "1",
            "@name": "Level 2.1"
        },
        "22": {
            "id": 7,
            "type": "ProgGameLevel",
            "plugins": [],
            "intro": "<p>Dans ce niveau, la mot de passe est &eacute;crit sur le panneau. D&eacute;placez votre personnage&nbsp;jusqu'au panneau, lisez ce qui est &eacute;crit&nbsp;avec la fonction read():Number et stockez l'information dans une variable. Puis,&nbsp; dites&nbsp;le mot de passe pour ouvrir la porte.</p>\n<p>&nbsp;</p>\n<p>Si vous n'arrivez pas &agrave; r&eacute;soudre cette &eacute;nigme, n'h&eacute;sitez pas &agrave; consulter votre bo&icirc;te mail.</p>\n<p>&nbsp;</p>",
            "label": "Level 2.2",
            "map": [
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ],
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ],
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 1
                    },
                    {
                        "x": 0,
                        "y": 1
                    },
                    {
                        "x": 0,
                        "y": 1
                    },
                    {
                        "x": 0,
                        "y": 1
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ],
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ],
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ]
            ],
            "objects": [
                {
                    "id": "Door",
                    "x": 4,
                    "y": 2,
                    "open": false,
                    "components": "Door"
                },
                {
                    "id": "Panel",
                    "value": "panelValue",
                    "x": 2,
                    "y": 2,
                    "collides": false,
                    "components": "Panel"
                },
                {
                    "id": "Enemy",
                    "x": 5,
                    "y": 2,
                    "direction": 4,
                    "collides": false,
                    "components": "NPC"
                },
                {
                    "id": "Player",
                    "x": 0,
                    "y": 2,
                    "direction": 2,
                    "collides": "",
                    "components": "PC"
                }
            ],
            "api": [
                "move",
                "left",
                "right",
                "say",
                "read"
            ],
            "winningCondition": "comparePos(find('Player'), find('Enemy'))",
            "onStart": "panelValue = Math.round(Math.random()*100)",
            "onAction": "if(said === panelValue) {doOpen(find('Door'));}",
            "onWin": "currentLevel.value=23",
            "defaultCode": "",
            "invites": [],
            "maxTurns": "1",
            "@name": "Level 2.2"
        },
        "23": {
            "type": "ProgGameLevel",
            "plugins": [],
            "intro": "<p>Le mot de passe est&nbsp;la somme des nombres&nbsp;inscrits sur les deux panneaux.&nbsp;</p>\n<p>&nbsp;</p>\n<p>Indice: stocker dans des variables&nbsp;les valeurs &eacute;crites sur les panneaux.</p>",
            "label": "Level 2.3",
            "map": [
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ],
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ],
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 1
                    },
                    {
                        "x": 0,
                        "y": 1
                    },
                    {
                        "x": 0,
                        "y": 1
                    },
                    {
                        "x": 0,
                        "y": 1
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ],
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ],
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ]
            ],
            "objects": [
                {
                    "id": "Enemy",
                    "x": 5,
                    "y": 2,
                    "direction": 4,
                    "collides": false,
                    "components": "NPC"
                },
                {
                    "id": "Door",
                    "x": 4,
                    "y": 2,
                    "open": false,
                    "components": "Door"
                },
                {
                    "id": "Panel",
                    "value": "panelValue1",
                    "x": 1,
                    "y": 2,
                    "collides": false,
                    "components": "Panel"
                },
                {
                    "id": "Panel",
                    "value": "panelValue2",
                    "x": 2,
                    "y": 2,
                    "collides": false,
                    "components": "Panel"
                },
                {
                    "id": "Player",
                    "x": 0,
                    "y": 2,
                    "direction": 2,
                    "collides": "",
                    "components": "PC"
                }
            ],
            "api": [
                "move",
                "left",
                "right",
                "say",
                "read"
            ],
            "winningCondition": "comparePos(find('Player'), find('Enemy'))",
            "onStart": "panelValue1 = Math.round(Math.random()*10);panelValue2 = Math.round(Math.random()*10);",
            "onAction": "if(said === (panelValue1 + panelValue2)) {doOpen(find('Door'));}",
            "onWin": "currentLevel.value=24",
            "defaultCode": "",
            "invites": [],
            "maxTurns": "1",
            "@name": "Level 2.3"
        },
        "24": {
            "type": "ProgGameLevel",
            "plugins": [],
            "intro": "<p>L'API poss&egrave;de maintenant sa premi&egrave;re fonction math&eacute;matique: la&nbsp;fonction <span style=\"font-family: 'courier new', courier;\">Math.round(x:Number):Number</span><em><span style=\"font-family: 'courier new', courier;\">,</span> </em>qui&nbsp;permet d'arrondir un nombre au&nbsp;nombre entier le plus proche.</p>\n<p>&nbsp;</p>\n<p>Cette fonction poss&egrave;de donc un param&egrave;tre d'entr&eacute;e x (le nombre &agrave; arrondir) et retourne un nombre.</p>\n<p>&nbsp;</p>\n<p>Sur le panneau est inscrit un nombre avec 2 d&eacute;cimales. Le mot de passe pour ouvrir la porte est le nombre&nbsp;entier le plus proche.</p>",
            "label": "Level 2.4",
            "map": [
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ],
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ],
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 1
                    },
                    {
                        "x": 0,
                        "y": 1
                    },
                    {
                        "x": 0,
                        "y": 1
                    },
                    {
                        "x": 0,
                        "y": 1
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ],
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ],
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ]
            ],
            "objects": [
                {
                    "id": "Enemy",
                    "x": 5,
                    "y": 2,
                    "direction": 4,
                    "collides": false,
                    "components": "NPC"
                },
                {
                    "id": "Door",
                    "x": 4,
                    "y": 2,
                    "open": false,
                    "components": "Door"
                },
                {
                    "id": "Panel",
                    "value": "panelValue1",
                    "x": 1,
                    "y": 2,
                    "collides": false,
                    "components": "Panel"
                },
                {
                    "id": "Player",
                    "x": 0,
                    "y": 2,
                    "direction": 2,
                    "collides": "",
                    "components": "PC"
                }
            ],
            "api": [
                "move",
                "left",
                "right",
                "say",
                "read",
                "Math.round"
            ],
            "winningCondition": "comparePos(find('Player'), find('Enemy'))",
            "onStart": "panelValue1 = (Math.round(Math.random()*10000))/100;",
            "onAction": "if(said === Math.round(panelValue1)) {doOpen(find('Door'));}",
            "onWin": "currentLevel.value=31",
            "defaultCode": "",
            "invites": [],
            "maxTurns": "1",
            "@name": "Level 2.4"
        },
        "31": {
            "type": "ProgGameLevel",
            "plugins": [],
            "intro": "<p>Deux chemins s'offrent &agrave; vous, mais un des deux est pi&eacute;g&eacute;.</p>\n<p>&nbsp;</p>\n<p>Lisez la valeur contenue sur le panneau et si elle est sup&eacute;rieure &agrave; 1, cela signifie c'est&nbsp;le chemin du haut qui est pi&eacute;g&eacute;. Sinon c'est le chemin du bas qui l'est.</p>",
            "label": "Level 3.1",
            "map": [
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ],
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 1
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 1
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ],
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 1
                    },
                    {
                        "x": 0,
                        "y": 1
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ],
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 1
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 1
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ],
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ]
            ],
            "objects": [
                {
                    "id": "Enemy",
                    "x": 4,
                    "y": 2,
                    "direction": 4,
                    "collides": false,
                    "components": "NPC"
                },
                {
                    "id": "Trap1",
                    "x": 3,
                    "y": 3,
                    "enabled": true,
                    "components": "Trap"
                },
                {
                    "id": "Panel",
                    "value": "panelValue1",
                    "x": 1,
                    "y": 2,
                    "collides": false,
                    "components": "Panel"
                },
                {
                    "id": "Trap2",
                    "x": 3,
                    "y": 1,
                    "enabled": true,
                    "components": "Trap"
                },
                {
                    "id": "Player",
                    "x": 0,
                    "y": 2,
                    "direction": 2,
                    "collides": "",
                    "components": "PC"
                }
            ],
            "api": [
                "move",
                "left",
                "right",
                "say",
                "read",
                "Math.round"
            ],
            "winningCondition": "comparePos(find('Player'), find('Enemy'))",
            "onStart": "panelValue1 = Math.random() * 2;\nif (panelValue1>1) {\n    find('Trap1').enabled = false;\n} else {\n    find('Trap2').enabled = false;\n}",
            "onAction": "",
            "onWin": "currentLevel.value=41",
            "defaultCode": "//Put your code here...\n",
            "invites": [],
            "maxTurns": "1",
            "@name": "Level 3.1"
        },
        "41": {
            "type": "ProgGameLevel",
            "plugins": [],
            "intro": "<p>Dans ce niveau,&nbsp;le panneau a certaines propri&eacute;t&eacute;s magiques. En effet, il change de nombre &agrave; chaque fois que vous lisez &agrave; nouveau&nbsp;ce qui y est &eacute;crit.</p>\n<p>&nbsp;</p>\n<p>Il vous faudra relire le panneau&nbsp;jusqu'&agrave; ce qu'il annonce un nombre plus grand que 10.</p>\n<p>&nbsp;</p>\n<p>On aimerait donc demander au programme de relire le nombre jusqu'&agrave; ce qu'il soit sup&eacute;rieur &agrave; 10. Ceci peut&nbsp;se faire en utilisant une&nbsp;<strong>boucle</strong>.</p>\n<p>&nbsp;</p>\n<p><em>Si n&eacute;cessaire, vous avez re&ccedil;u un mail avec un d&eacute;but de th&eacute;orie relative aux boucles.</em></p>\n<p>&nbsp;</p>",
            "label": "Level 4.1",
            "map": [
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ],
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ],
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 1
                    },
                    {
                        "x": 0,
                        "y": 1
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 1
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ],
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ],
                [
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    },
                    {
                        "x": 0,
                        "y": 0
                    }
                ]
            ],
            "objects": [
                {
                    "id": "Enemy",
                    "x": 5,
                    "y": 2,
                    "direction": 4,
                    "collides": false,
                    "components": "NPC"
                },
                {
                    "id": "Player",
                    "x": 0,
                    "y": 2,
                    "direction": 2,
                    "collides": "",
                    "components": "PC"
                },
                {
                    "id": "pannel1",
                    "value": "pannelValue1",
                    "x": 1,
                    "y": 2,
                    "collides": false,
                    "components": "Panel"
                },
                {
                    "id": "Trap",
                    "x": 3,
                    "y": 2,
                    "enabled": true,
                    "components": "Trap"
                }
            ],
            "api": [
                "move",
                "left",
                "right",
                "say",
                "read",
                "Math.round"
            ],
            "winningCondition": "comparePos(find('Player'), find('Enemy'))",
            "onStart": "pannelValue1 = Math.round(Math.random()*15);",
            "onAction": "\r\n if (lastCommand().type === \"say\") {\r\n\tpannelValue1 = Math.round(Math.random()*15);\r\n\tif (pannelValue1 >= 10){\r\n\t\tfind('Trap').enabled = false;\r\n\t}\r\n}\r\n",
            "onWin": "currentLevel.value=42",
            "defaultCode": "",
            "invites": [],
            "maxTurns": "1",
            "@name": "Level 4.1"
        },
        "401": {
            "type": "AbsoluteLayout",
            "plugins": [
                {
                    "fn": "CSSSize",
                    "cfg": {
                        "styles": {
                            "position": "absolute"
                        }
                    }
                },
                {
                    "fn": "CSSStyles",
                    "cfg": {
                        "styles": {
                            "background": "url(wegas-proggame/images/proggame-level-1.png)"
                        }
                    }
                }
            ],
            "children": [
                {
                    "label": "STAGE<br /> 1.1",
                    "type": "Button",
                    "cssClass": "proggame-button-stage",
                    "plugins": [
                        {
                            "fn": "OpenPageAction",
                            "cfg": {
                                "targetEvent": "click",
                                "subpageId": "11",
                                "targetPageLoaderId": "maindisplayarea",
                                "subpageVariable": {
                                    "@class": "Script",
                                    "content": "Variable.find(gameModel, \"money\")"
                                }
                            }
                        },
                        {
                            "fn": "CSSPosition",
                            "cfg": {
                                "styles": {
                                    "position": "absolute",
                                    "zIndex": "10",
                                    "top": "104px",
                                    "left": "171px",
                                    "bottom": "",
                                    "right": ""
                                }
                            }
                        },
                        {
                            "fn": "CSSSize",
                            "cfg": {
                                "styles": {
                                    "width": "60px",
                                    "height": "60px"
                                }
                            }
                        },
                        {
                            "fn": "ConditionalDisable",
                            "cfg": {
                                "condition": {
                                    "@class": "Script",
                                    "content": "Variable.find(gameModel, \"maxLevel\").getValue(self)>11"
                                },
                                "attribute": "cssClass",
                                "value": "proggame-button-stagefinished"
                            }
                        }
                    ],
                    "data": {},
                    "class": true
                },
                {
                    "label": "STAGE<br /> 1.2",
                    "type": "Button",
                    "cssClass": "proggame-button-stage",
                    "plugins": [
                        {
                            "fn": "ConditionalDisable",
                            "cfg": {
                                "condition": {
                                    "@class": "Script",
                                    "content": "Variable.find(gameModel, \"maxLevel\").getValue(self)>12"
                                },
                                "attribute": "cssClass",
                                "value": "proggame-button-stagefinished"
                            }
                        },
                        {
                            "fn": "ConditionalDisable2",
                            "cfg": {
                                "condition": {
                                    "@class": "Script",
                                    "content": "Variable.find(gameModel, \"maxLevel\").getValue(self)<12"
                                },
                                "attribute": "disabled",
                                "value": ""
                            }
                        },
                        {
                            "fn": "OpenPageAction",
                            "cfg": {
                                "targetEvent": "click",
                                "subpageId": "12",
                                "targetPageLoaderId": "maindisplayarea",
                                "subpageVariable": {
                                    "@class": "Script",
                                    "content": "Variable.find(gameModel, \"money\")"
                                }
                            }
                        },
                        {
                            "fn": "CSSPosition",
                            "cfg": {
                                "styles": {
                                    "position": "absolute",
                                    "zIndex": "10",
                                    "top": "128px",
                                    "left": "452px",
                                    "bottom": "",
                                    "right": ""
                                }
                            }
                        },
                        {
                            "fn": "CSSSize",
                            "cfg": {
                                "styles": {
                                    "width": "60px",
                                    "height": "60px"
                                }
                            }
                        }
                    ],
                    "data": {}
                },
                {
                    "label": "STAGE<br /> 1.3",
                    "type": "Button",
                    "cssClass": "proggame-button-stage",
                    "plugins": [
                        {
                            "fn": "ConditionalDisable",
                            "cfg": {
                                "condition": {
                                    "@class": "Script",
                                    "content": "Variable.find(gameModel, \"maxLevel\").getValue(self)<13"
                                },
                                "attribute": "disabled",
                                "value": ""
                            }
                        },
                        {
                            "fn": "ConditionalDisable2",
                            "cfg": {
                                "condition": {
                                    "@class": "Script",
                                    "content": "Variable.find(gameModel, \"maxLevel\").getValue(self)>13"
                                },
                                "attribute": "cssClass",
                                "value": "proggame-button-stagefinished"
                            }
                        },
                        {
                            "fn": "OpenPageAction",
                            "cfg": {
                                "targetEvent": "click",
                                "subpageId": "13",
                                "targetPageLoaderId": "maindisplayarea",
                                "subpageVariable": {
                                    "@class": "Script",
                                    "content": "Variable.find(gameModel, \"money\")"
                                }
                            }
                        },
                        {
                            "fn": "CSSPosition",
                            "cfg": {
                                "styles": {
                                    "position": "absolute",
                                    "zIndex": "10",
                                    "top": "370px",
                                    "left": "119px",
                                    "bottom": "",
                                    "right": ""
                                }
                            }
                        },
                        {
                            "fn": "CSSSize",
                            "cfg": {
                                "styles": {
                                    "width": "60px",
                                    "height": "60px"
                                }
                            }
                        }
                    ],
                    "data": {}
                }
            ],
            "@name": "Map level 1"
        },
        "402": {
            "type": "AbsoluteLayout",
            "plugins": [
                {
                    "fn": "CSSSize",
                    "cfg": {
                        "styles": {
                            "position": "absolute"
                        }
                    }
                },
                {
                    "fn": "CSSStyles",
                    "cfg": {
                        "styles": {
                            "background": "url(wegas-proggame/images/proggame-level-2.png)"
                        }
                    }
                }
            ],
            "children": [
                {
                    "label": "STAGE<br /> 2.1",
                    "type": "Button",
                    "cssClass": "proggame-button-stage",
                    "plugins": [
                        {
                            "fn": "ConditionalDisable",
                            "cfg": {
                                "condition": {
                                    "@class": "Script",
                                    "content": "Variable.find(gameModel, \"maxLevel\").getValue(self)<21"
                                },
                                "attribute": "disabled",
                                "value": ""
                            }
                        },
                        {
                            "fn": "ConditionalDisable2",
                            "cfg": {
                                "condition": {
                                    "@class": "Script",
                                    "content": "Variable.find(gameModel, \"maxLevel\").getValue(self)>21"
                                },
                                "attribute": "cssClass",
                                "value": "proggame-button-stagefinished"
                            }
                        },
                        {
                            "fn": "OpenPageAction",
                            "cfg": {
                                "targetEvent": "click",
                                "subpageId": "21",
                                "targetPageLoaderId": "maindisplayarea",
                                "subpageVariable": {
                                    "@class": "Script",
                                    "content": "Variable.find(gameModel, \"money\")"
                                }
                            }
                        },
                        {
                            "fn": "CSSPosition",
                            "cfg": {
                                "styles": {
                                    "position": "absolute",
                                    "zIndex": "10",
                                    "top": "50px",
                                    "left": "85px",
                                    "bottom": "",
                                    "right": ""
                                }
                            }
                        },
                        {
                            "fn": "CSSSize",
                            "cfg": {
                                "styles": {
                                    "width": "60px",
                                    "height": "60px"
                                }
                            }
                        }
                    ],
                    "data": {}
                },
                {
                    "label": "STAGE<br /> 2.2",
                    "type": "Button",
                    "cssClass": "proggame-button-stage",
                    "plugins": [
                        {
                            "fn": "ConditionalDisable",
                            "cfg": {
                                "condition": {
                                    "@class": "Script",
                                    "content": "Variable.find(gameModel, \"maxLevel\").getValue(self)<22"
                                },
                                "attribute": "disabled",
                                "value": ""
                            }
                        },
                        {
                            "fn": "ConditionalDisable2",
                            "cfg": {
                                "condition": {
                                    "@class": "Script",
                                    "content": "Variable.find(gameModel, \"maxLevel\").getValue(self)>22"
                                },
                                "attribute": "cssClass",
                                "value": "proggame-button-stagefinished"
                            }
                        },
                        {
                            "fn": "OpenPageAction",
                            "cfg": {
                                "targetEvent": "click",
                                "subpageId": "22",
                                "targetPageLoaderId": "maindisplayarea",
                                "subpageVariable": {
                                    "@class": "Script",
                                    "content": "Variable.find(gameModel, \"money\")"
                                }
                            }
                        },
                        {
                            "fn": "CSSPosition",
                            "cfg": {
                                "styles": {
                                    "position": "absolute",
                                    "zIndex": "10",
                                    "top": "210px",
                                    "left": "420px",
                                    "bottom": "",
                                    "right": ""
                                }
                            }
                        },
                        {
                            "fn": "CSSSize",
                            "cfg": {
                                "styles": {
                                    "width": "60px",
                                    "height": "60px"
                                }
                            }
                        }
                    ],
                    "data": {}
                },
                {
                    "label": "STAGE<br /> 2.3",
                    "type": "Button",
                    "cssClass": "proggame-button-stage",
                    "plugins": [
                        {
                            "fn": "ConditionalDisable",
                            "cfg": {
                                "condition": {
                                    "@class": "Script",
                                    "content": "Variable.find(gameModel, \"maxLevel\").getValue(self)<23"
                                },
                                "attribute": "disabled",
                                "value": ""
                            }
                        },
                        {
                            "fn": "ConditionalDisable2",
                            "cfg": {
                                "condition": {
                                    "@class": "Script",
                                    "content": "Variable.find(gameModel, \"maxLevel\").getValue(self)>23"
                                },
                                "attribute": "cssClass",
                                "value": "proggame-button-stagefinished"
                            }
                        },
                        {
                            "fn": "OpenPageAction",
                            "cfg": {
                                "targetEvent": "click",
                                "subpageId": "23",
                                "targetPageLoaderId": "maindisplayarea",
                                "subpageVariable": {
                                    "@class": "Script",
                                    "content": "Variable.find(gameModel, \"money\")"
                                }
                            }
                        },
                        {
                            "fn": "CSSPosition",
                            "cfg": {
                                "styles": {
                                    "position": "absolute",
                                    "zIndex": "10",
                                    "top": "410px",
                                    "left": "131px",
                                    "bottom": "",
                                    "right": ""
                                }
                            }
                        },
                        {
                            "fn": "CSSSize",
                            "cfg": {
                                "styles": {
                                    "width": "60px",
                                    "height": "60px"
                                }
                            }
                        }
                    ],
                    "data": {}
                },
                {
                    "label": "STAGE<br /> 2.4",
                    "type": "Button",
                    "cssClass": "proggame-button-stage",
                    "plugins": [
                        {
                            "fn": "ConditionalDisable",
                            "cfg": {
                                "condition": {
                                    "@class": "Script",
                                    "content": "Variable.find(gameModel, \"currentLevel\").getValue(self)<24",
                                    "language": "JavaScript"
                                },
                                "attribute": "disabled",
                                "value": ""
                            }
                        },
                        {
                            "fn": "ConditionalDisable2",
                            "cfg": {
                                "condition": {
                                    "@class": "Script",
                                    "content": "Variable.find(gameModel, \"maxLevel\").getValue(self)>24"
                                },
                                "attribute": "cssClass",
                                "value": "proggame-button-stagefinished"
                            }
                        },
                        {
                            "fn": "OpenPageAction",
                            "cfg": {
                                "targetEvent": "click",
                                "subpageId": "24",
                                "targetPageLoaderId": "maindisplayarea"
                            }
                        },
                        {
                            "fn": "CSSPosition",
                            "cfg": {
                                "styles": {
                                    "position": "absolute",
                                    "top": "442px",
                                    "left": "450px"
                                }
                            }
                        },
                        {
                            "fn": "CSSSize",
                            "cfg": {
                                "styles": {
                                    "position": "absolute",
                                    "width": "60px",
                                    "height": "60px"
                                }
                            }
                        }
                    ]
                }
            ],
            "@name": "Map level 2"
        },
        "403": {
            "type": "AbsoluteLayout",
            "plugins": [
                {
                    "fn": "CSSSize",
                    "cfg": {
                        "styles": {
                            "position": "absolute"
                        }
                    }
                },
                {
                    "fn": "CSSStyles",
                    "cfg": {
                        "styles": {
                            "background": "url(wegas-proggame/images/proggame-level-3.png)"
                        }
                    }
                }
            ],
            "children": [
                {
                    "label": "STAGE<br /> 3.1",
                    "type": "Button",
                    "cssClass": "proggame-button-stage",
                    "plugins": [
                        {
                            "fn": "ConditionalDisable",
                            "cfg": {
                                "condition": {
                                    "@class": "Script",
                                    "content": "Variable.find(gameModel, \"maxLevel\").getValue(self)<31"
                                },
                                "attribute": "disabled",
                                "value": ""
                            }
                        },
                        {
                            "fn": "ConditionalDisable2",
                            "cfg": {
                                "condition": {
                                    "@class": "Script",
                                    "content": "Variable.find(gameModel, \"maxLevel\").getValue(self)>31"
                                },
                                "attribute": "cssClass",
                                "value": "proggame-button-stagefinished"
                            }
                        },
                        {
                            "fn": "OpenPageAction",
                            "cfg": {
                                "targetEvent": "click",
                                "subpageId": "31",
                                "targetPageLoaderId": "maindisplayarea",
                                "subpageVariable": {
                                    "@class": "Script",
                                    "content": "Variable.find(gameModel, \"money\")"
                                }
                            }
                        },
                        {
                            "fn": "CSSPosition",
                            "cfg": {
                                "styles": {
                                    "position": "absolute",
                                    "zIndex": "10",
                                    "top": "221px",
                                    "left": "121px",
                                    "bottom": "",
                                    "right": ""
                                }
                            }
                        },
                        {
                            "fn": "CSSSize",
                            "cfg": {
                                "styles": {
                                    "width": "60px",
                                    "height": "60px"
                                }
                            }
                        }
                    ],
                    "data": {}
                }
            ],
            "@name": "Map level 3"
        },
        "404": {
            "type": "AbsoluteLayout",
            "plugins": [
                {
                    "fn": "CSSSize",
                    "cfg": {
                        "styles": {
                            "position": "absolute"
                        }
                    }
                },
                {
                    "fn": "CSSStyles",
                    "cfg": {
                        "styles": {
                            "background": "url(wegas-proggame/images/proggame-level-4.png)"
                        }
                    }
                }
            ],
            "children": [
                {
                    "label": "STAGE<br /> 4.1",
                    "type": "Button",
                    "cssClass": "proggame-button-stage",
                    "plugins": [
                        {
                            "fn": "ConditionalDisable",
                            "cfg": {
                                "condition": {
                                    "@class": "Script",
                                    "content": "Variable.find(gameModel, \"maxLevel\").getValue(self)<41"
                                },
                                "attribute": "disabled",
                                "value": ""
                            }
                        },
                        {
                            "fn": "ConditionalDisable2",
                            "cfg": {
                                "condition": {
                                    "@class": "Script",
                                    "content": "Variable.find(gameModel, \"maxLevel\").getValue(self)>41"
                                },
                                "attribute": "cssClass",
                                "value": "proggame-button-stagefinished"
                            }
                        },
                        {
                            "fn": "OpenPageAction",
                            "cfg": {
                                "targetEvent": "click",
                                "subpageId": "41",
                                "targetPageLoaderId": "maindisplayarea",
                                "subpageVariable": {
                                    "@class": "Script",
                                    "content": "Variable.find(gameModel, \"money\")"
                                }
                            }
                        },
                        {
                            "fn": "CSSPosition",
                            "cfg": {
                                "styles": {
                                    "position": "absolute",
                                    "zIndex": "10",
                                    "top": "330px",
                                    "left": "150px",
                                    "bottom": "",
                                    "right": ""
                                }
                            }
                        },
                        {
                            "fn": "CSSSize",
                            "cfg": {
                                "styles": {
                                    "width": "60px",
                                    "height": "60px"
                                }
                            }
                        }
                    ],
                    "data": {}
                }
            ],
            "@name": "Map level 4"
        },
        "5Unused": {
            "label": "Level 3",
            "type": "ProgGameLevel",
            "maxTurns": 2,
            "winningCondition": "level.objects[0].life===0",
            "onWin": "currentLevel.value=7;money.value+=500;",
            "api": [
                "move",
                "left",
                "right",
                "fire"
            ],
            "objects": [
                {
                    "id": "Enemy",
                    "components": "NPC",
                    "direction": 4,
                    "x": 7,
                    "y": 3,
                    "actions": 5,
                    "ai": "left();\nmove();\nright();\nmove();\nmove();"
                },
                {
                    "id": "Player",
                    "components": "PC",
                    "direction": 2,
                    "x": 1,
                    "y": 3,
                    "actions": 5
                }
            ],
            "map": [
                [
                    {
                        "x": 21,
                        "y": 17
                    },
                    {
                        "x": 21,
                        "y": 17
                    },
                    {
                        "x": 21,
                        "y": 17
                    },
                    {
                        "x": 21,
                        "y": 17
                    },
                    {
                        "x": 21,
                        "y": 17
                    },
                    {
                        "x": 21,
                        "y": 17
                    },
                    {
                        "x": 21,
                        "y": 17
                    },
                    {
                        "x": 21,
                        "y": 17
                    }
                ],
                [
                    {
                        "x": 21,
                        "y": 5
                    },
                    {
                        "x": 21,
                        "y": 5
                    },
                    {
                        "x": 21,
                        "y": 5
                    },
                    {
                        "x": 21,
                        "y": 5
                    },
                    {
                        "x": 21,
                        "y": 5
                    },
                    {
                        "x": 21,
                        "y": 5
                    },
                    {
                        "x": 21,
                        "y": 5
                    },
                    {
                        "x": 21,
                        "y": 5
                    }
                ],
                [
                    {
                        "x": 21,
                        "y": 5
                    },
                    {
                        "x": 21,
                        "y": 5
                    },
                    {
                        "x": 17,
                        "y": 5
                    },
                    {
                        "x": 17,
                        "y": 5
                    },
                    {
                        "x": 17,
                        "y": 5
                    },
                    {
                        "x": 21,
                        "y": 5
                    },
                    {
                        "x": 21,
                        "y": 5
                    },
                    {
                        "x": 21,
                        "y": 5
                    }
                ],
                [
                    {
                        "x": 21,
                        "y": 5
                    },
                    {
                        "x": 21,
                        "y": 5
                    },
                    {
                        "x": 17,
                        "y": 5
                    },
                    {
                        "x": 21,
                        "y": 5
                    },
                    {
                        "x": 17,
                        "y": 5
                    },
                    {
                        "x": 21,
                        "y": 5
                    },
                    {
                        "x": 21,
                        "y": 5
                    },
                    {
                        "x": 21,
                        "y": 5
                    }
                ],
                [
                    {
                        "x": 17,
                        "y": 5
                    },
                    {
                        "x": 17,
                        "y": 5
                    },
                    {
                        "x": 17,
                        "y": 5
                    },
                    {
                        "x": 21,
                        "y": 5
                    },
                    {
                        "x": 17,
                        "y": 5
                    },
                    {
                        "x": 17,
                        "y": 5
                    },
                    {
                        "x": 17,
                        "y": 5
                    },
                    {
                        "x": 17,
                        "y": 5
                    }
                ],
                [
                    {
                        "x": 21,
                        "y": 5
                    },
                    {
                        "x": 21,
                        "y": 5
                    },
                    {
                        "x": 17,
                        "y": 5
                    },
                    {
                        "x": 21,
                        "y": 5
                    },
                    {
                        "x": 17,
                        "y": 5
                    },
                    {
                        "x": 21,
                        "y": 5
                    },
                    {
                        "x": 21,
                        "y": 5
                    },
                    {
                        "x": 21,
                        "y": 5
                    }
                ],
                [
                    {
                        "x": 21,
                        "y": 5
                    },
                    {
                        "x": 21,
                        "y": 5
                    },
                    {
                        "x": 17,
                        "y": 5
                    },
                    {
                        "x": 17,
                        "y": 5
                    },
                    {
                        "x": 17,
                        "y": 5
                    },
                    {
                        "x": 21,
                        "y": 5
                    },
                    {
                        "x": 21,
                        "y": 5
                    },
                    {
                        "x": 21,
                        "y": 5
                    }
                ],
                [
                    {
                        "x": 21,
                        "y": 5
                    },
                    {
                        "x": 21,
                        "y": 5
                    },
                    {
                        "x": 21,
                        "y": 5
                    },
                    {
                        "x": 21,
                        "y": 5
                    },
                    {
                        "x": 21,
                        "y": 5
                    },
                    {
                        "x": 21,
                        "y": 5
                    },
                    {
                        "x": 21,
                        "y": 5
                    },
                    {
                        "x": 21,
                        "y": 5
                    }
                ],
                [
                    {
                        "x": 21,
                        "y": 17
                    },
                    {
                        "x": 21,
                        "y": 17
                    },
                    {
                        "x": 21,
                        "y": 17
                    },
                    {
                        "x": 21,
                        "y": 17
                    },
                    {
                        "x": 21,
                        "y": 17
                    },
                    {
                        "x": 21,
                        "y": 17
                    },
                    {
                        "x": 21,
                        "y": 17
                    },
                    {
                        "x": 21,
                        "y": 17
                    }
                ]
            ],
            "intro": "Utilisez les fonctions de l'API pour dÃ©placer votre avatar jusqu'au personnage en jaune.",
            "@name": "Level 1.4 (not used)"
        }
    },
    "name": "Programming game",
    "description": null,
    "createdTime": 1401285365984,
    "template": true,
    "childVariableDescriptors": [
        {
            "@class": "NumberDescriptor",
            "name": "money",
            "label": "Money",
            "title": null,
            "defaultInstance": {
                "@class": "NumberInstance",
                "history": [],
                "value": 0
            },
            "scope": {
                "@class": "PlayerScope",
                "broadcastScope": "TeamScope"
            },
            "minValue": 0,
            "maxValue": null,
            "defaultValue": 0
        },
        {
            "@class": "ObjectDescriptor",
            "name": "inventory",
            "label": "Inventory",
            "title": null,
            "defaultInstance": {
                "@class": "ObjectInstance",
                "properties": {}
            },
            "scope": {
                "@class": "TeamScope",
                "broadcastScope": "TeamScope"
            },
            "description": "",
            "properties": {}
        },
        {
            "@class": "InboxDescriptor",
            "name": "inbox",
            "label": "Inbox",
            "title": null,
            "defaultInstance": {
                "@class": "InboxInstance",
                "messages": [],
                "unreadCount": 0
            },
            "scope": {
                "@class": "PlayerScope",
                "broadcastScope": "TeamScope"
            },
            "description": null
        },
        {
            "@class": "InboxDescriptor",
            "name": "files",
            "label": "Files",
            "title": null,
            "defaultInstance": {
                "@class": "InboxInstance",
                "messages": [],
                "unreadCount": 0
            },
            "scope": {
                "@class": "TeamScope",
                "broadcastScope": "TeamScope"
            },
            "description": null
        },
        {
            "@class": "NumberDescriptor",
            "name": "currentLevel",
            "label": "Current level",
            "title": null,
            "defaultInstance": {
                "@class": "NumberInstance",
                "history": [],
                "value": 11
            },
            "scope": {
                "@class": "PlayerScope",
                "broadcastScope": "TeamScope"
            },
            "minValue": null,
            "maxValue": null,
            "defaultValue": 11
        },
        {
            "@class": "NumberDescriptor",
            "name": "maxLevel",
            "label": "Max level",
            "title": null,
            "defaultInstance": {
                "@class": "NumberInstance",
                "history": [],
                "value": 11
            },
            "scope": {
                "@class": "TeamScope",
                "broadcastScope": "TeamScope"
            },
            "minValue": null,
            "maxValue": null,
            "defaultValue": 11
        },
        {
            "@class": "ListDescriptor",
            "name": "triggers",
            "label": "Triggers",
            "title": null,
            "defaultInstance": {
                "@class": "ListInstance"
            },
            "scope": {
                "@class": "TeamScope",
                "broadcastScope": "TeamScope"
            },
            "items": [
                {
                    "@class": "FSMDescriptor",
                    "name": "changeLevel",
                    "label": "Level theory mails",
                    "title": null,
                    "defaultInstance": {
                        "@class": "FSMInstance",
                        "currentStateId": 1,
                        "enabled": true,
                        "currentState": {
                            "@class": "State",
                            "label": null,
                            "onEnterEvent": {
                                "@class": "Script",
                                "content": "",
                                "language": "JavaScript"
                            },
                            "transitions": [
                                {
                                    "@class": "Transition",
                                    "triggerCondition": {
                                        "@class": "Script",
                                        "content": "",
                                        "language": "JavaScript"
                                    },
                                    "preStateImpact": {
                                        "@class": "Script",
                                        "content": "Variable.find(gameModel, \"inbox\").sendMessage(self, \"Professeur\", \"Bienvenue\", \"<p>Bienvenue dans le Programming Game.</p>\\n<p>&nbsp;</p>\\n<p>Vous trouverez des informations utiles dans la partie théorie, alors consultez-là régulièrement.</p>\", [])",
                                        "language": "JavaScript"
                                    },
                                    "nextStateId": 3
                                }
                            ],
                            "editorPosition": {
                                "@class": "Coordinate",
                                "x": 19,
                                "y": 35
                            }
                        }
                    },
                    "scope": {
                        "@class": "TeamScope",
                        "broadcastScope": "PlayerScope"
                    },
                    "states": {
                        "1": {
                            "@class": "State",
                            "label": null,
                            "onEnterEvent": {
                                "@class": "Script",
                                "content": "",
                                "language": "JavaScript"
                            },
                            "transitions": [
                                {
                                    "@class": "Transition",
                                    "triggerCondition": {
                                        "@class": "Script",
                                        "content": "",
                                        "language": "JavaScript"
                                    },
                                    "preStateImpact": {
                                        "@class": "Script",
                                        "content": "Variable.find(gameModel, \"inbox\").sendMessage(self, \"Professeur\", \"Bienvenue\", \"<p>Bienvenue dans le Programming Game.</p>\\n<p>&nbsp;</p>\\n<p>Je vous enverrai&nbsp;r&eacute;guli&eacute;rement des informations utiles et de la th&eacute;orie dans votre bo&icirc;te mail alors consultez-la r&eacute;guli&egrave;rement.</p>\", [])",
                                        "language": "JavaScript"
                                    },
                                    "nextStateId": 3
                                }
                            ],
                            "editorPosition": {
                                "@class": "Coordinate",
                                "x": 19,
                                "y": 35
                            }
                        },
                        "3": {
                            "@class": "State",
                            "label": "Level 1",
                            "onEnterEvent": {
                                "@class": "Script",
                                "content": "",
                                "language": "JavaScript"
                            },
                            "transitions": [
                                {
                                    "@class": "Transition",
                                    "triggerCondition": {
                                        "@class": "Script",
                                        "content": "Variable.find(gameModel, \"maxLevel\").getValue(self)>=21",
                                        "language": "JavaScript"
                                    },
                                    "preStateImpact": {
                                        "@class": "Script",
                                        "content": "Variable.find(gameModel, \"inbox\").sendMessage(self, \"Professeur\", \"Théorie: Les variables\", \"<p>Les&nbsp;programmes traitent en g&eacute;n&eacute;ral une grande&nbsp;quantit&eacute; d'informations qu'il est n&eacute;cessaire de pouvoir stocker, traiter et r&eacute;cup&eacute;rer.</p>\\n<p>Les&nbsp;<strong><em>variables</em>&nbsp;</strong>permettent de stocker les&nbsp;informations.&nbsp;Une variable est une sorte de bo&icirc;te qui contient des informations dont la valeur peut &ecirc;tre modifi&eacute;e par le programme (c'est pour ceci qu'on les appellent \\\"variables\\\").</p>\\n<p>&nbsp;</p>\\n<p>&nbsp;</p>\\n<p>Pour d&eacute;finir&nbsp;une variable on utilise&nbsp;le mot-cl&eacute;&nbsp;<strong>var&nbsp;</strong>suivi du nom que l'on souhaite donner &agrave; la variable. Par exemple pour d&eacute;finir&nbsp;une variable nomm&eacute;e &acirc;ge et&nbsp;y stocker une valeur on utilise&nbsp;</p>\\n<p><code><span style=\\\"font-family: 'courier new', courier;\\\">var age;<br /></span><span style=\\\"font-family: 'courier new', courier;\\\">age=22;</span></code></p>\\n<p>(Attention le nom d'une variable ne doit pas comporter&nbsp;d'espace, ni d&eacute;buter&nbsp;par un chiffre)</p>\\n<p>&nbsp;</p>\\n<p>&nbsp;</p>\\n<p>Il est possible d'affecter &agrave; une variable la valeur retourn&eacute;e par une fonction de la mani&egrave;re suivante:</p>\\n<p><span style=\\\"font-family: 'courier new', courier;\\\">var nomVariable = read();</span></p>\\n<p>Ou d'utiliser une variable comme param&egrave;tre &agrave; une fonction:</p>\\n<p><code><span style=\\\"font-family: 'courier new', courier;\\\">say(nomVariable)</span></code></p>\\n<p>&nbsp;</p>\\n<p>&nbsp;</p>\\n<p>On peut aussi effectuer des op&eacute;ration&nbsp;arithm&eacute;tiques avec les variables.</p>\\n<p><code>var longueur, largeur, surface;<br />longueur=5;<br />largeur=2;<br />surface=longeur*largeur;</code></p>\", [])",
                                        "language": "JavaScript"
                                    },
                                    "nextStateId": 4
                                }
                            ],
                            "editorPosition": {
                                "@class": "Coordinate",
                                "x": 336,
                                "y": 39
                            }
                        },
                        "4": {
                            "@class": "State",
                            "label": "Level 2",
                            "onEnterEvent": {
                                "@class": "Script",
                                "content": "",
                                "language": "JavaScript"
                            },
                            "transitions": [
                                {
                                    "@class": "Transition",
                                    "triggerCondition": {
                                        "@class": "Script",
                                        "content": "Variable.find(gameModel, \"maxLevel\").getValue(self)>=31",
                                        "language": "JavaScript"
                                    },
                                    "preStateImpact": {
                                        "@class": "Script",
                                        "content": "Variable.find(gameModel, \"inbox\").sendMessage(self, \"Professeur\", \"Théorie: Conditions & logique\", \"<p>Notre vie est remplie de d&eacute;cisions telles que \\\"si le feu est rouge, je m'arr&ecirc;te\\\" ou \\\"s'il fait chaud demain, j'irai &agrave; la piscine\\\". Ces d&eacute;cisions sont bas&eacute;es sur la r&eacute;alisation d'une condition (le feu est rouge, il fait chaud). En cas de r&eacute;alisation de cette condition, on effectue quelque chose (je m'arr&ecirc;te, aller &agrave; la piscine).</p>\\n<p>&nbsp;</p>\\n<p>Dans un programme, on peut introduire&nbsp;des d&eacute;cisions conditionnelles avec l'instruction&nbsp;<strong>if</strong><strong>.&nbsp;</strong>La structure de cette instruction est:</p>\\n<p><code><span style=\\\"font-family: 'courier new', courier;\\\">if (<em>condition r&eacute;alis&eacute;e</em>)</span>&nbsp; {<span style=\\\"font-family: 'courier new', courier;\\\">&nbsp;<br />&nbsp; &nbsp; <em>instructions</em><br /></span><span style=\\\"font-family: 'courier new', courier;\\\">}</span></code></p>\\n<p>&nbsp;</p>\\n<p>La condition peut par exemple &ecirc;tre&nbsp;que la variable temp&eacute;rature soit plus grande que 27&deg;.</p>\\n<p><code><span style=\\\"font-family: 'courier new', courier;\\\">if (temperature &gt; 27)&nbsp;</span>{<br /><span style=\\\"font-family: 'courier new', courier;\\\">&nbsp; &nbsp; demain=\\\"piscine\\\";<br /></span><span style=\\\"font-family: 'courier new', courier;\\\">}</span></code></p>\\n<p>&nbsp;</p>\\n<p>Les { } permettent de d&eacute;finir un&nbsp;<strong>bloc d'instructions,&nbsp;</strong>qui seront toutes ex&eacute;cut&eacute;es si la condition est vraie.</p>\\n<p>&nbsp;</p>\", [])",
                                        "language": "JavaScript"
                                    },
                                    "nextStateId": 5
                                }
                            ],
                            "editorPosition": {
                                "@class": "Coordinate",
                                "x": 633,
                                "y": 42
                            }
                        },
                        "5": {
                            "@class": "State",
                            "label": "Level 3",
                            "onEnterEvent": {
                                "@class": "Script",
                                "content": "",
                                "language": "JavaScript"
                            },
                            "transitions": [
                                {
                                    "@class": "Transition",
                                    "triggerCondition": {
                                        "@class": "Script",
                                        "content": "Variable.find(gameModel, \"maxLevel\").getValue(self)>=41",
                                        "language": "JavaScript"
                                    },
                                    "preStateImpact": {
                                        "@class": "Script",
                                        "content": "Variable.find(gameModel, \"inbox\").sendMessage(self, \"Professeur\", \"Théorie: Itérations\", \"<p>Les boucles sont des structures qui r&eacute;p&egrave;tent un bloc d'instruction tant qu'une condition est vraie.</p>\\n<p>&nbsp;</p>\\n<p><br />Une premi&egrave;re instruction permettant de d&eacute;finir une boucle est <strong>while</strong> (qui veut dire \\\"tant que\\\"). La structure d'une boucle while est:</p>\\n<p><code>while (<em><span style=\\\"text-decoration: underline;\\\">condition vraie</span></em>)&nbsp;{<br /> <em>instructions &agrave; r&eacute;p&ecirc;ter</em><br /> }</code></p>\\n<p>&nbsp;</p>\\n<p>&nbsp;</p>\\n<p>On peut aussi it&eacute;rer un nombre d&eacute;fini de fois en utilisant le mot cl&eacute; <strong>for </strong>(pour tout):</p>\\n<p><code>for (var i = 0; i &lt; 10; i = i + 1)&nbsp;{<br /><em>&nbsp; instructions &agrave; r&eacute;p&ecirc;ter<br /></em>}</code></p>\\n<p>Dans ce cas, la condition est i&lt;10.</p>\\n<p>i=+1 signifie qu'&agrave; chaque r&eacute;p&eacute;tition de la boucle on ajoute 1 &agrave; la valeur de i.</p>\", [])",
                                        "language": "JavaScript"
                                    },
                                    "nextStateId": 6
                                }
                            ],
                            "editorPosition": {
                                "@class": "Coordinate",
                                "x": 634,
                                "y": 199
                            }
                        },
                        "6": {
                            "@class": "State",
                            "label": "Level 4",
                            "onEnterEvent": {
                                "@class": "Script",
                                "content": "",
                                "language": "JavaScript"
                            },
                            "transitions": [],
                            "editorPosition": {
                                "@class": "Coordinate",
                                "x": 342,
                                "y": 201
                            }
                        }
                    }
                },
                {
                    "@class": "TriggerDescriptor",
                    "name": "maxLevelUpdate",
                    "label": "Max level update",
                    "title": null,
                    "defaultInstance": {
                        "@class": "TriggerInstance",
                        "currentStateId": 1,
                        "enabled": true,
                        "currentState": {
                            "@class": "State",
                            "label": null,
                            "onEnterEvent": {
                                "@class": "Script",
                                "content": "maxLevel.value = currentLevel.value",
                                "language": "JavaScript"
                            },
                            "transitions": [
                                {
                                    "@class": "Transition",
                                    "triggerCondition": {
                                        "@class": "Script",
                                        "content": "currentLevel.value > maxLevel.value",
                                        "language": "JavaScript"
                                    },
                                    "preStateImpact": null,
                                    "nextStateId": 1
                                }
                            ],
                            "editorPosition": null
                        }
                    },
                    "scope": {
                        "@class": "TeamScope",
                        "broadcastScope": "TeamScope"
                    },
                    "states": {
                        "1": {
                            "@class": "State",
                            "label": null,
                            "onEnterEvent": {
                                "@class": "Script",
                                "content": "maxLevel.value = currentLevel.value",
                                "language": "JavaScript"
                            },
                            "transitions": [
                                {
                                    "@class": "Transition",
                                    "triggerCondition": {
                                        "@class": "Script",
                                        "content": "currentLevel.value > maxLevel.value",
                                        "language": "JavaScript"
                                    },
                                    "preStateImpact": null,
                                    "nextStateId": 1
                                }
                            ],
                            "editorPosition": null
                        }
                    },
                    "oneShot": false,
                    "triggerEvent": {
                        "@class": "Script",
                        "content": "currentLevel.value > maxLevel.value",
                        "language": "JavaScript"
                    },
                    "postTriggerEvent": {
                        "@class": "Script",
                        "content": "maxLevel.value = currentLevel.value",
                        "language": "JavaScript"
                    }
                }
            ]
        }
    ],
    "scriptLibrary": {
        "Default": {
            "@class": "GameModelContent",
            "contentType": null,
            "content": "var ret = [], cObject, level, Wegas;\r\n\r\nWegas = {//                                                                     // Utilities\r\n    bind: function(fn, scope) {\r\n        var scope = scope, fn = fn;\r\n        return function() {\r\n            fn.call(scope);\r\n        };\r\n    },\r\n    mix: function(receiver, supplier) {\r\n        var i;\r\n        for (i in supplier) {\r\n            if (supplier.hasOwnProperty(i) && !receiver[i]) {\r\n                receiver[i] = supplier[i];\r\n            }\r\n        }\r\n        return receiver;\r\n    },\r\n    Object: {\r\n        values: function(object) {\r\n            var ret = [], i;\r\n            for (i in object) {\r\n                ret.push(object[i]);\r\n            }\r\n            return ret;\r\n        },\r\n        clone: function(o) {\r\n            var i, newObj = (o instanceof Array) ? [] : {};\r\n            for (i in o) {\r\n                if (i === 'clone')\r\n                    continue;\r\n                if (o[i] && typeof o[i] === \"object\") {\r\n                    newObj[i] = Wegas.Object.clone([i]);\r\n                } else\r\n                    newObj[i] = o[i];\r\n            }\r\n            return newObj;\r\n        }\r\n    }\r\n};\r\nfunction wdebug(msg) {\r\n    //println(msg);\r\n}\r\nfunction ProgGameSimulation(cfg) {\r\n    this.debug = cfg.debug || false;\r\n    this.breakpoints = cfg.breakpoints || [];\r\n    this.watches = cfg.watches || [];\r\n    this.startStep = (cfg.startStep === undefined) ? -1 : cfg.startStep;\r\n    this.targetStep = (cfg.targetStep === undefined) ? 10000000 : cfg.targetStep;\r\n    this.doRecordCommands = (cfg.doRecordCommands === undefined) ? true : cfg.recordCommands;\r\n}\r\nWegas.mix(ProgGameSimulation.prototype, {\r\n    run: function(playerFn, level) {\r\n        wdebug(\"Simulation run\");\r\n        this.args = {};\r\n        this.ret = [];\r\n        this.cObject = null;\r\n        this.said = \"\";\r\n        this.currentStep = -1;\r\n        this.level = level;\r\n        this.objects = level.objects;                                           // Shortcut to level objects\r\n        this.gameOverSent = false;\r\n\r\n        //\"sendCommand({type:'resetLevel', objects: \" + JSON.stringify(this.get(\"objects\")) + \"});\"\r\n        var o, i, j;\r\n        for (i = 0; i < this.objects.length; i += 1) {\r\n            this.objects[i].defaultActions = this.objects[i].actions;\r\n        }\r\n\r\n        if (level.onStart) {\r\n            this.doEval(level.onStart);\r\n        }\r\n        this.log('Running...');\r\n        for (i = 0; i < level.maxTurns; i += 1) {\r\n            //this.log('Turn ' + (i + 1));\r\n\r\n            for (j = 0; j < this.objects.length; j += 1) {\r\n                if (this.checkGameOver())                                       // If the game is already stopped,\r\n                    continue;                                                   // no need to continue\r\n\r\n                this.cObject = o = this.objects[j];                             // Set up a global reference\r\n\r\n                if (o.id === \"Player\") {                                        // If current object is the player,\r\n                    //this.log('Your turn');\r\n                    this.doPlayerEval(playerFn);                                // run his code\r\n                }\r\n                if (o.ai) {                                                     // If object has an AI,\r\n                    //this.log(o.id + ' turn');\r\n                    this.doEval(o.ai);                                          // run its code\r\n                }\r\n            }\r\n\r\n            //this.resetActions();                                              // Reset available action at the beginning of each turn\r\n        }\r\n        if (!this.checkGameOver()) {                                            // If the game is still not won,\r\n            this.log('You lost.');                                              // then it's definitely lost\r\n        }\r\n    },\r\n    resetActions: function() {\r\n        for (var i = 0; i < this.objects.length; i++) {\r\n            this.objects[i].actions = this.objects[i].defaultActions;\r\n            this.sendCommand({\r\n                type: \"updated\",\r\n                object: Wegas.Object.clone(this.objects[i])\r\n            });\r\n        }\r\n    },\r\n    commands: {\r\n        move: function() {\r\n        }\r\n    },\r\n    sendCommand: function(cfg) {\r\n        wdebug(\"Sendcommand \" + cfg.type + \" current line: \" + this.currentStep + \", start line:\" + this.startStep + \"*\" + this.doRecordCommands);\r\n        if (this.currentStep < this.startStep) {                                // Debug\r\n            wdebug(\"early command dropped\");\r\n            return;\r\n        }\r\n        if (this.currentStep > this.targetStep) {                               // Debug\r\n            wdebug(\"late command dropped\");\r\n            return;\r\n        }\r\n        if (!this.doRecordCommands) {\r\n            return false;\r\n        }\r\n        this.ret.push(cfg);\r\n    },\r\n    lastCommand: function() {\r\n        return this.ret[this.ret.length-1];\r\n    },\r\n    getCommands: function() {\r\n        return this.ret;\r\n    },\r\n    beforeAction: function(object) {\r\n        if (this.checkGameOver())\r\n            return false;\r\n\r\n        //if (!this.consumeActions(object, 1)) {\r\n        //    this.log(\"Not enough actions.\");\r\n        //    return false;\r\n        //}\r\n\r\n        return true;\r\n    },\r\n    afterAction: function(object) {\r\n        this.doEval(this.level.onAction);\r\n    },\r\n    log: function(text) {\r\n        if (text instanceof Object) {\r\n            text = JSON.stringify(text);\r\n        }\r\n        this.sendCommand({\r\n            type: 'log',\r\n            text: text\r\n        });\r\n    },\r\n    pushArg: function(name, val) {\r\n        this.args[name] = val;\r\n    },\r\n    getArgs: function() {\r\n        return this.args;\r\n    },\r\n    consumeActions: function(object, actions) {\r\n        //if (object.actions - actions < 0) {\r\n        //    //this.log(\"Not enough actions\");\r\n        //    return false;\r\n        //}\r\n        //object.actions -= actions;\r\n\r\n        return true;\r\n    },\r\n    say: function(msg) {\r\n        if (!this.beforeAction())\r\n            return;\r\n\r\n        this.doSay({\r\n            text: \"\" + msg\r\n        });\r\n        this.said = msg;\r\n\r\n        this.afterAction();\r\n    },\r\n    doSay: function(cfg) {\r\n        this.log(this.cObject.id + \" says \\\"\" + cfg.text + \"\\\"\");\r\n        this.sendCommand(Wegas.mix(cfg, {\r\n            type: \"say\",\r\n            id: this.cObject.id,\r\n            duration: 1500\r\n        }));\r\n    },\r\n    doOpen: function(object) {\r\n        object.open = true;\r\n        this.sendCommand({\r\n            id: object.id,\r\n            type: \"doorState\",\r\n            state: true\r\n        });\r\n    },\r\n    read: function() {\r\n        if (this.checkGameOver())\r\n            return;\r\n\r\n        var panel = this.findAt(this.cObject.x, this.cObject.y),\r\n                value;\r\n\r\n        if (panel && panel.value) {\r\n            value = this.doEval(panel.value);\r\n            this.doSay({text: \"It's written \\\"\" + value + \"\\\"\"});\r\n        } else {\r\n            this.doSay({text: \"There's nothing to read here.\"});\r\n        }\r\n        this.afterAction();\r\n            return value;\r\n    },\r\n    include: function(fileName) {\r\n        var msg, files = Variable.find(gameModel, \"files\");\r\n        if (files) {\r\n            msg = files.getInstance(self).getMessageBySubject(fileName);\r\n            if (msg) {\r\n                this.log(\"Including: \" + fileName);\r\n                this.doEval(\"\" + msg.body);\r\n                return;\r\n            }\r\n        }\r\n        this.log(\"Unable to include file: \" + fileName);\r\n    },\r\n    move: function() {\r\n        var i, o, object = this.cObject,\r\n                moveV = this.dirToVector(object.direction);\r\n        if (!this.beforeAction(object))\r\n            return;\r\n\r\n        if (!this.consumeActions(object, 1)) {\r\n            this.log(\"Not enough actions to move\");\r\n            return;\r\n        }\r\n\r\n        if (this.checkCollision(object, object.x + moveV.x, object.y + moveV.y)) {\r\n            this.doSay({text: \"Something is blocking the way\", duration: 800});\r\n            //this.log(\"Something is blocking the way\");\r\n        } else {\r\n            object.x += moveV.x;\r\n            object.y += moveV.y;\r\n            this.doMove(object);\r\n\r\n            for (i = 0; i < this.currentCollides.length; i += 1) {\r\n                o = this.currentCollides[i];\r\n                switch (o.components) {\r\n                    case \"Trap\":\r\n                        if (o.enabled) {\r\n                            this.sendCommand({\r\n                                type: \"Trap\",\r\n                                id: o.id\r\n                            });\r\n                            this.log('You lost.');                              // then it's definitely lost\r\n                            this.doRecordCommands = false;\r\n                        }\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n    },\r\n    doMove: function(object) {\r\n        this.sendCommand({\r\n            type: 'move',\r\n            dir: object.direction,\r\n            id: object.id,\r\n            x: object.x,\r\n            y: object.y\r\n        });\r\n    },\r\n    rotate: function(dir) {\r\n        var object = this.cObject;\r\n\r\n        if (!this.beforeAction(object))\r\n            return;\r\n\r\n        if (!this.consumeActions(object, 1)) {\r\n            this.log(\"Not enough actions to rotate.\");\r\n            return;\r\n        }\r\n        object.direction += dir;\r\n        if (object.direction > 4)\r\n            object.direction = 1;\r\n        if (object.direction < 1)\r\n            object.direction = 4;\r\n\r\n        this.doMove(object);                                                    // Send move command\r\n\r\n        this.afterAction();\r\n    },\r\n    right: function() {\r\n        this.rotate(-1);\r\n    },\r\n    left: function() {\r\n        this.rotate(1);\r\n    },\r\n    fire: function() {\r\n        var i, source = this.cObject;\r\n        wdebug(\"fire\" + source.actions);\r\n\r\n        if (this.checkGameOver())\r\n            return;\r\n\r\n        if (!this.consumeActions(source, 1)) {\r\n            this.log(\"Not enough actions to fire.\");\r\n            return;\r\n        }\r\n\r\n        this.sendCommand({\r\n            type: 'fire',\r\n            object: Wegas.Object.clone(source)\r\n        });\r\n\r\n        var colidee, dirV = this.dirToVector(source.direction);\r\n\r\n        for (i = 0; i <= source.range; i++) {\r\n            colidee = this.checkCollision(this.cObject, source.x + (i * dirV.x), source.y + (i * dirV.y));\r\n            if (colidee) {\r\n                colidee.life = 0;\r\n                this.sendCommand({\r\n                    type: 'die',\r\n                    object: Wegas.Object.clone(colidee)\r\n                });\r\n            }\r\n        }\r\n    },\r\n    getObjectsAt: function(x, y) {\r\n        var k, objects = [];\r\n        for (k = 0; k < this.objects.length; k++) {\r\n            if (this.objects[k].x === x && this.objects[k].y === y) {\r\n                objects.push(this.objects[k]);\r\n            }\r\n        }\r\n        return objects;\r\n    },\r\n    checkCollision: function(source, x, y) {\r\n        var o, k, collided = false,\r\n                objects = this.getObjectsAt(x, y);\r\n\r\n        this.currentCollides = [];\r\n\r\n        for (k = 0; k < objects.length; k++) {\r\n            o = objects[k];\r\n            if (o.id !== source.id) {\r\n                this.currentCollides.push(o);\r\n                collided = true;\r\n                switch (o.components) {\r\n                    case \"Door\":                                                // Doors\r\n                        if (!o.open) {\r\n                            return o;\r\n                        }\r\n                        break;\r\n                    case \"Trap\":                                                // Traps do not collide\r\n                        break;\r\n                    default:                                                    // By default check collision\r\n                        if (o.collides === undefined || o.collides) {\r\n                            return o;\r\n                        }\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n\r\n        //if (this.level.map[this.level.map.length - 1 - y][x].y === 0 ? !collided : false) {// It's a XOR\r\n        if (this.level.map[y][x].y === 0 ? !collided : false) {                 // It's a XOR\r\n            return true;\r\n        }\r\n        return false;\r\n    },\r\n    checkGameOver: function() {\r\n        if (this.gameOverSent) {\r\n            return true;\r\n        } else if (this.doEval(this.level.winningCondition)) {\r\n            this.gameOverSent = true;\r\n            this.log(\"You won!\");\r\n            this.sendCommand({\r\n                type: \"gameWon\"\r\n            });\r\n            return true;\r\n        }\r\n        return false;\r\n    },\r\n    doEval: function(code) {\r\n        try {\r\n            with (this) {\r\n                return eval(code);\r\n            }\r\n        } catch (e) {\r\n            return null;\r\n        }\r\n    },\r\n    doPlayerEval: function(playerFn) {\r\n//        var scope = {};\r\n//        for (i in this.commands) {\r\n//            scope[i] = Wegas.bind(this.commands[i], this);\r\n//        }\r\n        with (this) {\r\n            playerFn.apply(this);                                                           // run fn\r\n            //(function(that) {\r\n            //playerFn.apply(this/*, this.getArgs()));                                      // run fn\r\n            //})(this);\r\n        }\r\n    },\r\n    find: function(id) {\r\n        for (var i = 0; i < this.objects.length; i = i + 1) {\r\n            if (this.objects[i].id === id) {\r\n                return this.objects[i];\r\n            }\r\n        }\r\n        return null;\r\n    },\r\n    findAt: function(x, y) {\r\n        for (var i = 0; i < this.objects.length; i = i + 1) {\r\n            if (this.objects[i].x === x && this.objects[i].y === y\r\n                    && this.objects[i].id !== \"Player\") {\r\n                return this.objects[i];\r\n            }\r\n        }\r\n        return null;\r\n    },\r\n    findObject: function(id) {\r\n        return find(id);\r\n    },\r\n    comparePos: function(a, b) {\r\n        return a.x === b.x && a.y === b.y;\r\n    },\r\n    _____debug: function(line, scope, vars) {\r\n        this.currentStep += 1;\r\n        wdebug(\"____debug line:\" + line + \", current step \" + this.currentStep + \", startStep: \" + this.startStep);\r\n        if (this.currentStep > this.startStep) {\r\n            //&& line > this.currentStep && // first time considering this line\r\n            wdebug(\"halted\" + this.breakpoints.indexOf(line) + \"*\" + line);\r\n            if (this.breakpoints.indexOf(\"\" + line) > -1) {\r\n                this.sendCommand({\r\n                    type: \"breakpoint\",\r\n                    line: line,\r\n                    step: this.currentStep,\r\n                    scope: vars\r\n                            //scope: this.genScope(scope)\r\n                });\r\n                this.doRecordCommands = false;\r\n            } else {\r\n                this.sendCommand({\r\n                    type: \"line\",\r\n                    line: line\r\n                });\r\n            }\r\n        }\r\n        //this.currentStep = line;\r\n    },\r\n    _____watch: function() {\r\n        for (var i = 0; i < arguments.length; i += 1) {\r\n            if (!this.watches.indexOf(arguments[i]) > -1) {\r\n                this.watches.push(arguments[i]);\r\n            }\r\n        }\r\n    },\r\n    genScope: function() {\r\n        var i, ret = {};\r\n        for (i = 0; i < this.watches.length; i += 1) {\r\n            try {\r\n\r\n                ret[this.watches[i]] = eval(this.watches[i]);\r\n//                ret[this.watches[i]] = this.doEval(this.watches[i]);\r\n            } catch (e) {\r\n                // GOTCHA\r\n            }\r\n//            ret[this.watches[i]] = true;\r\n        }\r\n        return ret;\r\n    },\r\n// *** Utilities *** //\r\n    dirToVector: function(dir) {\r\n        var dirX = 0, dirY = 0;\r\n        switch (dir) {\r\n            case 1:\r\n                dirY = 1;\r\n                break;\r\n            case 2:\r\n                dirX = 1;\r\n                break;\r\n            case 3:\r\n                dirY = -1;\r\n                break;\r\n            case 4:\r\n                dirX = -1;\r\n                break;\r\n        }\r\n        return {\r\n            x: dirX,\r\n            y: dirY\r\n        };\r\n    }\r\n});\r\n\r\nfunction run(playerFn, level, cfg) {\r\n    cfg = cfg || {};\r\n    var simulation = new ProgGameSimulation(cfg);\r\n    simulation.run(playerFn, level);\r\n    return JSON.stringify(simulation.getCommands());\r\n}"
        }
    },
    "cssLibrary": {},
    "clientScriptLibrary": {
        "default": {
            "@class": "GameModelContent",
            "contentType": null,
            "content": "Y.use(\"wegas-parent\", function(Y) {\r\n    Y.Wegas.Parent.EDITMENU = Y.clone(Y.Wegas.Parent.EDITMENU);\r\n    Y.Wegas.Parent.EDITMENU[1].plugins[0].cfg.children.push({\r\n        type: \"Button\",\r\n        label: \"ProgGame Level\",\r\n        plugins: [{\r\n                fn: \"AddChildWidgetAction\",\r\n                cfg: {\r\n                    childType: \"ProgGameLevel\"\r\n                }\r\n            }\r\n        ]\r\n    });\r\n});"
        }
    },
    "properties": {
        "freeForAll": true,
        "pagesUri": "",
        "cssUri": "wegas-proggame/css/wegas-proggame.css",
        "websocket": "",
        "imageUri": "wegas-proggame/images/proggame-thumb-1.png",
        "iconUri": "wegas-proggame/images/proggame-icon.png",
        "clientScriptUri": "wegas-proggame/js/wegas-proggame-loader.js"
    },
    "createdByName": "AlbaSim"
}