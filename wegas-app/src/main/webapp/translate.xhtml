<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets" 
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <ui:composition template="wegas-app/jsf/editor-default.xhtml">
        <ui:define name="pageUri">/wegas-app/db/wegas-translate-layout.json</ui:define>

        <ui:define name="app-init">
            <c:set var="extraBodyClass" value="wegas-editmode wegas-translatemode"/>
            <c:set var="wegasMode" value="EDIT"/>
        </ui:define>

        <script>//<ui:define name = "editorFooter"><![CDATA[
            Y.Wegas.app.once("render", function() {
                var gameModel = Y.Wegas.Facade.GameModel.cache.getCurrentGameModel();


                /*
                 * Shortcut to open current debug player in its own tab
                 */
                Y.use("wegas-button", function() {
                    var editButton = new Y.Wegas.Button({
                        "label": "<i class=\"fa fa-eye\" title=\"View as test player\"></i>",
                        cssClass: "open-as-test-player"
                    }).render(".wegas-button-toolbar .wegas-flexlist-content");

                    editButton.on("click", function() {
                        window.open("game-play.html?gameModelId=" + Y.Wegas.Facade.GameModel.cache.getCurrentGameModel().get("id"), "_blank");
                    }, this);
                });
            });
            //]]></ui:define></script>

    </ui:composition>
</html>
