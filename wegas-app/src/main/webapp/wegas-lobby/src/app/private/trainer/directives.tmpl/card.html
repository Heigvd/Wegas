<div class="card__illustration illustration illustration--icon" illustration="{{session.properties.iconUri}}"
     ng-class="{true:'illustration--details', false: ''}[hoverDetails]"
     ng-mouseover="hoverDetails = true" ng-mouseleave="hoverDetails = false">
</div>
<div
    class="card__description"
    ng-class="{'illustration--details': hoverDetails, 'card__description--two-lines':(session.gameModel.comments == null || session.gameModel.comments == ''), 'card__description--three-lines':(session.gameModel.comments != null && session.gameModel.comments != '')}" >
    <div class="line line--primary">{{session.name}}</div>
    <div class="line">{{'COMMONS-DATE' | translate: {date: session.createdTime} }}</div>
    <div ng-if="!((session.gameModel.comments == null) || (session.gameModel.comments == ''))" class="line line--optionnal">{{session.gameModel.comments}}</div>
    <div ng-show="hoverDetails" class="show-game-details line" style="">
        {{'TRAINER-CARD-DETAILS-SESSION-ID' | translate}} :&nbsp; {{session.id}}<br />
        {{'COMMONS-SESSIONS-CREATED-BY' | translate}} :&nbsp; {{session.createdByName}}<br />
        {{'COMMONS-SESSIONS-MODIFIED-ON' | translate}} :&nbsp; {{'COMMONS-DATE' | translate: {date:session.updatedTime} }}<br />
        {{'SCENARIST-CARD-DETAILS-SCENARIO' | translate}} :&nbsp; {{session.gameModelName}}<br />
        {{'SCENARIST-CARD-DETAILS-SCENARIO-ID' | translate}} :&nbsp; {{session.gameModelId}}
    </div>
</div>
<div class="card__actions">
    <div class="card__actions__access"
         ng-class="{true:'card__actions__access--open', false:'card__actions__access--close'}[open]">
        <label
            class="choice choice--toogle">
            <div class="choice__box" title="{{(open ? 'TRAINER-CARD-ACCESS-OPEN' : 'TRAINER-CARD-ACCESS-CLOSE') | translate}}">
                <input ng-model="open" ng-change="editAccess(session)" type="checkbox" />
                <div class="choice__box__display"></div>
            </div>
        </label>
        <div class="key-label" onClick="this.firstChild.select()" title="{{'TRAINER-CARD-KEY-ICON' | translate}}"><input class="key" value="{{session.token}}" readonly/></div>
    </div>
    <a class="button button--small button--round button--default-reverse button--label-off button--settings" title="{{'TRAINER-CARD-SETTINGS-BTN' | translate}}" ui-sref=".settings({id: session.id})">
      <span class="button__label">{{'TRAINER-CARD-SETTINGS-BTN' | translate}}</span>
    </a>
    <a class="button button--small button--round button--default-reverse button--label-off button--user" title="{{'TRAINER-CARD-USERS-BTN' | translate}}" ui-sref=".users({id: session.id})">
      <span class="button__label">{{'TRAINER-CARD-USERS-BTN' | translate}}</span>
    </a>
    <a  id="archive-{{session.id}}"
        class="button button--small button--round button--default-reverse button--label-off button--archive" title="{{'TRAINER-CARD-MOVE-ARCHIVE-BTN' | translate}}" ng-click="archive(session)">
      <span class="button__label">{{'TRAINER-CARD-MOVE-ARCHIVE-BTN' | translate}}</span>
    </a>
    <a class="button button--small button--round button--default button--label-off button--trainer action--button" title="{{'TRAINER-CARD-MONITORING-BTN' | translate}}" href="{{ServiceURL}}host.html?gameId={{session.id}}" target="_blank">
      <span class="button__label">{{'TRAINER-CARD-MONITORING-BTN' | translate}}</span>
    </a>
</div>
