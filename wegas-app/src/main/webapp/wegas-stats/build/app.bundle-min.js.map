{"version":3,"sources":["webpack:///./src/js/Actions/constants/ActionTypes.js","webpack:///./src/js/Store/LogIds.js","webpack:///./src/js/Store/User.js","webpack:///./src/js/Store/Games.js","webpack:///./src/js/Store/Variables.js","webpack:///./src/js/Store/Global.js","webpack:///./src/js/Store/index.js","webpack:///./src/js/API/wegasFetch.js","webpack:///./src/js/API/user.js","webpack:///./src/js/API/neo4j.js","webpack:///./src/js/API/wegas.js","webpack:///./src/js/Actions/gamesActions.js","webpack:///./src/js/Actions/logIdsActions.js","webpack:///./src/js/Actions/userActions.js","webpack:///./src/js/init.js","webpack:///./src/js/Comps/LoginForm.js","webpack:///./src/js/Comps/Overlay.js","webpack:///./src/js/Comps/App.js","webpack:///./src/js/Comps/LogIdSelector.js","webpack:///./src/js/Actions/glabal.js","webpack:///./src/js/Comps/GameSelect.js","webpack:///./src/js/Comps/QuestionSelect.js","webpack:///./src/js/Comps/dataCompute.js","webpack:///./src/js/Comps/Graph.js","webpack:///./src/js/Comps/Stats.js","webpack:///./src/route.js","webpack:///./src/index.js","webpack:///./src/js/lib/defiant.js","webpack:///./src/css/chartist.css?67b8","webpack:///./src/css/chartist.css"],"names":["RESET","LOGIN","BOOTSTRAP_USER","SELECT_LOGID","BOOTSTRAP_LOGIDS","FETCH_GAMES","FETCH_GAMES_LOGID","FETCH_VARS","SHOW_OVERLAY","HIDE_OVERLAY","defaultState","status","value","current","state","updeep","action","type","logIds","logId","isLoggedIn","user","logIdGames","cache","Map","available","data","map","gamesLID","Object","assign","id","get","forEach","obj","set","gameId","name","gameName","gmName","gameModelName","creator","playersCount","players","length","games","variables","tree","upd","snapshot","Defiant","getSnapshot","inc","val","dec","decBound","Math","max","overlay","global","prefix","url","window","config","contextPath","jsonFetch","options","fetch","credentials","then","res","ok","json","Promise","reject","statusText","BASE","getCurrentUser","catch","e","console","log","isloggedIn","login","password","remember","method","headers","body","JSON","stringify","logout","getLogIds","getGameForLogId","getQuestionData","logID","join","PUBLIC","EDITOR_EXTENDED","basePath","view","getVariables","gmId","getGameModelForGame","gameModelId","getGames","fetchGamesForLogId","dispatch","getState","fetchVariables","fetchGames","bootstrapLogIds","selectLogId","bootstrapUser","userLogin","username","userLogout","store","applyMiddleware","combineReducers","User","tcomb","struct","Str","React","Component","onLoginClick","event","preventDefault","refs","form","getValue","props","onLogoutClick","render","panel","bind","children","fields","connect","overlayStyle","position","top","left","zIndex","backgroundColor","width","height","style","display","globalState","textAlign","onChange","selected","setTimeout","history","push","label","showOverlay","hideOverlay","constructor","groups","Array","apply","groupsCount","oldRef","componentWillReceiveProps","setState","group","v","onRefSelect","genGroups","opt","ret","minWidth","groupId","GameSelect","defaultProps","undefined","search","item","reduce","pre","cur","onQuestionSelect","genLabel","questionName","question","labels","items","choice","results","result","questionSerie","questionData","choices","serie","count","questionItem","computeData","series","all","index","questions","quest","hasOwnProperty","err","error","computeDiffs","ref","newData","diff","abs","CHART_BAR_OPT","axisY","labelInterpolationFnc","scaleMinSpace","onlyInteger","axisX","offset","low","high","DIFF_BAR_OPT","inlineStyle","whiteSpace","noWrap","legendStyle","marginRight","padding","noDisplay","inlineSvgStyle","node","tw","document","createTreeWalker","currentNode","nextNode","setAttribute","getComputedStyle","cssText","questionGroup","componentDidMount","chart","Chartist","Bar","graph","diffChart","diffs","componentDidUpdate","update","componentWillUnmount","detach","genAll","windowHandler","open","tmpChart","tmpDiff","promiseChain","resolve","closed","Error","container","firstChild","createElement","innerHTML","appendChild","legends","String","fromCharCode","Graph","propTypes","PropTypes","arrayOf","array","string","currentQuestion","componentWillMount","match","params","LogId","nextProps","onGamesChange","curr","alert","renderRoute","querySelector","x10","init","work_handler","args","prototype","slice","call","func","postMessage","setup","URL","webkitURL","script","parse","blob","Blob","toString","worker","Worker","createObjectURL","onmessage","observer","emit","call_handler","arguments","callback","unshift","on","detail","compile","hash","fn","isArray","key","Date","valueOf","replace","RegExp","Function","stack","off","i","indexOf","splice","isCanceled","cancelBubble","len","module","exports","is_ie","test","navigator","userAgent","is_safari","env","xml_decl","namespace","tabsize","template","processor","XSLTProcessor","span","tmpltXpath","scripts","temp","sorter","extend","toXML","xsl_template","gatherTemplates","selectSingleNode","order","select","importStylesheet","transformToFragment","removeAttribute","getElementsByTagName","il","defer","str","xmlFromString","parser","doc","trim","ActiveXObject","loadXML","setProperty","DOMParser","parseFromString","src","dest","content","xsldoc","transformNode","fill","c","xTransform","h","n","a","q","toUpperCase","toLowerCase","sJSON","eval","vContent","sOutput","nId","substr","sProp","interpreter","rx_validate_name","rx_node","rx_constructor","rx_namespace","rx_data","rx_function","to_xml_str","hash_to_xml","array_child","is_array","elem","attr","val_is_array","is_attr","cname","constr","cnName","escape_xml","scalar_to_xml","Number","Boolean","override","text","a1","a2","processed","task","xpath","single","isSnapshot","nodeType","xres","mapIndex","nodeValue","getAttribute","trace","mtrace","root","hits","win","sroot","od","ownerDocument","documentElement","hstr","cConstr","fIndex","mIndex","lStart","lEnd","ownerElement","nodeName","parentNode","substring","selectNodes","XNode","XPath","evaluate","ns","createNSResolver","qI","XPathResult","ORDERED_NODE_SNAPSHOT_TYPE","snapshotLength","snapshotItem","xI","prettyPrint","tabs","decl","ser","xstr","xml","XMLSerializer","serializeToString","lines","split","indent","start","end","toJSON","xnode","interpret","leaf","cval","textContent","attributes","hasChildNodes","childNodes","rn","jQuery","$","defiant","html"],"mappings":"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","file":"app.bundle-min.js","sourcesContent":["export const RESET = 'RESET';\nexport const LOGIN = 'LOGIN';\nexport const BOOTSTRAP_USER = 'BOOTSTRAP_USER';\n\nexport const SELECT_LOGID = 'SELECT_LOGID';\nexport const BOOTSTRAP_LOGIDS = 'BOOTSTRAP_LOGIDS';\n\nexport const FETCH_GAMES = 'FETCH_GAMES';\nexport const FETCH_GAMES_LOGID = 'FETCH_GAMES_LOGID';\nexport const FETCH_VARS = 'FETCH_VARS';\n\nexport const SHOW_OVERLAY = 'SHOW_OVERLAY';\nexport const HIDE_OVERLAY = 'HIDE_OVERLAY';\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/Actions/constants/ActionTypes.js","import updeep from 'updeep';\nimport { BOOTSTRAP_LOGIDS, RESET, SELECT_LOGID } from '../Actions/constants/ActionTypes';\nconst defaultState = {\n    status: 0,\n    value: [],\n    current: null,\n};\nfunction logIds(state = updeep(defaultState)(null), action) {\n    switch (action.type) {\n    case BOOTSTRAP_LOGIDS:\n        return updeep({\n            status: 1,\n            value: action.logIds,\n        }, state);\n    case RESET:\n        return updeep({\n            status: 0,\n            value: [],\n            current: null,\n        }, state);\n    case SELECT_LOGID:\n        return updeep({\n            current: action.logId,\n        }, state);\n    default:\n        return state;\n    }\n}\n\nexport default logIds;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/Store/LogIds.js","import { BOOTSTRAP_USER } from '../Actions/constants/ActionTypes';\nconst defaultState = {\n    isLoggedIn: false\n};\nfunction user(state = defaultState, action) {\n    switch (action.type) {\n    case BOOTSTRAP_USER:\n        return action.user;\n    default:\n        return state;\n    }\n}\n\nexport default user;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/Store/User.js","import updeep from 'updeep';\nimport {\n    FETCH_GAMES_LOGID,\n    FETCH_GAMES,\n} from '../Actions/constants/ActionTypes';\nlet logIdGames = [];\nconst defaultState = {\n    cache: new Map(),\n    available: [],\n};\nfunction games(state = updeep(defaultState)(null), action) {\n    const cache = new Map();\n    switch (action.type) {\n        case FETCH_GAMES_LOGID:\n            logIdGames = action.data;\n            return updeep(\n                {\n                    available: logIdGames.map(gamesLID =>\n                        Object.assign(\n                            {\n                                id: gamesLID,\n                            },\n                            state.cache.get(gamesLID)\n                        )\n                    ),\n                },\n                state\n            );\n        case FETCH_GAMES:\n            action.data.forEach(obj => {\n                cache.set(obj.gameId, {\n                    name: obj.gameName,\n                    gmName: obj.gameModelName,\n                    creator: obj.creator,\n                    playersCount: obj.players.length,\n                });\n            });\n            return games(\n                updeep(\n                    {\n                        cache,\n                    },\n                    state\n                ),\n                {\n                    type: FETCH_GAMES_LOGID,\n                    data: logIdGames,\n                }\n            );\n        default:\n            return state;\n    }\n}\n\nexport default games;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/Store/Games.js","import upd from 'updeep';\nimport { FETCH_VARS } from '../Actions/constants/ActionTypes';\nimport Defiant from '../lib/defiant';\n\nexport default function variables(\n    state = {\n        tree: upd([], null),\n        snapshot: {},\n    },\n    action) {\n    switch (action.type) {\n    case FETCH_VARS:\n        return {\n            tree: upd(action.data, null),\n            snapshot: Defiant.getSnapshot(action.data),\n        };\n    default:\n        return state;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/Store/Variables.js","import updeep from 'updeep';\nimport { SHOW_OVERLAY, HIDE_OVERLAY } from '../Actions/constants/ActionTypes';\n\nconst inc = val => val + 1;\nconst dec = val => val - 1;\nconst decBound = val => Math.max(dec(val), 0);\nconst defaultState = {\n    overlay: 0\n};\nfunction global(state = updeep(defaultState)(null), action) {\n    switch (action.type) {\n    case SHOW_OVERLAY:\n        return updeep({\n            overlay: inc,\n        }, state);\n    case HIDE_OVERLAY:\n        return updeep({\n            overlay: decBound,\n        }, state);\n    default:\n        return state;\n    }\n}\n\nexport default global;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/Store/Global.js","import logIds from './LogIds';\nimport user from './User';\nimport games from './Games';\nimport variables from './Variables';\nimport globalState from './Global';\n\nexport { logIds, user, games, variables, globalState };\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/Store/index.js","export function prefix(url) {\n    return `${window.config ? window.config.contextPath : '/Wegas'}${url}`;\n}\nexport default function jsonFetch(url, options = {}) {\n    return fetch(\n        prefix(url),\n        Object.assign(\n            {\n                credentials: 'same-origin',\n            },\n            options\n        )\n    ).then(res => {\n        if (res.ok) {\n            return res.json();\n        }\n        return Promise.reject(res.statusText);\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/API/wegasFetch.js","import jsonFetch, {prefix} from './wegasFetch';\n\nconst BASE = '/rest/User/';\n\nexport function getCurrentUser() {\n    return jsonFetch(`${BASE}Current`)\n        .then(data => ({\n            isLoggedIn: true,\n            user: data,\n        }))\n        .catch(e => {\n            console.log(e);\n            return {\n                isloggedIn: false,\n            };\n        });\n}\n\nexport function login(\n    user = 'root@root.com',\n    password = '1234',\n    remember = true\n) {\n    return jsonFetch(`${BASE}Authenticate`, {\n        method: 'post',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n            '@class': 'AuthenticationInformation',\n            login: user,\n            password,\n            remember,\n        }),\n    }).then(data => ({\n        isLoggedIn: true,\n        user: data,\n    }));\n}\n\nexport function logout() {\n    return fetch(prefix(`${BASE}Logout`), { credentials: 'same-origin' });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/API/user.js","import jsonFetch from './wegasFetch';\n\nconst BASE = '/rest/Statistics/';\n\nexport function getLogIds() {\n    return jsonFetch(BASE + 'LogId');\n}\n\nexport function getGameForLogId(logId) {\n    return jsonFetch(BASE + 'queryGames/' + logId);\n}\n\nexport function getQuestionData(logID, name, ...games) {\n    if (logID && name && games[0]) {\n        return jsonFetch(\n            `${BASE}LogId/${logID}/Question/${name}?gid=${games.join(',')}`\n        );\n    }\n    return Promise.reject('getQuestion: Missing parameters');\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/API/neo4j.js","import jsonFetch from './wegasFetch';\n\nconst PUBLIC = 'Public';\nconst EDITOR_EXTENDED = 'Editor';\n\nfunction basePath(view = PUBLIC) {\n    return `/rest/${view}/GameModel/`;\n}\n\nexport function getVariables(gmId) {\n    return jsonFetch(`${basePath(EDITOR_EXTENDED)}${gmId}/VariableDescriptor`);\n}\n\nexport function getGameModelForGame(gameId) {\n    return jsonFetch(`${basePath()}Game/${gameId}`).then(\n        data => data.gameModelId\n    );\n}\n\nexport function getGames() {\n    return jsonFetch(`/rest/Admin/Game`);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/API/wegas.js","import { FETCH_GAMES, FETCH_VARS, FETCH_GAMES_LOGID } from './constants/ActionTypes';\nimport { getGameForLogId } from '../API/neo4j';\nimport { getGameModelForGame, getVariables, getGames } from '../API/wegas';\n\nexport function fetchGamesForLogId() {\n    return (dispatch, getState) => {\n        getGameForLogId(getState().logIds.current)\n            .then(value => dispatch({\n                    type: FETCH_GAMES_LOGID,\n                    data: value,\n                })\n        );\n    };\n}\n\nexport function fetchVariables(gameId) {\n    return (dispatch) => {\n        getGameModelForGame(gameId)\n            .then(gmId => getVariables(gmId))\n            .then(data => dispatch({\n                    type: FETCH_VARS,\n                    data: data,\n                }));\n    };\n}\n\nexport function fetchGames() {\n    return dispatch => {\n        getGames()\n            .then(res => dispatch({\n                    type: FETCH_GAMES,\n                    data: res,\n                }));\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/Actions/gamesActions.js","import { getLogIds } from '../API/neo4j';\nimport { BOOTSTRAP_LOGIDS, SELECT_LOGID } from './constants/ActionTypes';\nimport { fetchGamesForLogId } from './gamesActions';\n\nexport function bootstrapLogIds() {\n    return dispatch => {\n        getLogIds().then(value => {\n            dispatch({\n                type: BOOTSTRAP_LOGIDS,\n                logIds: value,\n            });\n        });\n    };\n}\n\nexport function selectLogId(logId) {\n    return (dispatch) => {\n        dispatch({\n            type: SELECT_LOGID,\n            logId,\n        });\n        dispatch(fetchGamesForLogId());\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/Actions/logIdsActions.js","import { getCurrentUser, login, logout } from '../API/user';\nimport { BOOTSTRAP_USER } from './constants/ActionTypes';\nimport { bootstrapLogIds } from './logIdsActions';\n\nexport function bootstrapUser() {\n    return (dispatch, getState) => {\n        getCurrentUser().then((value) => {\n            dispatch({\n                type: BOOTSTRAP_USER,\n                user: value,\n            });\n        }).then(() => {\n            if (getState().user.isLoggedIn) {\n                dispatch(bootstrapLogIds());\n            }\n        });\n    };\n}\n\nexport function userLogin(username, password) {\n    return (dispatch, getState) => {\n        login(username, password).then(res => dispatch({\n                type: BOOTSTRAP_USER,\n                user: res,\n            }))\n            .then(() => {\n                if (getState().user.isLoggedIn) {\n                    dispatch(bootstrapLogIds());\n                }\n            });\n    };\n}\n\nexport function userLogout() {\n    return dispatch => {\n        logout().then(() => dispatch(bootstrapUser()));\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/Actions/userActions.js","import { createStore, applyMiddleware, combineReducers } from 'redux';\nimport thunk from 'redux-thunk';\nimport * as stores from './Store';\nimport { bootstrapUser } from './Actions/userActions';\nimport { fetchGames } from './Actions/gamesActions';\n\nexport const store = applyMiddleware(thunk)(createStore)(combineReducers(stores));\n\nstore.dispatch(bootstrapUser());\nstore.dispatch(fetchGames());\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/init.js","import React from 'react';\nimport { connect } from 'react-redux';\nimport tcomb from 'tcomb-form';\nimport { userLogin, userLogout } from '../Actions/userActions';\n\nconst User = tcomb.struct({\n    username: tcomb.Str,\n    password: tcomb.Str,\n});\n\n// @connect(state => ({\n//         user: state.user\n// }))\nclass LoginForm extends React.Component {\n\n    onLoginClick(event) {\n        event.preventDefault();\n        const val = this.refs.form.getValue();\n        if (val) {\n            this.props.dispatch(userLogin(val.username, val.password));\n        }\n    }\n\n    onLogoutClick() {\n        this.props.dispatch(userLogout());\n    }\n\n    render() {\n        let panel;\n        if (this.props.user.isLoggedIn) {\n            panel = (\n                <div>\n                  { this.props.user.user.name }\n                  <button onClick={ this.onLogoutClick.bind(this) }>\n                    Logout\n                  </button>\n                  { this.props.children }\n                </div>\n            );\n        } else {\n            const options = {\n                fields: {\n                    password: {\n                        type: 'password',\n                    },\n                },\n            };\n            panel = (\n                <div>\n                  <form onSubmit={ this.onLoginClick.bind(this) }>\n                    <tcomb.form.Form options={ options }\n                                     ref=\"form\"\n                                     type={ User } />\n                    <button>\n                      Login\n                    </button>\n                  </form>\n                </div>\n            );\n        }\n\n        return panel;\n    }\n}\nexport default connect(state => ({\n    user: state.user,\n}))(LoginForm);\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/Comps/LoginForm.js","import React from 'react';\nimport { connect } from 'react-redux';\nconst overlayStyle = {\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    zIndex: 10000,\n    backgroundColor: 'rgba(0,0,0,0.2)',\n    width: '100%',\n    height: '100%',\n};\nclass Overlay extends React.Component {\n    render() {\n        const style = Object.assign({}, overlayStyle, {\n            display: this.props.overlay ? 'block' : 'none',\n        });\n        return (\n            <div style={ style } />\n            );\n    }\n}\n\nexport default connect(state => {\n    return {\n        overlay: state.globalState.overlay,\n    };\n})(Overlay);\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/Comps/Overlay.js","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Login from './LoginForm';\nimport Overlay from './Overlay';\n\nclass App extends React.Component {\n    render() {\n        const style = {\n            textAlign: 'center',\n        };\n        return (\n            <div>\n              <Overlay/>\n              <h2 className=\"header\"\n                  style={ style }>Wegas Stats</h2>\n              <div>\n                <button>\n                  <Link to=\"/\"> Restart\n                  </Link>\n                </button>\n              </div>\n              <div className=\"body\">\n                <Login>\n                  { this.props.children }\n                </Login>\n              </div>\n            </div>\n            );\n    }\n}\nexport default App;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/Comps/App.js","import React, { PropTypes } from 'react';\nimport ReactSelect from 'react-select';\nimport 'react-select/less/default.less';\nimport { connect } from 'react-redux';\n\n// @connect(state => ({\n//     status: state.logIds.get('status'),\n//     logIds: state.logIds.get('value')\n// }))\nclass LogIdSelector extends React.Component {\n\n    onChange(selected) {\n        if (selected) {\n            setTimeout(() => this.props.history.push(`/${selected.value}`), 200); // @hack already...\n        }\n    }\n\n    render() {\n        const { logIds } = this.props;\n        const options = logIds.map((logId) => ({\n            value: logId,\n            label: logId,\n        }));\n        return (\n            <ReactSelect multi={ false }\n                         name=\"logids\"\n                         onChange={ this.onChange.bind(this) }\n                         options={ options } />\n            );\n    }\n}\nexport default connect(state => ({\n    status: state.logIds.status,\n    logIds: state.logIds.value,\n}))(LogIdSelector);\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/Comps/LogIdSelector.js","import { SHOW_OVERLAY, HIDE_OVERLAY } from './constants/ActionTypes';\n\nexport function showOverlay() {\n    return {\n        type: SHOW_OVERLAY,\n    };\n}\n\nexport function hideOverlay() {\n    return {\n        type: HIDE_OVERLAY,\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/Actions/glabal.js","import React from 'react';\nimport ReactSelect from 'react-select';\n\nclass GameSelect extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            groups: Array.apply(null, Array(props.groupsCount)).map(() => []),\n            oldRef: -1,\n        };\n    }\n    componentWillReceiveProps(props) {\n        if (props.games !== this.props.games) {\n            this.setState({\n                options: props.games.map(val => ({\n                    value: val.id,\n                    label: val.name\n                        ? `${val.name} (${val.gmName}) by ${val.creator} (P: ${val.playersCount})`\n                        : val.id,\n                })),\n            });\n        }\n    }\n    onChange(group, value) {\n        const val = value.map(v => v.value);\n        const { groups } = this.state;\n        groups[group] = val;\n        this.setState({\n            groups,\n        });\n        if (groups[0][0] && this.state.oldRef !== groups[0][0]) {\n            this.setState({\n                oldRef: groups[0][0],\n            });\n            this.props.onRefSelect(groups[0][0]);\n        }\n        this.props.onChange(groups);\n    }\n    genGroups(opt) {\n        const { groupsCount } = this.props;\n        const ret = [];\n        const style = {\n            display: 'inline-block',\n            minWidth: '15em',\n        };\n        for (let groupId = 0; groupId < groupsCount; groupId++) {\n            ret.push(\n                <span key={groupId} style={style}>\n                    <span>{`Group ${groupId + 1}`}</span>\n                    <ReactSelect\n                        multi\n                        onChange={this.onChange.bind(this, groupId)}\n                        options={opt}\n                        value={this.state.groups[groupId]}\n                    />\n                </span>\n            );\n        }\n        return ret;\n    }\n\n    render() {\n        return (\n            <div>\n                {this.genGroups(this.state.options)}\n            </div>\n        );\n    }\n}\nGameSelect.defaultProps = {\n    games: [1, 2, 3, 4, 5, 6, 7],\n    onRefSelect: () => undefined,\n    groupsCount: 4,\n};\nexport default GameSelect;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/Comps/GameSelect.js","import React from 'react';\nimport ReactSelect from 'react-select';\n\nclass QuestionSelect extends React.Component {\n    render() {\n        const snapshot = this.props.snapshot;\n        const opt = JSON.search(\n            snapshot,\n            '//*[@class=\"QuestionDescriptor\"]'\n        ).map(item => {\n            return {\n                value: item.name,\n                label:\n                    JSON.search(\n                        snapshot,\n                        `//*[name=\"${item.name}\"]/ancestor::*[@class=\"ListDescriptor\"]`\n                    ).reduce((pre, cur) => {\n                        return `${pre}${cur.label} \\u2192 `;\n                    }, '') + item.label,\n            };\n        });\n        const style = {\n            display: 'inline-block',\n            minWidth: '60em',\n        };\n        return (\n            <div style={style}>\n                <ReactSelect\n                    options={opt}\n                    onChange={v => this.props.onQuestionSelect(v.value)}\n                    value={this.props.value}\n                />\n            </div>\n        );\n    }\n}\nexport default QuestionSelect;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/Comps/QuestionSelect.js","import { getQuestionData } from '../API/neo4j';\n\nfunction genLabel(questionName, snapshot) {\n    const question = JSON.search(snapshot, `//*[@class='QuestionDescriptor'][name='${questionName}']`)[0];\n    const labels = [];\n    if (question) {\n        question.items.forEach(function(choice) {\n            if (choice.results.length) {\n                choice.results.forEach(function(result) {\n                    labels.push(JSON.search(snapshot, `//*[name=\"${choice.name}\"]`)[0].label +\n                        (result.label ? ` (${result.label})` : ''));\n                });\n            } else {\n                labels.push(JSON.search(snapshot, `//*[name=\"${choice.name}\"]`)[0].label);\n            }\n        });\n    }\n    return labels;\n}\n\nfunction questionSerie(questionName, questionData, snapshot) {\n    const question = JSON.search(snapshot, `//*[@class='QuestionDescriptor'][name='${questionName}']`)[0];\n    const choices = new Map();\n    const serie = [];\n    let count = 0;\n\n    question.items.forEach(function(choice) {\n        choices.set(choice.name, new Map());\n        if (choice.results.length) {\n            choice.results.forEach(function(result) {\n                choices.get(choice.name).set(result.label, 0);\n            });\n        } else {\n            choices.get(choice.name).set('', 0);\n        }\n    });\n\n\n    questionData.forEach(function(questionItem) {\n        choices.get(questionItem.choice).set(questionItem.result, choices.get(questionItem.choice).get(questionItem.result) + 1);\n        count += 1;\n    });\n\n    choices.forEach(function(choice) {\n        choice.forEach(function(val) {\n            serie.push(val / (count ? count : 1) * 100);\n        });\n    });\n    return {\n        serie,\n        count,\n    };\n}\n\nfunction computeData({ question, snapshot, logId, groups }) {\n    const data = {\n        labels: genLabel(question, snapshot),\n        series: [],\n    };\n    return Promise.all(groups.map((group, index) => {\n        if (group.length) {\n            return getQuestionData(logId, question, ...group)\n                .then(questionData => questionSerie(question, questionData, snapshot, index));\n        }\n        return {\n            serie: [],\n            count: 0,\n        };\n    }))\n        .then(questions => {\n            let quest;\n            for (quest in questions) {\n                if (questions.hasOwnProperty(quest)) {\n                    data.series[quest] = {\n                        data: questions[quest].serie,\n                    };\n                }\n            }\n            return data;\n        })\n        .catch(err => {\n            console.error(err);\n        });\n}\n\nfunction computeDiffs(data) {\n    const ref = data.series[0].data;\n    const newData = {\n        labels: data.labels,\n        series: [],\n    };\n    let item;\n    function diff(val, index) {\n        return Math.abs(ref[index] - val); // quote DJ : \"doit moins avoir\" => Abs\n    }\n\n    for (item in data.series) {\n        if (data.series.hasOwnProperty(item)) {\n            newData.series[item] = {\n                data: data.series[item].data.map(diff),\n            };\n        }\n    }\n    return newData;\n}\n\nexport { computeData, computeDiffs };\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/Comps/dataCompute.js","import React, { PropTypes } from 'react';\nimport { computeData, computeDiffs } from './dataCompute';\nimport Chartist from 'chartist';\nimport 'chartist/dist/chartist.min.css';\nimport '../../css/chartist.css';\n\nconst CHART_BAR_OPT = {\n    width: 600,\n    height: 400,\n    axisY: {\n        labelInterpolationFnc: function label(value) {\n            return value ? `${value}%` : '<b>0%</b>';\n        },\n        scaleMinSpace: 20,\n        onlyInteger: true,\n    },\n    axisX: {\n        offset: 50,\n    },\n    low: 0,\n    high: 100,\n};\nconst DIFF_BAR_OPT = CHART_BAR_OPT;\n/* Object.assign({}, CHART_BAR_OPT, {\n    low: -100,\n}); */\nconst inlineStyle = {\n    display: 'inline-block',\n    whiteSpace: 'normal',\n};\nconst noWrap = {\n    whiteSpace: 'nowrap',\n};\nconst legendStyle = {\n    marginRight: 20,\n    padding: '3px 10px',\n};\nconst noDisplay = {\n    display: 'none',\n};\nfunction inlineSvgStyle(node) {\n    const tw = document.createTreeWalker(node, 1);\n    let currentNode = tw.nextNode();\n    while (currentNode) {\n        currentNode.setAttribute('style', getComputedStyle(currentNode).cssText);\n        currentNode = tw.nextNode();\n    }\n    return node;\n}\n\n// function svgToPng(node) {\n//     inlineSvgStyle(node);\n//     return new Promise((resolve, reject) => {\n//         const img = new Image();\n//         img.src = 'data:image/svg+xml;base64,' +\n//         btoa(window.unescape(encodeURIComponent((new XMLSerializer()).serializeToString(node))));\n//         img.onload = function onload() {\n//             const can = document.createElement('canvas');\n//             const ctx = can.getContext('2d');\n//             const target = new Image();\n//             can.width = img.width;\n//             can.height = img.height;\n//             ctx.drawImage(img, 0, 0, img.width, img.height);\n//             target.src = can.toDataURL();\n//             resolve(target);\n//         };\n//         img.onerror = reject;\n//     });\n// }\nclass Graph extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            questionGroup: {},\n        };\n    }\n\n    componentDidMount() {\n        this.chart = new Chartist.Bar(this.refs.graph, {\n            labels: [],\n            series: [],\n        }, CHART_BAR_OPT);\n        this.diffChart = new Chartist.Bar(this.refs.diffs, {\n            labels: [],\n            series: [],\n        }, DIFF_BAR_OPT);\n    }\n    componentDidUpdate() {\n        if (!this.props.question) {\n            return;\n        }\n        computeData(this.props).then(data => {\n            this.chart.update(data);\n            return data;\n        }).then(computeDiffs).then(data => this.diffChart.update(data));\n    }\n    componentWillUnmount() {\n        this.chart.detach();\n        this.diffChart.detach();\n    }\n\n    genAll() {\n        const windowHandler = window.open();\n        const { groups, snapshot, logId } = this.props;\n        const tmpChart = new Chartist.Bar(this.refs.tmpChart, {\n            labels: [],\n            series: [],\n        }, CHART_BAR_OPT);\n        const tmpDiff = new Chartist.Bar(this.refs.tmpDiff, {\n            labels: [],\n            series: [],\n        }, DIFF_BAR_OPT);\n        let promiseChain = Promise.resolve();\n        JSON.search(snapshot, '//*[@class=\"QuestionDescriptor\"]/name').forEach(question => {\n            promiseChain = promiseChain.then(() => {\n                if (windowHandler.closed) {\n                    throw new Error('Window has been closed, halting');\n                }\n                return computeData({\n                    groups,\n                    snapshot,\n                    logId,\n                    question,\n                }).then(data => {\n                    tmpChart.update(data);\n                    return data;\n                }).then(computeDiffs).then(data => tmpDiff.update(data)).then(() => {\n                    return Promise.all([\n                        inlineSvgStyle(tmpChart.container.firstChild),\n                        inlineSvgStyle(tmpDiff.container.firstChild),\n                    ]);\n                }).then(([chart, diff]) => {\n                    const container = document.createElement('div');\n                    const label = JSON.search(snapshot,\n                            `//*[name=\"${question}\"]/ancestor::*[@class=\"ListDescriptor\"]`)\n                            .reduce((pre, cur) => `${pre}${cur.label}  `, '') +\n                        JSON.search(snapshot,\n                            `//*[@class='QuestionDescriptor'][name=\"${question}\"]/label`)[0];\n                    container.setAttribute('style', 'white-space:nowrap');\n                    container.innerHTML = `<div>${label}</div>`;\n                    container.appendChild(chart);\n                    container.appendChild(diff);\n                    windowHandler.document.body.appendChild(container);\n                    return;\n                }).catch(err => console.error(err));\n            });\n        });\n        promiseChain.catch(err => {\n            console.error(err);\n        }).then(() => {\n            tmpChart.detach();\n            tmpDiff.detach();\n        });\n        return promiseChain;\n    }\n\n    render() {\n        const legends = this.props.groups.map((val, index) => (\n        <span className={ `color ct-series-${String.fromCharCode(97 + index)}` }\n              key={ index }\n              style={ legendStyle }>{ `Group ${(index + 1)}` }</span>\n        ));\n        return (\n            <div ref=\"box\">\n              <span className=\"legend\">{ legends }</span>\n              <div style={ noWrap }>\n                <div ref=\"graph\"\n                     style={ inlineStyle } />\n                <div ref=\"diffs\"\n                     style={ inlineStyle } />\n              </div>\n              <div ref=\"tmpChart\"\n                   style={ noDisplay } />\n              <div ref=\"tmpDiff\"\n                   style={ noDisplay } />\n            </div>\n            );\n    }\n}\nGraph.propTypes = {\n    groups: PropTypes.arrayOf(PropTypes.array),\n    question: PropTypes.string,\n};\nGraph.defaultProps = {\n    groups: [],\n};\nexport default Graph;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/Comps/Graph.js","import React from 'react';\nimport { connect } from 'react-redux';\nimport { selectLogId } from '../Actions/logIdsActions';\nimport { showOverlay, hideOverlay } from '../Actions/glabal';\nimport GameSelect from './GameSelect';\nimport QuestionSelect from './QuestionSelect';\nimport { fetchVariables } from '../Actions/gamesActions';\nimport Graph from './Graph';\n\n// @connect(state => ({\n//     games: state.games\n// }))\nclass Stats extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            currentQuestion: null,\n            groups: [],\n        };\n    }\n    componentWillMount() {\n        this.props.dispatch(selectLogId(this.props.match.params.LogId));\n    }\n    componentWillReceiveProps(nextProps) {\n        if (this.props.match.params.LogId !== nextProps.match.params.LogId) {\n            this.props.dispatch(selectLogId(nextProps.match.params.LogId));\n        }\n    }\n    onRefSelect(data) {\n        this.props.dispatch(fetchVariables(data));\n    }\n    onQuestionSelect(question) {\n        this.setState({\n            currentQuestion: question,\n        });\n    }\n\n    onGamesChange(curr) {\n        //    curr = curr.filter(g => g && g[0] ? g : false);\n        this.setState({\n            groups: curr,\n        });\n    }\n    genAll() {\n        this.props.dispatch(showOverlay());\n        this.refs.graph\n            .genAll()\n            .catch(err => {\n                alert(err);\n            })\n            .then(() => {\n                this.props.dispatch(hideOverlay());\n            });\n    }\n    render() {\n        const { groups, currentQuestion } = this.state;\n        return (\n            <div>\n                <h2>\n                    {this.props.match.params.LogId}\n                </h2>\n                <GameSelect\n                    games={this.props.games}\n                    onChange={this.onGamesChange.bind(this)}\n                    onRefSelect={this.onRefSelect.bind(this)}\n                />\n                <QuestionSelect\n                    onQuestionSelect={this.onQuestionSelect.bind(this)}\n                    snapshot={this.props.snapshot}\n                    value={this.state.currentQuestion}\n                />\n                <button onClick={this.genAll.bind(this)}>Generate all</button>\n                <Graph\n                    groups={groups}\n                    logId={this.props.match.params.LogId}\n                    question={currentQuestion}\n                    ref=\"graph\"\n                    snapshot={this.props.snapshot}\n                />\n            </div>\n        );\n    }\n}\nexport default connect(state => ({\n    games: state.games.available,\n    snapshot: state.variables.snapshot,\n}))(Stats);\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/Comps/Stats.js","import React from 'react';\nimport { HashRouter, Route } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { store } from './js/init';\nimport App from './js/Comps/App';\nimport LogIdSelector from './js/Comps/LogIdSelector';\nimport Stats from './js/Comps/Stats';\n\n\nclass AppRoute extends React.Component {\n    renderRoute() {\n        return (\n            <HashRouter>\n                <div>\n                    <App />\n                    <Route exact path=\"/\" component={LogIdSelector} />\n                    <Route component={Stats} path=\"/:LogId\" />\n                </div>\n            </HashRouter>\n        );\n    }\n\n    render() {\n        return (\n            <Provider store={store}>\n                {this.renderRoute()}\n            </Provider>\n        );\n    }\n}\nexport default React.createElement(AppRoute);\n\n\n\n// WEBPACK FOOTER //\n// ./src/route.js","import { render } from 'react-dom';\nimport AppRoute from './route';\n\nrender(AppRoute, document.querySelector('body>.app'));\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","/*\n * Defiant.js v1.3.2\n * Search JSON structures plus smart templating with XSLT and XPath.\n * http://defiantjs.com\n *\n * Copyright (c) 2013-2015, Hakan Bilgin <hbi@longscript.com>\n * Licensed under the MIT License\n */\nconst x10 = (function(window, undefined) {\n    //'use strict';\n\n    var x10 = {\n        init: function() {\n            return this;\n        },\n        work_handler: function(event) {\n            var args = Array.prototype.slice.call(event.data, 1),\n                func = event.data[0],\n                ret = tree[func].apply(tree, args);\n\n            // return process finish\n            postMessage([func, ret]);\n        },\n        setup: function(tree) {\n            var url = window.URL || window.webkitURL,\n                script = 'var tree = {' + this.parse(tree).join(',') + '};',\n                blob = new Blob([script + 'self.addEventListener(\"message\", ' + this.work_handler.toString() + ', false);'],\n                    {\n                        type: 'text/javascript'\n                    }),\n                worker = new Worker(url.createObjectURL(blob));\n\n            // thread pipe\n            worker.onmessage = function(event) {\n                var args = Array.prototype.slice.call(event.data, 1),\n                    func = event.data[0];\n                x10.observer.emit('x10:' + func, args);\n            };\n\n            return worker;\n        },\n        call_handler: function(func, worker) {\n            return function() {\n                var args = Array.prototype.slice.call(arguments, 0, -1),\n                    callback = arguments[arguments.length - 1];\n\n                // add method name\n                args.unshift(func);\n\n                // listen for 'done'\n                x10.observer.on('x10:' + func, function(event) {\n                    callback(event.detail[0]);\n                });\n\n                // start worker\n                worker.postMessage(args);\n            };\n        },\n        compile: function(hash) {\n            var worker = this.setup(typeof (hash) === 'function' ? {\n                    func: hash\n                } : hash),\n                obj = {},\n                fn;\n            // create return object\n            if (typeof (hash) === 'function') {\n                obj.func = this.call_handler('func', worker);\n                return obj.func;\n            } else {\n                for (fn in hash) {\n                    obj[fn] = this.call_handler(fn, worker);\n                }\n                return obj;\n            }\n        },\n        parse: function(tree, isArray) {\n            var hash = [],\n                key,\n                val,\n                v;\n\n            for (key in tree) {\n                v = tree[key];\n                // handle null\n                if (v === null) {\n                    hash.push(key + ':null');\n                    continue;\n                }\n                // handle undefined\n                if (v === undefined) {\n                    hash.push(key + ':undefined');\n                    continue;\n                }\n                switch (v.constructor) {\n                    case Date:     val = 'new Date(' + v.valueOf() + ')';\n                        break;\n                    case Object:   val = '{' + this.parse(v).join(',') + '}';\n                        break;\n                    case Array:    val = '[' + this.parse(v, true).join(',') + ']';\n                        break;\n                    case String:   val = '\"' + v.replace(/\"/g, '\\\\\"') + '\"';\n                        break;\n                    case RegExp:\n                    case Function: val = v.toString();\n                        break;\n                    default:       val = v;\n                }\n                if (isArray) hash.push(val);\n                else hash.push(key + ':' + val);\n            }\n            return hash;\n        },\n        // simple event emitter\n        observer: (function() {\n            var stack = {};\n\n            return {\n                on: function(type, fn) {\n                    if (!stack[type]) {\n                        stack[type] = [];\n                    }\n                    stack[type].unshift(fn);\n                },\n                off: function(type, fn) {\n                    if (!stack[type]) return;\n                    var i = stack[type].indexOf(fn);\n                    stack[type].splice(i, 1);\n                },\n                emit: function(type, detail) {\n                    if (!stack[type]) return;\n                    var event = {\n                            type: type,\n                            detail: detail,\n                            isCanceled: false,\n                            cancelBubble: function() {\n                                this.isCanceled = true;\n                            }\n                        },\n                        len = stack[type].length;\n                    while (len--) {\n                        if (event.isCanceled) return;\n                        stack[type][len](event);\n                    }\n                }\n            };\n        })()\n    };\n    return x10.init();\n    if (typeof module === \"undefined\" && window) {\n        // publish x10\n        window.x10 = x10.init();\n    } else {\n        module.exports = x10.init();\n    }\n\n})(this);\n\n\nif (typeof module === \"undefined\") {\n    var module = {\n        exports: undefined\n    };\n} else {\n    // Node env adaptation goes here...\n}\n\nlet Defiant = (function(window, undefined) {\n    'use strict';\n\n    var Defiant = {\n        is_ie: /(msie|trident)/i.test(navigator.userAgent),\n        is_safari: /safari/i.test(navigator.userAgent),\n        env: 'production',\n        xml_decl: '<?xml version=\"1.0\" encoding=\"utf-8\"?>',\n        namespace: 'xmlns:d=\"defiant-namespace\"',\n        tabsize: 4,\n        render: function(template, data) {\n            var processor = new XSLTProcessor(),\n                span = document.createElement('span'),\n                opt = {\n                    match: '/'\n                },\n                tmpltXpath,\n                scripts,\n                temp,\n                sorter;\n            // handle arguments\n            switch (typeof (template)) {\n                case 'object':\n                    this.extend(opt, template);\n                    if (!opt.data)\n                        opt.data = data;\n                    break;\n                case 'string':\n                    opt.template = template;\n                    opt.data = data;\n                    break;\n                default:\n                    throw 'error';\n            }\n            opt.data = JSON.toXML(opt.data);\n            tmpltXpath = '//xsl:template[@name=\"' + opt.template + '\"]';\n\n            if (!this.xsl_template) this.gatherTemplates();\n\n            if (opt.sorter) {\n                sorter = this.node.selectSingleNode(this.xsl_template, tmpltXpath + '//xsl:for-each//xsl:sort');\n                if (sorter) {\n                    if (opt.sorter.order) sorter.setAttribute('order', opt.sorter.order);\n                    if (opt.sorter.select) sorter.setAttribute('select', opt.sorter.select);\n                    sorter.setAttribute('data-type', opt.sorter.type || 'text');\n                }\n            }\n\n            temp = this.node.selectSingleNode(this.xsl_template, tmpltXpath);\n            temp.setAttribute('match', opt.match);\n            processor.importStylesheet(this.xsl_template);\n            span.appendChild(processor.transformToFragment(opt.data, document));\n            temp.removeAttribute('match');\n\n            if (this.is_safari) {\n                scripts = span.getElementsByTagName('script');\n                for (var i = 0, il = scripts.length; i < il; i++) scripts[i].defer = true;\n            }\n            return span.innerHTML;\n        },\n        gatherTemplates: function() {\n            var scripts = document.getElementsByTagName('script'),\n                str = '',\n                i = 0,\n                il = scripts.length;\n            for (; i < il; i++) {\n                if (scripts[i].type === 'defiant/xsl-template')\n                    str += scripts[i].innerHTML;\n            }\n            this.xsl_template = this.xmlFromString('<xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" ' + this.namespace + '>' + str.replace(/defiant:(\\w+)/g, '$1') + '</xsl:stylesheet>');\n        },\n        getSnapshot: function(data, callback) {\n            return JSON.toXML(data, callback || true);\n        },\n        xmlFromString: function(str) {\n            var parser,\n                doc;\n            str = str.replace(/>\\s{1,}</g, '><');\n            if (str.trim().match(/<\\?xml/) === null) {\n                str = this.xml_decl + str;\n            }\n            if (this.is_ie) {\n                doc = new ActiveXObject('Msxml2.DOMDocument');\n                doc.loadXML(str);\n                if (str.indexOf('xsl:stylesheet') === -1) {\n                    doc.setProperty('SelectionLanguage', 'XPath');\n                }\n            } else {\n                parser = new DOMParser();\n                doc = parser.parseFromString(str, 'text/xml');\n            }\n            return doc;\n        },\n        extend: function(src, dest) {\n            for (var content in dest) {\n                if (!src[content] || typeof (dest[content]) !== 'object') {\n                    src[content] = dest[content];\n                } else {\n                    this.extend(src[content], dest[content]);\n                }\n            }\n            return src;\n        },\n        node: {}\n    };\n\n    return Defiant;\n\n})(this);\n\n\nif (typeof (XSLTProcessor) === 'undefined') {\n\n    // emulating XSLT Processor (enough to be used in defiant)\n    var XSLTProcessor = function() {};\n    XSLTProcessor.prototype = {\n        importStylesheet: function(xsldoc) {\n            this.xsldoc = xsldoc;\n        },\n        transformToFragment: function(data, doc) {\n            var str = data.transformNode(this.xsldoc),\n                span = document.createElement('span');\n            span.innerHTML = str;\n            return span;\n        }\n    };\n\n} else if (typeof (XSLTProcessor) !== 'function') {\n\n    // throw error\n    throw 'XSLTProcessor transformNode not implemented';\n\n}\n\n\n// extending STRING\nif (!String.prototype.fill) {\n    String.prototype.fill = function(i, c) {\n        var str = this;\n        c = c || ' ';\n        for (; str.length < i; str += c) {\n        }\n        return str;\n    };\n}\n\nif (!String.prototype.trim) {\n    String.prototype.trim = function() {\n        return this.replace(/^\\s+|\\s+$/gm, '');\n    };\n}\n\nif (!String.prototype.xTransform) {\n    String.prototype.xTransform = function() {\n        var str = this;\n        if (this.indexOf('translate(') === -1) {\n            str = this.replace(/contains\\(([^,]+),([^\\\\)]+)\\)/g, function(c, h, n) {\n                var a = 'abcdefghijklmnopqrstuvwxyz',\n                    q = n.trim().slice(-1);\n                return \"contains(translate(\" + h + \", \" + q + a.toUpperCase() + q + \", \" + q + a + q + \"),\" + n.toLowerCase() + \")\";\n            });\n        }\n        return str.toString();\n    };\n}\n\nif (typeof (JSON) === 'undefined') {\n    window.JSON = {\n        parse: function(sJSON) {\n            return eval(\"(\" + sJSON + \")\");\n        },\n        stringify: function(vContent) {\n            if (vContent instanceof Object) {\n                var sOutput = \"\";\n                if (vContent.constructor === Array) {\n                    for (var nId = 0; nId < vContent.length; sOutput += this.stringify(vContent[nId]) + \",\", nId++) ;\n                    return \"[\" + sOutput.substr(0, sOutput.length - 1) + \"]\";\n                }\n                if (vContent.toString !== Object.prototype.toString) {\n                    return \"\\\"\" + vContent.toString().replace(/\"/g, \"\\\\$&\") + \"\\\"\";\n                }\n                for (var sProp in vContent) {\n                    sOutput += \"\\\"\" + sProp.replace(/\"/g, \"\\\\$&\") + \"\\\":\" + this.stringify(vContent[sProp]) + \",\";\n                }\n                return \"{\" + sOutput.substr(0, sOutput.length - 1) + \"}\";\n            }\n            return typeof vContent === \"string\" ? \"\\\"\" + vContent.replace(/\"/g, \"\\\\$&\") + \"\\\"\" : String(vContent);\n        }\n    };\n}\n/* jshint ignore:end */\n\nif (!JSON.toXML) {\n    JSON.toXML = function(tree, callback) {\n        'use strict';\n\n        var interpreter = {\n                map: [],\n                rx_validate_name: /^(?!xml)[a-z_][\\w\\d.:]*$/i,\n                rx_node: /<(.+?)( .*?)>/,\n                rx_constructor: /<(.+?)( d:contr=\".*?\")>/,\n                rx_namespace: / xmlns\\:d=\"defiant\\-namespace\"/,\n                rx_data: /(<.+?>)(.*?)(<\\/d:data>)/i,\n                rx_function: /function (\\w+)/i,\n                namespace: 'xmlns:d=\"defiant-namespace\"',\n                to_xml_str: function(tree) {\n                    return {\n                        str: this.hash_to_xml(null, tree),\n                        map: this.map\n                    };\n                },\n                hash_to_xml: function(name, tree, array_child) {\n                    var is_array = tree.constructor === Array,\n                        elem = [],\n                        attr = [],\n                        key,\n                        val,\n                        val_is_array,\n                        type,\n                        is_attr,\n                        cname,\n                        constr,\n                        cnName,\n                        i;\n\n                    for (key in tree) {\n                        val = tree[key];\n                        if (val === null || val === undefined || val.toString() === 'NaN')\n                            val = null;\n\n                        is_attr = key.slice(0, 1) === '@';\n                        cname = array_child ? name : key;\n                        if (cname == +cname && tree.constructor !== Object)\n                            cname = 'd:item';\n                        if (val === null) {\n                            constr = null;\n                            cnName = false;\n                        } else {\n                            constr = val.constructor;\n                            cnName = constr.toString().match(this.rx_function)[1];\n                        }\n\n                        if (is_attr) {\n                            attr.push(cname.slice(1) + '=\"' + this.escape_xml(val) + '\"');\n                            if (cnName !== 'String') attr.push('d:' + cname.slice(1) + '=\"' + cnName + '\"');\n                        } else if (val === null) {\n                            elem.push(this.scalar_to_xml(cname, val));\n                        } else {\n                            switch (constr) {\n                                case Function:\n                                    // if constructor is function, then it's not a JSON structure\n                                    throw 'JSON data should not contain functions. Please check jour structure.';\n                                /* falls through */\n                                case Object:\n                                    elem.push(this.hash_to_xml(cname, val));\n                                    break;\n                                case Array:\n                                    if (key === cname) {\n                                        val_is_array = val.constructor === Array;\n                                        if (val_is_array) {\n                                            i = val.length;\n                                            while (i--) {\n                                                if (val[i].constructor === Array)\n                                                    val_is_array = true;\n                                                if (!val_is_array && val[i].constructor === Object)\n                                                    val_is_array = true;\n                                            }\n                                        }\n                                        elem.push(this.scalar_to_xml(cname, val, val_is_array));\n                                        break;\n                                    }\n                                /* falls through */\n                                case String:\n                                    if (typeof (val) === 'string') {\n                                        val = val.toString().replace(/\\&/g, '&amp;')\n                                            .replace(/\\r|\\n/g, '&#13;');\n                                    }\n                                    if (cname === '#text') {\n                                        // prepare map\n                                        this.map.push(tree);\n                                        attr.push('d:mi=\"' + this.map.length + '\"');\n                                        attr.push('d:constr=\"' + cnName + '\"');\n                                        elem.push(this.escape_xml(val));\n                                        break;\n                                    }\n                                /* falls through */\n                                case Number:\n                                case Boolean:\n                                    if (cname === '#text' && cnName !== 'String') {\n                                        // prepare map\n                                        this.map.push(tree);\n                                        attr.push('d:mi=\"' + this.map.length + '\"');\n                                        attr.push('d:constr=\"' + cnName + '\"');\n                                        elem.push(this.escape_xml(val));\n                                        break;\n                                    }\n                                    elem.push(this.scalar_to_xml(cname, val));\n                                    break;\n                            }\n                        }\n                    }\n                    if (!name) {\n                        name = 'd:data';\n                        attr.push(this.namespace);\n                        if (is_array) attr.push('d:constr=\"Array\"');\n                    }\n                    if (name.match(this.rx_validate_name) === null) {\n                        attr.push('d:name=\"' + name + '\"');\n                        name = 'd:name';\n                    }\n                    if (array_child) return elem.join('');\n                    // prepare map\n                    this.map.push(tree);\n                    attr.push('d:mi=\"' + this.map.length + '\"');\n\n                    return '<' + name + (attr.length ? ' ' + attr.join(' ') : '') + (elem.length ? '>' + elem.join('') + '</' + name + '>' : '/>');\n                },\n                scalar_to_xml: function(name, val, override) {\n                    var attr = '',\n                        text,\n                        constr,\n                        cnName;\n\n                    // check whether the nodename is valid\n                    if (name.match(this.rx_validate_name) === null) {\n                        attr += ' d:name=\"' + name + '\"';\n                        name = 'd:name';\n                        override = false;\n                    }\n                    if (val === null || val.toString() === 'NaN')\n                        val = null;\n                    if (val === null) return '<' + name + ' d:constr=\"null\"/>';\n                    if (val.length === 1 && val[0].constructor === Object) {\n\n                        text = this.hash_to_xml(false, val[0]);\n\n                        var a1 = text.match(this.rx_node),\n                            a2 = text.match(this.rx_constructor);\n                        a1 = (a1 !== null) ? a1[2].replace(this.rx_namespace, '')\n                            .replace(/>/, '')\n                            .replace(/\"\\/$/, '\"') : '';\n                        a2 = (a2 !== null) ? a2[2] : '';\n\n                        text = text.match(this.rx_data);\n                        text = (text !== null) ? text[2] : '';\n\n                        return '<' + name + a1 + ' ' + a2 + ' d:type=\"ArrayItem\">' + text + '</' + name + '>';\n                    } else if (val.length === 0 && val.constructor === Array) {\n                        return '<' + name + ' d:constr=\"Array\"/>';\n                    }\n                    // else\n                    if (override) {\n                        return this.hash_to_xml(name, val, true);\n                    }\n\n                    constr = val.constructor;\n                    cnName = constr.toString().match(this.rx_function)[1];\n                    text = (constr === Array) ? this.hash_to_xml('d:item', val, true)\n                        : this.escape_xml(val);\n\n                    attr += ' d:constr=\"' + cnName + '\"';\n                    // prepare map\n                    this.map.push(val);\n                    attr += ' d:mi=\"' + this.map.length + '\"';\n\n                    return (name === '#text') ? this.escape_xml(val) : '<' + name + attr + '>' + text + '</' + name + '>';\n                },\n                escape_xml: function(text) {\n                    return String(text).replace(/</g, '&lt;')\n                        .replace(/>/g, '&gt;')\n                        .replace(/\"/g, '&quot;')\n                        .replace(/&nbsp;/g, '&#160;');\n                }\n            },\n            processed,\n            doc,\n            task;\n        // depending on request\n        switch (typeof callback) {\n            case 'function':\n                // compile interpreter with 'x10.js'\n                task = x10.compile(interpreter);\n\n                // parse in a dedicated thread\n                task.to_xml_str(tree, function(processed) {\n                    // snapshot distinctly improves performance\n                    callback({\n                        doc: Defiant.xmlFromString(processed.str),\n                        src: tree,\n                        map: processed.map\n                    });\n                });\n                return;\n            case 'boolean':\n                processed = interpreter.to_xml_str.call(interpreter, tree);\n                // return snapshot\n                return {\n                    doc: Defiant.xmlFromString(processed.str),\n                    src: tree,\n                    map: processed.map\n                };\n            default:\n                processed = interpreter.to_xml_str.call(interpreter, tree);\n                doc = Defiant.xmlFromString(processed.str);\n\n                this.search.map = processed.map;\n                return doc;\n        }\n    };\n}\n\n\nif (!JSON.search) {\n    JSON.search = function(tree, xpath, single) {\n        'use strict';\n\n        var isSnapshot = tree.doc && tree.doc.nodeType,\n            doc = isSnapshot ? tree.doc : JSON.toXML(tree),\n            map = isSnapshot ? tree.map : this.search.map,\n            src = isSnapshot ? tree.src : tree,\n            xres = Defiant.node[single ? 'selectSingleNode' : 'selectNodes'](doc, xpath.xTransform()),\n            ret = [],\n            mapIndex,\n            i;\n\n        if (single)\n            xres = [xres];\n        i = xres.length;\n\n        while (i--) {\n            switch (xres[i].nodeType) {\n                case 2:\n                case 3:\n                    ret.unshift(xres[i].nodeValue);\n                    break;\n                default:\n                    mapIndex = +xres[i].getAttribute('d:mi');\n                    //if (map[mapIndex-1] !== false) {\n                    ret.unshift(map[mapIndex - 1]);\n            //}\n            }\n        }\n\n        // if environment = development, add search tracing\n        if (Defiant.env === 'development') {\n            this.trace = JSON.mtrace(src, ret, xres);\n        }\n\n        return ret;\n    };\n}\n\nif (!JSON.mtrace) {\n    JSON.mtrace = function(root, hits, xres) {\n        'use strict';\n\n        var win = window,\n            stringify = JSON.stringify,\n            sroot = stringify(root, null, '\\t').replace(/\\t/g, ''),\n            trace = [],\n            i = 0,\n            il = xres.length,\n            od = il ? xres[i].ownerDocument.documentElement : false,\n            map = this.search.map,\n            hstr,\n            cConstr,\n            fIndex = 0,\n            mIndex,\n            lStart,\n            lEnd;\n\n        for (; i < il; i++) {\n            switch (xres[i].nodeType) {\n                case 2:\n                    cConstr = xres[i].ownerElement ? xres[i].ownerElement.getAttribute('d:' + xres[i].nodeName) : 'String';\n                    hstr = '\"@' + xres[i].nodeName + '\": ' + win[cConstr](hits[i]);\n                    mIndex = sroot.indexOf(hstr);\n                    lEnd = 0;\n                    break;\n                case 3:\n                    cConstr = xres[i].parentNode.getAttribute('d:constr');\n                    hstr = win[cConstr](hits[i]);\n                    hstr = '\"' + xres[i].parentNode.nodeName + '\": ' + (hstr === 'Number' ? hstr : '\"' + hstr + '\"');\n                    mIndex = sroot.indexOf(hstr);\n                    lEnd = 0;\n                    break;\n                default:\n                    if (xres[i] === od) continue;\n                    if (xres[i].getAttribute('d:constr') === 'String' || xres[i].getAttribute('d:constr') === 'Number') {\n                        cConstr = xres[i].getAttribute('d:constr');\n                        hstr = win[cConstr](hits[i]);\n                        mIndex = sroot.indexOf(hstr, fIndex);\n                        hstr = '\"' + xres[i].nodeName + '\": ' + (cConstr === 'Number' ? hstr : '\"' + hstr + '\"');\n                        lEnd = 0;\n                        fIndex = mIndex + 1;\n                    } else {\n                        hstr = stringify(hits[i], null, '\\t').replace(/\\t/g, '');\n                        mIndex = sroot.indexOf(hstr);\n                        lEnd = hstr.match(/\\n/g).length;\n                    }\n            }\n            lStart = sroot.substring(0, mIndex).match(/\\n/g).length + 1;\n            trace.push([lStart, lEnd]);\n        }\n\n        return trace;\n    };\n}\n\nDefiant.node.selectNodes = function(XNode, XPath) {\n    if (XNode.evaluate) {\n        var ns = XNode.createNSResolver(XNode.documentElement),\n            qI = XNode.evaluate(XPath, XNode, ns, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null),\n            res = [],\n            i = 0,\n            il = qI.snapshotLength;\n        for (; i < il; i++) {\n            res.push(qI.snapshotItem(i));\n        }\n        return res;\n    } else {\n        return XNode.selectNodes(XPath);\n    }\n};\nDefiant.node.selectSingleNode = function(XNode, XPath) {\n    if (XNode.evaluate) {\n        var xI = this.selectNodes(XNode, XPath);\n        return (xI.length > 0) ? xI[0] : null;\n    } else {\n        return XNode.selectSingleNode(XPath);\n    }\n};\n\n\nDefiant.node.prettyPrint = function(node) {\n    var root = Defiant,\n        tabs = root.tabsize,\n        decl = root.xml_decl.toLowerCase(),\n        ser,\n        xstr;\n    if (root.is_ie) {\n        xstr = node.xml;\n    } else {\n        ser = new XMLSerializer();\n        xstr = ser.serializeToString(node);\n    }\n    if (root.env !== 'development') {\n        // if environment is not development, remove defiant related info\n        xstr = xstr.replace(/ \\w+\\:d=\".*?\"| d\\:\\w+=\".*?\"/g, '');\n    }\n    var str = xstr.trim().replace(/(>)\\s*(<)(\\/*)/g, '$1\\n$2$3'),\n        lines = str.split('\\n'),\n        indent = -1,\n        i = 0,\n        il = lines.length,\n        start,\n        end;\n    for (; i < il; i++) {\n        if (i === 0 && lines[i].toLowerCase() === decl) continue;\n        start = lines[i].match(/<[A-Za-z_\\:]+.*?>/g) !== null;\n        //start = lines[i].match(/<[^\\/]+>/g) !== null;\n        end = lines[i].match(/<\\/[\\w\\:]+>/g) !== null;\n        if (lines[i].match(/<.*?\\/>/g) !== null)\n            start = end = true;\n        if (start) indent++;\n        lines[i] = String().fill(indent, '\\t') + lines[i];\n        if (start && end) indent--;\n        if (!start && end) indent--;\n    }\n    return lines.join('\\n').replace(/\\t/g, String().fill(tabs, ' '));\n};\n\n\nDefiant.node.toJSON = function(xnode, stringify) {\n    'use strict';\n\n    var interpret = function(leaf) {\n            var obj = {},\n                win = window,\n                attr,\n                type,\n                item,\n                cname,\n                cConstr,\n                cval,\n                text,\n                i, il, a;\n\n            switch (leaf.nodeType) {\n                case 1:\n                    cConstr = leaf.getAttribute('d:constr');\n                    if (cConstr === 'Array')\n                        obj = [];else if (cConstr === 'String' && leaf.textContent === '')\n                        obj = '';\n\n                    attr = leaf.attributes;\n                    i = 0;\n                    il = attr.length;\n                    for (; i < il; i++) {\n                        a = attr.item(i);\n                        if (a.nodeName.match(/\\:d|d\\:/g) !== null) continue;\n\n                        cConstr = leaf.getAttribute('d:' + a.nodeName);\n                        if (cConstr && cConstr !== 'undefined') {\n                            if (a.nodeValue === 'null')\n                                cval = null;\n                            else\n                                cval = win[cConstr]((a.nodeValue === 'false') ? '' : a.nodeValue);\n                        } else {\n                            cval = a.nodeValue;\n                        }\n                        obj['@' + a.nodeName] = cval;\n                    }\n                    break;\n                case 3:\n                    type = leaf.parentNode.getAttribute('d:type');\n                    cval = (type) ? win[type](leaf.nodeValue === 'false' ? '' : leaf.nodeValue) : leaf.nodeValue;\n                    obj = cval;\n                    break;\n            }\n            if (leaf.hasChildNodes()) {\n                i = 0;\n                il = leaf.childNodes.length;\n                for (; i < il; i++) {\n                    item = leaf.childNodes.item(i);\n                    cname = item.nodeName;\n                    attr = leaf.attributes;\n\n                    if (cname === 'd:name') {\n                        cname = item.getAttribute('d:name');\n                    }\n                    if (cname === '#text') {\n                        cConstr = leaf.getAttribute('d:constr');\n                        if (cConstr === 'undefined')\n                            cConstr = undefined;\n                        text = item.textContent || item.text;\n                        cval = cConstr === 'Boolean' && text === 'false' ? '' : text;\n\n                        if (!cConstr && !attr.length)\n                            obj = cval;else if (cConstr && il === 1) {\n                            obj = win[cConstr](cval);\n                        } else if (!leaf.hasChildNodes()) {\n                            obj[cname] = (cConstr) ? win[cConstr](cval) : cval;\n                        } else {\n                            if (attr.length < 3)\n                                obj = (cConstr) ? win[cConstr](cval) : cval;\n                            else\n                                obj[cname] = (cConstr) ? win[cConstr](cval) : cval;\n                        }\n                    } else {\n                        if (obj[cname]) {\n                            if (obj[cname].push) obj[cname].push(interpret(item));\n                            else\n                                obj[cname] = [obj[cname], interpret(item)];\n                            continue;\n                        }\n                        cConstr = item.getAttribute('d:constr');\n                        switch (cConstr) {\n                            case 'null':\n                                if (obj.push) obj.push(null);\n                                else\n                                    obj[cname] = null;\n                                break;\n                            case 'Array':\n                                //console.log( Defiant.node.prettyPrint(item) );\n                                if (item.parentNode.firstChild === item && cConstr === 'Array' && cname !== 'd:item') {\n                                    if (cname === 'd:item' || cConstr === 'Array') {\n                                        cval = interpret(item);\n                                        obj[cname] = cval.length ? [cval] : cval;\n                                    } else {\n                                        obj[cname] = interpret(item);\n                                    }\n                                } else if (obj.push) obj.push(interpret(item));\n                                else\n                                    obj[cname] = interpret(item);\n                                break;\n                            case 'String':\n                            case 'Number':\n                            case 'Boolean':\n                                text = item.textContent || item.text;\n                                cval = cConstr === 'Boolean' && text === 'false' ? '' : text;\n\n                                if (obj.push) obj.push(win[cConstr](cval));\n                                else\n                                    obj[cname] = interpret(item);\n                                break;\n                            default:\n                                if (obj.push) obj.push(interpret(item));\n                                else\n                                    obj[cname] = interpret(item);\n                        }\n                    }\n                }\n            }\n            if (leaf.nodeType === 1 && leaf.getAttribute('d:type') === 'ArrayItem') {\n                obj = [obj];\n            }\n            return obj;\n        },\n        node = (xnode.nodeType === 9) ? xnode.documentElement : xnode,\n        ret = interpret(node),\n        rn = ret[node.nodeName];\n\n    // exclude root, if \"this\" is root node\n    if (node === node.ownerDocument.documentElement && rn && rn.constructor === Array) {\n        ret = rn;\n    }\n    if (stringify && stringify.toString() === 'true')\n        stringify = '\\t';\n    return stringify ? JSON.stringify(ret, null, stringify) : ret;\n};\n\n\n// check if jQuery is present\nif (typeof (jQuery) !== 'undefined') {\n    (function($) {\n        'use strict';\n\n        $.fn.defiant = function(template, xpath) {\n            this.html(Defiant.render(template, xpath));\n            return this;\n        };\n\n    }(jQuery));\n}\nexport default Defiant;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/lib/defiant.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?-singleton!./chartist.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js?-singleton!./chartist.css\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js?-singleton!./chartist.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/css/chartist.css\n// module id = 500\n// module chunks = 0","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * Wegas\\n * http://wegas.albasim.ch\\n *\\n * Copyright (c) 2013, 2014, 2015 School of Business and Engineering Vaud, Comem\\n * Licensed under the MIT License\\n */\\n\\n\\n.wegas-stats-default .ct-series-a .ct-bar,\\n.wegas-stats-default .ct-series-a .ct-line,\\n.wegas-stats-default .ct-series-a .ct-point,\\n.wegas-stats-default .ct-series-a .ct-slice-donut {\\n    stroke: #6188e2\\n}\\n\\n.wegas-stats-default .ct-series-a .ct-area,\\n.wegas-stats-default .ct-series-a .ct-slice-pie {\\n    fill: #6188e2\\n}\\n\\n.wegas-stats-default .legend .color.ct-series-a {\\n    background-color: #6188e2\\n}\\n\\n.wegas-stats-default .ct-series-b .ct-bar,\\n.wegas-stats-default .ct-series-b .ct-line,\\n.wegas-stats-default .ct-series-b .ct-point,\\n.wegas-stats-default .ct-series-b .ct-slice-donut {\\n    stroke: #f05b4f\\n}\\n\\n.wegas-stats-default .ct-series-b .ct-area,\\n.wegas-stats-default .ct-series-b .ct-slice-pie {\\n    fill: #f05b4f\\n}\\n\\n.wegas-stats-default .legend .color.ct-series-b {\\n    background-color: #f05b4f\\n}\\n\\n.wegas-stats-default .ct-series-c .ct-bar,\\n.wegas-stats-default .ct-series-c .ct-line,\\n.wegas-stats-default .ct-series-c .ct-point,\\n.wegas-stats-default .ct-series-c .ct-slice-donut {\\n    stroke: #f4c63d\\n}\\n\\n.wegas-stats-default .ct-series-c .ct-area,\\n.wegas-stats-default .ct-series-c .ct-slice-pie {\\n    fill: #f4c63d\\n}\\n\\n.wegas-stats-default .legend .color.ct-series-c {\\n    background-color: #f4c63d\\n}\\n\\n.wegas-stats-default .ct-series-d .ct-bar,\\n.wegas-stats-default .ct-series-d .ct-line,\\n.wegas-stats-default .ct-series-d .ct-point,\\n.wegas-stats-default .ct-series-d .ct-slice-donut {\\n    stroke: #d17905\\n}\\n\\n.wegas-stats-default .ct-series-d .ct-area,\\n.wegas-stats-default .ct-series-d .ct-slice-pie {\\n    fill: #d17905\\n}\\n\\n.wegas-stats-default .legend .color.ct-series-d {\\n    background-color: #d17905\\n}\\n\\n.wegas-stats-default .ct-series-e .ct-bar,\\n.wegas-stats-default .ct-series-e .ct-line,\\n.wegas-stats-default .ct-series-e .ct-point,\\n.wegas-stats-default .ct-series-e .ct-slice-donut {\\n    stroke: #453d3f\\n}\\n\\n.wegas-stats-default .ct-series-e .ct-area,\\n.wegas-stats-default .ct-series-e .ct-slice-pie {\\n    fill: #453d3f\\n}\\n\\n.wegas-stats-default .legend .color.ct-series-e {\\n    background-color: #453d3f\\n}\\n\\n.wegas-stats-default .ct-series-f .ct-bar,\\n.wegas-stats-default .ct-series-f .ct-line,\\n.wegas-stats-default .ct-series-f .ct-point,\\n.wegas-stats-default .ct-series-f .ct-slice-donut {\\n    stroke: #59922b\\n}\\n\\n.wegas-stats-default .ct-series-f .ct-area,\\n.wegas-stats-default .ct-series-f .ct-slice-pie {\\n    fill: #59922b\\n}\\n\\n.wegas-stats-default .legend .color.ct-series-f {\\n    background-color: #59922b\\n}\\n\\n.wegas-stats-default .ct-series-g .ct-bar,\\n.wegas-stats-default .ct-series-g .ct-line,\\n.wegas-stats-default .ct-series-g .ct-point,\\n.wegas-stats-default .ct-series-g .ct-slice-donut {\\n    stroke: #0544d3\\n}\\n\\n.wegas-stats-default .ct-series-g .ct-area,\\n.wegas-stats-default .ct-series-g .ct-slice-pie {\\n    fill: #0544d3\\n}\\n\\n.wegas-stats-default .legend .color.ct-series-g {\\n    background-color: #0544d3\\n}\\n\\n.wegas-stats-default .ct-series-h .ct-bar,\\n.wegas-stats-default .ct-series-h .ct-line,\\n.wegas-stats-default .ct-series-h .ct-point,\\n.wegas-stats-default .ct-series-h .ct-slice-donut {\\n    stroke: #6b0392\\n}\\n\\n.wegas-stats-default .ct-series-h .ct-area,\\n.wegas-stats-default .ct-series-h .ct-slice-pie {\\n    fill: #6b0392\\n}\\n\\n.wegas-stats-default .legend .color.ct-series-h {\\n    background-color: #6b0392\\n}\\n\\n.wegas-stats-default .ct-series-i .ct-bar,\\n.wegas-stats-default .ct-series-i .ct-line,\\n.wegas-stats-default .ct-series-i .ct-point,\\n.wegas-stats-default .ct-series-i .ct-slice-donut {\\n    stroke: #f05b4f\\n}\\n\\n.wegas-stats-default .ct-series-i .ct-area,\\n.wegas-stats-default .ct-series-i .ct-slice-pie {\\n    fill: #f05b4f\\n}\\n\\n.wegas-stats-default .legend .color.ct-series-i {\\n    background-color: #f05b4f\\n}\\n\\n.wegas-stats-default .ct-series-j .ct-bar,\\n.wegas-stats-default .ct-series-j .ct-line,\\n.wegas-stats-default .ct-series-j .ct-point,\\n.wegas-stats-default .ct-series-j .ct-slice-donut {\\n    stroke: #dda458\\n}\\n\\n.wegas-stats-default .ct-series-j .ct-area,\\n.wegas-stats-default .ct-series-j .ct-slice-pie {\\n    fill: #dda458\\n}\\n\\n.wegas-stats-default .legend .color.ct-series-j {\\n    background-color: #dda458\\n}\\n\\n.wegas-stats-default .ct-series-k .ct-bar,\\n.wegas-stats-default .ct-series-k .ct-line,\\n.wegas-stats-default .ct-series-k .ct-point,\\n.wegas-stats-default .ct-series-k .ct-slice-donut {\\n    stroke: #eacf7d\\n}\\n\\n.wegas-stats-default .ct-series-k .ct-area,\\n.wegas-stats-default .ct-series-k .ct-slice-pie {\\n    fill: #eacf7d\\n}\\n\\n.wegas-stats-default .legend .color.ct-series-k {\\n    background-color: #eacf7d\\n}\\n\\n.wegas-stats-default .ct-series-l .ct-bar,\\n.wegas-stats-default .ct-series-l .ct-line,\\n.wegas-stats-default .ct-series-l .ct-point,\\n.wegas-stats-default .ct-series-l .ct-slice-donut {\\n    stroke: #86797d\\n}\\n\\n.wegas-stats-default .ct-series-l .ct-area,\\n.wegas-stats-default .ct-series-l .ct-slice-pie {\\n    fill: #86797d\\n}\\n\\n.wegas-stats-default .legend .color.ct-series-l {\\n    background-color: #86797d\\n}\\n\\n.wegas-stats-default .ct-series-m .ct-bar,\\n.wegas-stats-default .ct-series-m .ct-line,\\n.wegas-stats-default .ct-series-m .ct-point,\\n.wegas-stats-default .ct-series-m .ct-slice-donut {\\n    stroke: #b2c326\\n}\\n\\n.wegas-stats-default .ct-series-m .ct-area,\\n.wegas-stats-default .ct-series-m .ct-slice-pie {\\n    fill: #b2c326\\n}\\n\\n.wegas-stats-default .legend .color.ct-series-m {\\n    background-color: #b2c326\\n}\\n\\n.wegas-stats-default .ct-series-n .ct-bar,\\n.wegas-stats-default .ct-series-n .ct-line,\\n.wegas-stats-default .ct-series-n .ct-point,\\n.wegas-stats-default .ct-series-n .ct-slice-donut {\\n    stroke: #FA6942;\\n}\\n\\n.wegas-stats-default .ct-series-n .ct-area,\\n.wegas-stats-default .ct-series-n .ct-slice-pie {\\n    fill: #FA6942;\\n}\\n\\n.wegas-stats-default .legend .color.ct-series-n {\\n    background-color: #FA6942;\\n}\\n\\n.wegas-stats-default .ct-series-o .ct-bar,\\n.wegas-stats-default .ct-series-o .ct-line,\\n.wegas-stats-default .ct-series-o .ct-point,\\n.wegas-stats-default .ct-series-o .ct-slice-donut {\\n    stroke: #a748ca\\n}\\n\\n.wegas-stats-default .ct-series-o .ct-area,\\n.wegas-stats-default .ct-series-o .ct-slice-pie {\\n    fill: #a748ca\\n}\\n\\n.wegas-stats-default .legend .color.ct-series-o {\\n    background-color: #a748ca\\n}\\n\\n.wegas-stats-default .ct-axis-title {\\n    fill: rgba(0,0,0,0.4);\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?-singleton!./src/css/chartist.css\n// module id = 501\n// module chunks = 0"],"sourceRoot":""}