{
    "@class": "GameModel",
    "name": "Leaderway",
    "properties": {
        "cssUri": "wegas-leaderway/css/wegas-leaderway.css",
        "pagesUri": "wegas-leaderway/db/wegas-leaderway-pages.json#"
    },
    "childVariableDescriptors": [{
            "@class": "NumberDescriptor",
            "name": "budget",
            "label": "budget",
            "defaultInstance": {
                "@class": "NumberInstance",
                "value": 75000
            },
            "scope": {
                "@class": "TeamScope"
            }
        }, {
            "@class": "NumberDescriptor",
            "name": "actions",
            "label": "actions",
            "minValue": 0,
            "maxValue": 8,
            "defaultInstance": {
                "@class": "NumberInstance",
                "value": "8"
            },
            "scope": {
                "@class": "TeamScope"
            }
        }, {
            "@class": "NumberDescriptor",
            "name": "week",
            "label": "week",
            "minValue": 0,
            "maxValue": 5,
            "defaultInstance": {
                "@class": "NumberInstance",
                "value": "0"
            },
            "scope": {
                "@class": "TeamScope"
            }
        }, {
            "@class": "NumberDescriptor",
            "name": "teamMotivation",
            "label": "teamMotivation",
            "minValue": 0,
            "maxValue": 100,
            "defaultInstance": {
                "@class": "NumberInstance",
                "value": "50"
            },
            "scope": {
                "@class": "TeamScope"
            }
        }, {
            "@class": "NumberDescriptor",
            "name": "clientsSatisfaction",
            "label": "clientsSatisfaction",
            "minValue": 0,
            "maxValue": 100,
            "defaultInstance": {
                "@class": "NumberInstance",
                "value": "50"
            },
            "scope": {
                "@class": "TeamScope"
            }
        }, {
            "@class": "NumberDescriptor",
            "name": "score",
            "label": "score",
            "defaultInstance": {
                "@class": "NumberInstance",
                "value": 0
            },
            "scope": {
                "@class": "TeamScope"
            }
        }, {
            "@class": "InboxDescriptor",
            "name": "inbox",
            "label": "inbox",
            "defaultInstance": {
                "@class": "InboxInstance"
            },
            "scope": {
                "@class": "TeamScope"
            }
        }, {
            "@class": "TriggerDescriptor",
            "name": "introduction",
            "label": "introduction",
            "defaultInstance": {
                "@class": "TriggerInstance",
                "currentStateId": 1
            },
            "scope": {
                "@class": "TeamScope"
            },
            "states": {
                "1": {
                    "@class": "State",
                    "transitions": [{
                            "@class": "Transition",
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "week.value <= 0",
                                "language": "JavaScript"
                            },
                            "nextStateId": 2
                        }]
                },
                "2": {
                    "@class": "State",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "doIntroduction();",
                        "language": "JavaScript"
                    }
                }
            },
            "oneShot": true,
            "triggerEvent": {
                "@class": "Script",
                "content": "week.value <= 0",
                "language": "JavaScript"
            },
            "postTriggerEvent": {
                "@class": "Script",
                "content": "doIntroduction();",
                "language": "JavaScript"
            }
        }, {
            "@class": "TriggerDescriptor",
            "name": "limiteValues",
            "label": "limiteValues",
            "defaultInstance": {
                "@class": "TriggerInstance",
                "currentStateId": 1
            },
            "scope": {
                "@class": "TeamScope"
            },
            "states": {
                "1": {
                    "@class": "State",
                    "transitions": [{
                            "@class": "Transition",
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "1==1",
                                "language": "JavaScript"
                            },
                            "nextStateId": 2
                        }]
                },
                "2": {
                    "@class": "State",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "limitValues();",
                        "language": "JavaScript"
                    }
                }
            },
            "oneShot": false,
            "triggerEvent": {
                "@class": "Script",
                "content": "1==1",
                "language": "JavaScript"
            },
            "postTriggerEvent": {
                "@class": "Script",
                "content": "limitValues();",
                "language": "JavaScript"
            }
        }, {
            "@class": "ListDescriptor",
            "name": "resources",
            "label": "resources",
            "items": [{
                    "@class": "ResourceDescriptor",
                    "name": "Salmero",
                    "label": "Salmero",
                    "description": "Fernand est franc et n'hésitera pas à vous dire ce qui ne lui convient pas. Engagé pour ses talents de négociateur, il a de l'intérêt pour le web. Expérimenté par une vie de travail, il semble réticent à l'apprentissage de nouvelles méthodes.",
                    "properties": {
                        "surname": "Fernand",
                        "male": true,
                        "learningCoefficient": 0.7,
                        "salary": 4000
                    },
                    "defaultInstance": {
                        "@class": "ResourceInstance",
                        "moral": 80,
                        "confidence": 76,
                        "properties": {
                            "picture": "/fernandPortrait.png",
                            "leadershipLevel": 2,
                            "lastWorkQuality": 70,
                            "wish": "Langages Web",
                            "hate": "Design graphique",
                            "frankness": 90,
                            "numberOfWorkWithLeader": 0,
                            "totalExperienceGained": 120,
                            "dialogue": "dialogueFernand",
                            "hiddenSkillsets": "Modélisation des traitements;Développement logiciel",
                            "wishIsKnow": false,
                            "hateIsKnow": false,
                            "isAdvised": false,
                            "isConsidered": false,
                            "bonusInducement": 0
                        },
                        "skillsets": {
                            "Design graphique": 35,
                            "Développement de base de données": 14,
                            "Développement logiciel": 0,
                            "Langages Web": 32,
                            "Modélisation des traitements": 25,
                            "Négociation": 84
                        }
                    },
                    "scope": {
                        "@class": "TeamScope"
                    }
                }, {
                    "@class": "ResourceDescriptor",
                    "name": "Brossard",
                    "label": "Brossard",
                    "description": "Employé de longue date, elle s'est fait un nom grâce à ses talents de graphiste. Son expérience l'a rend compétentes dans la plupart des tâches et lui permet d'apprend vite. Elle n'hésitera que rarement à vous prévenir si quelque chose la dérange.",
                    "properties": {
                        "surname": "Daniela",
                        "male": false,
                        "learningCoefficient": 1.2,
                        "salary": 3800
                    },
                    "defaultInstance": {
                        "@class": "ResourceInstance",
                        "moral": 45,
                        "confidence": 30,
                        "properties": {
                            "picture": "/danielaPortrait.png",
                            "leadershipLevel": 1,
                            "lastWorkQuality": 48,
                            "wish": "Modélisation des traitements",
                            "hate": "Négociation",
                            "frankness": 65,
                            "numberOfWorkWithLeader": 0,
                            "totalExperienceGained": 0,
                            "dialogue": "dialogueDaniela",
                            "hiddenSkillsets": "Négociation;Modélisation des traitements",
                            "wishIsKnow": false,
                            "hateIsKnow": false,
                            "isAdvised": false,
                            "isConsidered": false,
                            "bonusInducement": 0
                        },
                        "skillsets": {
                            "Design graphique": 73,
                            "Développement de base de données": 23,
                            "Développement logiciel": 0,
                            "Langages Web": 44,
                            "Modélisation des traitements": 10,
                            "Négociation": 54
                        }
                    },
                    "scope": {
                        "@class": "TeamScope"
                    }
                }, {
                    "@class": "ResourceDescriptor",
                    "name": "Vogt",
                    "label": "Vogt",
                    "description": "Jessica a fini sa formation récemment et connait bien les dernières bonnes pratiques concernant les langages Web. Elle a quelque peu de la peine à prendre le point de vue des clients, ce qui la rend peu douée en design par exemple.",
                    "properties": {
                        "surname": "Jessica",
                        "male": false,
                        "learningCoefficient": 1,
                        "salary": 3300
                    },
                    "defaultInstance": {
                        "@class": "ResourceInstance",
                        "moral": 50,
                        "confidence": 34,
                        "properties": {
                            "picture": "/jessicaPortrait.png",
                            "leadershipLevel": 1,
                            "lastWorkQuality": 52,
                            "wish": "Design graphique",
                            "hate": "Négociation",
                            "frankness": 50,
                            "numberOfWorkWithLeader": 0,
                            "totalExperienceGained": 0,
                            "dialogue": "dialogueJessica",
                            "hiddenSkillsets": "Négociation;Design graphique",
                            "wishIsKnow": false,
                            "hateIsKnow": false,
                            "isAdvised": false,
                            "isConsidered": false,
                            "bonusInducement": 0
                        },
                        "skillsets": {
                            "Design graphique": 12,
                            "Développement de base de données": 49,
                            "Développement logiciel": 24,
                            "Langages Web": 62,
                            "Modélisation des traitements": 38,
                            "Négociation": 8
                        }
                    },
                    "scope": {
                        "@class": "TeamScope"
                    }
                }, {
                    "@class": "ResourceDescriptor",
                    "name": "Auguste",
                    "label": "Auguste",
                    "description": "Hector est un développeur logiciel plutôt compétent, alliant connaissances théoriques fraîches et expérience pratique. Parfois un peu brusque, il vous expliquera assez vite son opinion sur les choses qui le dérangent.",
                    "properties": {
                        "surname": "Hector",
                        "male": true,
                        "learningCoefficient": 1.2,
                        "salary": 3400
                    },
                    "defaultInstance": {
                        "@class": "ResourceInstance",
                        "moral": 85,
                        "confidence": 37,
                        "properties": {
                            "picture": "/hectorPortrait.png",
                            "leadershipLevel": 1,
                            "lastWorkQuality": 89,
                            "wish": "Modélisation des traitements",
                            "hate": "",
                            "frankness": 85,
                            "numberOfWorkWithLeader": 0,
                            "totalExperienceGained": 0,
                            "dialogue": "dialogueHector",
                            "hiddenSkillsets": "Langages Web;Négociation",
                            "wishIsKnow": false,
                            "hateIsKnow": false,
                            "isAdvised": false,
                            "isConsidered": false,
                            "bonusInducement": 0
                        },
                        "skillsets": {
                            "Design graphique": 5,
                            "Développement de base de données": 34,
                            "Développement logiciel": 64,
                            "Langages Web": 40,
                            "Modélisation des traitements": 65,
                            "Négociation": 2
                        }
                    },
                    "scope": {
                        "@class": "TeamScope"
                    }
                }, {
                    "@class": "ResourceDescriptor",
                    "name": "Torr",
                    "label": "Torr",
                    "description": "Lucien est le cadet de l'équipe. Il a consacrés toutes ses études aux bases de données. Assez mystérieux, il ne donne que rarement son avis sur les décisions prises le concernant directement.",
                    "properties": {
                        "surname": "Lucien",
                        "male": true,
                        "learningCoefficient": 1,
                        "salary": 3500
                    },
                    "defaultInstance": {
                        "@class": "ResourceInstance",
                        "moral": 50,
                        "confidence": 9,
                        "properties": {
                            "picture": "/lucienPortrait.png",
                            "leadershipLevel": 1,
                            "lastWorkQuality": 66,
                            "wish": "Développement de base de données",
                            "hate": "Design graphique",
                            "frankness": 10,
                            "numberOfWorkWithLeader": 0,
                            "totalExperienceGained": 0,
                            "dialogue": "dialogueLucien",
                            "hiddenSkillsets": "Développement logiciel;Design graphique;Langages Web",
                            "wishIsKnow": false,
                            "hateIsKnow": false,
                            "isAdvised": false,
                            "isConsidered": false,
                            "bonusInducement": 0

                        },
                        "skillsets": {
                            "Design graphique": 12,
                            "Développement de base de données": 72,
                            "Développement logiciel": 25,
                            "Langages Web": 26,
                            "Modélisation des traitements": 34,
                            "Négociation": 45
                        }
                    },
                    "scope": {
                        "@class": "TeamScope"
                    }
                }],
            "defaultInstance": {
                "@class": "NumberInstance",
                "value": 0
            },
            "scope": {
                "@class": "GameModelScope"
            }
        }, {
            "@class": "ListDescriptor",
            "name": "tasks",
            "label": "tasks",
            "items": [{
                    "@class": "TaskDescriptor",
                    "name": "Création de maquettes pour un logiciel de cuisine.",
                    "label": "Création de maquettes pour un logiciel de cuisine.",
                    "properties": {
                        "salary": 3500,
                        "bonus": 0,
                        "workQualityMinForBonus": 0,
                        "clientSatisfactionMinToAppear": 0,
                        "clientSatisfactionMaxToAppear": 100,
                        "appearAtWeek": 1,
                        "disappearAtWeek": 2,
                        "workWithLeader": false
                    },
                    "requirements": [{
                            "@class": "WRequirement",
                            "purview": "Design graphique",
                            "level": "50"
                        }],
                    "defaultInstance": {
                        "@class": "TaskInstance",
                        "duration": 1
                    },
                    "scope": {
                        "@class": "TeamScope"
                    }
                }, {
                    "@class": "TaskDescriptor",
                    "name": "Design graphique d'une page web pour un privé.",
                    "label": "Design graphique d'une page web pour un privé.",
                    "properties": {
                        "salary": 3300,
                        "bonus": 0,
                        "workQualityMinForBonus": 0,
                        "clientSatisfactionMinToAppear": 0,
                        "clientSatisfactionMaxToAppear": 100,
                        "appearAtWeek": 1,
                        "disappearAtWeek": 2,
                        "workWithLeader": false
                    },
                    "requirements": [{
                            "@class": "WRequirement",
                            "purview": "Design graphique",
                            "level": "23"
                        }],
                    "defaultInstance": {
                        "@class": "TaskInstance",
                        "duration": 1
                    },
                    "scope": {
                        "@class": "TeamScope"
                    }
                }, {
                    "@class": "TaskDescriptor",
                    "name": "Modification d'une base de donnée multimédia.",
                    "label": "Modification d'une base de donnée multimédia.",
                    "properties": {
                        "salary": 3700,
                        "bonus": 0,
                        "workQualityMinForBonus": 0,
                        "clientSatisfactionMinToAppear": 0,
                        "clientSatisfactionMaxToAppear": 100,
                        "appearAtWeek": 1,
                        "disappearAtWeek": 3,
                        "workWithLeader": false
                    },
                    "requirements": [{
                            "@class": "WRequirement",
                            "purview": "Développement de base de données",
                            "level": "43"
                        }],
                    "defaultInstance": {
                        "@class": "TaskInstance",
                        "duration": 1
                    },
                    "scope": {
                        "@class": "TeamScope"
                    }
                }, {
                    "@class": "TaskDescriptor",
                    "name": "Modifications d'un logiciel de comptabilité.",
                    "label": "Modifications d'un logiciel de comptabilité.",
                    "properties": {
                        "salary": 8100,
                        "bonus": 0,
                        "workQualityMinForBonus": 0,
                        "clientSatisfactionMinToAppear": 0,
                        "clientSatisfactionMaxToAppear": 100,
                        "appearAtWeek": 1,
                        "disappearAtWeek": 3,
                        "workWithLeader": false
                    },
                    "requirements": [{
                            "@class": "WRequirement",
                            "purview": "Développement logiciel",
                            "level": "39"
                        }],
                    "defaultInstance": {
                        "@class": "TaskInstance",
                        "duration": 2
                    },
                    "scope": {
                        "@class": "TeamScope"
                    }
                }, {
                    "@class": "TaskDescriptor",
                    "name": "Analyse des besoins d'un nouveau CMS.",
                    "label": "Analyse des besoins d'un nouveau CMS.",
                    "properties": {
                        "salary": 8700,
                        "bonus": 0,
                        "workQualityMinForBonus": 0,
                        "clientSatisfactionMinToAppear": 0,
                        "clientSatisfactionMaxToAppear": 100,
                        "appearAtWeek": 1,
                        "disappearAtWeek": 3,
                        "workWithLeader": true
                    },
                    "requirements": [{
                            "@class": "WRequirement",
                            "purview": "Négociation",
                            "level": "60"
                        }, {
                            "@class": "WRequirement",
                            "purview": "Développement logiciel",
                            "level": "25"
                        }],
                    "defaultInstance": {
                        "@class": "TaskInstance",
                        "duration": 2
                    },
                    "scope": {
                        "@class": "TeamScope"
                    }
                }, {
                    "@class": "TaskDescriptor",
                    "name": "Création d'un site web  pour les clients d'une assurance.",
                    "label": "Création d'un site web  pour les clients d'une assurance.",
                    "properties": {
                        "salary": 1300,
                        "bonus": 0,
                        "workQualityMinForBonus": 0,
                        "clientSatisfactionMinToAppear": 0,
                        "clientSatisfactionMaxToAppear": 100,
                        "appearAtWeek": 1,
                        "disappearAtWeek": 4,
                        "workWithLeader": false
                    },
                    "requirements": [{
                            "@class": "WRequirement",
                            "purview": "Langages Web",
                            "level": "54"
                        }, {
                            "@class": "WRequirement",
                            "purview": "Modélisation des traitements",
                            "level": "45"
                        }],
                    "defaultInstance": {
                        "@class": "TaskInstance",
                        "duration": 3
                    },
                    "scope": {
                        "@class": "TeamScope"
                    }
                }, {
                    "@class": "TaskDescriptor",
                    "name": "Modélisation d'un système de payement online.",
                    "label": "Modélisation d'un système de payement online.",
                    "properties": {
                        "salary": 3800,
                        "bonus": 300,
                        "workQualityMinForBonus": 61,
                        "comment": "Bonus de 300 si le travail est bon.",
                        "clientSatisfactionMinToAppear": 0,
                        "clientSatisfactionMaxToAppear": 100,
                        "appearAtWeek": 1,
                        "disappearAtWeek": 4,
                        "workWithLeader": false
                    },
                    "requirements": [{
                            "@class": "WRequirement",
                            "purview": "Modélisation des traitements",
                            "level": "67"
                        }],
                    "defaultInstance": {
                        "@class": "TaskInstance",
                        "duration": 1
                    },
                    "scope": {
                        "@class": "TeamScope"
                    }
                }, {
                    "@class": "TaskDescriptor",
                    "name": "Création d'une base de données pour un privé.",
                    "label": "Création d'une base de données pour un privé.",
                    "properties": {
                        "salary": 7200,
                        "bonus": 600,
                        "workQualityMinForBonus": 42,
                        "comment": "Bonus de 600 si le travail est bon.",
                        "clientSatisfactionMinToAppear": 0,
                        "clientSatisfactionMaxToAppear": 100,
                        "appearAtWeek": 2,
                        "disappearAtWeek": 3,
                        "workWithLeader": false
                    },
                    "requirements": [{
                            "@class": "WRequirement",
                            "purview": "Développement de base de données",
                            "level": "43"
                        }],
                    "defaultInstance": {
                        "@class": "TaskInstance",
                        "duration": 2
                    },
                    "scope": {
                        "@class": "TeamScope"
                    }
                }, {
                    "@class": "TaskDescriptor",
                    "name": "Modélisation des traitements d'un logiciel.",
                    "label": "Modélisation des traitements d'un logiciel.",
                    "properties": {
                        "salary": 12000,
                        "bonus": 0,
                        "workQualityMinForBonus": 0,
                        "clientSatisfactionMinToAppear": 0,
                        "clientSatisfactionMaxToAppear": 100,
                        "appearAtWeek": 2,
                        "disappearAtWeek": 3,
                        "workWithLeader": false
                    },
                    "requirements": [{
                            "@class": "WRequirement",
                            "purview": "Modélisation des traitements",
                            "level": "72"
                        }],
                    "defaultInstance": {
                        "@class": "TaskInstance",
                        "duration": 3
                    },
                    "scope": {
                        "@class": "TeamScope"
                    }
                }, {
                    "@class": "TaskDescriptor",
                    "name": "Analyse des besoins pour un privé.",
                    "label": "Analyse des besoins pour un privé.",
                    "description": "",
                    "properties": {
                        "salary": 6400,
                        "bonus": 0,
                        "workQualityMinForBonus": 0,
                        "comment": "",
                        "clientSatisfactionMinToAppear": 0,
                        "clientSatisfactionMaxToAppear": 30,
                        "appearAtWeek": 2,
                        "disappearAtWeek": 4,
                        "workWithLeader": true
                    },
                    "requirements": [{
                            "@class": "WRequirement",
                            "purview": "Négociation",
                            "level": "65"
                        }],
                    "defaultInstance": {
                        "@class": "TaskInstance",
                        "duration": 2
                    },
                    "scope": {
                        "@class": "TeamScope"
                    }
                }, {
                    "@class": "TaskDescriptor",
                    "name": "Analyse des besoins pour un privé.",
                    "label": "Analyse des besoins pour un privé.",
                    "properties": {
                        "salary": 7400,
                        "bonus": 0,
                        "workQualityMinForBonus": 0,
                        "clientSatisfactionMinToAppear": 30,
                        "clientSatisfactionMaxToAppear": 60,
                        "appearAtWeek": 2,
                        "disappearAtWeek": 4,
                        "workWithLeader": true
                    },
                    "requirements": [{
                            "@class": "WRequirement",
                            "purview": "Négociation",
                            "level": "65"
                        }],
                    "defaultInstance": {
                        "@class": "TaskInstance",
                        "duration": 2
                    },
                    "scope": {
                        "@class": "TeamScope"
                    }
                }, {
                    "@class": "TaskDescriptor",
                    "name": "Analyse des besoins pour un privé.",
                    "label": "Analyse des besoins pour un privé.",
                    "properties": {
                        "salary": 8400,
                        "bonus": 0,
                        "workQualityMinForBonus": 0,
                        "clientSatisfactionMinToAppear": 60,
                        "clientSatisfactionMaxToAppear": 100,
                        "appearAtWeek": 2,
                        "disappearAtWeek": 4,
                        "workWithLeader": true
                    },
                    "requirements": [{
                            "@class": "WRequirement",
                            "purview": "Négociation",
                            "level": "65"
                        }],
                    "defaultInstance": {
                        "@class": "TaskInstance",
                        "duration": 2
                    },
                    "scope": {
                        "@class": "TeamScope"
                    }
                }, {
                    "@class": "TaskDescriptor",
                    "name": "Création d'un d'une démo de logiciel de comptabilité.",
                    "label": "Création d'un d'une démo de logiciel de comptabilité.",
                    "properties": {
                        "salary": 13900,
                        "bonus": 600,
                        "workQualityMinForBonus": 60,
                        "comment": "Bonus de 600 si la tâche est bien réalisée.",
                        "clientSatisfactionMinToAppear": 45,
                        "clientSatisfactionMaxToAppear": 100,
                        "appearAtWeek": 2,
                        "disappearAtWeek": 5,
                        "workWithLeader": false
                    },
                    "requirements": [{
                            "@class": "WRequirement",
                            "purview": "Modélisation des traitements",
                            "level": "67"
                        }, {
                            "@class": "WRequirement",
                            "purview": "Négociation",
                            "level": "20"
                        }, {
                            "@class": "WRequirement",
                            "purview": "Développement logiciel",
                            "level": "60"
                        }],
                    "defaultInstance": {
                        "@class": "TaskInstance",
                        "duration": 3
                    },
                    "scope": {
                        "@class": "TeamScope"
                    }
                }, {
                    "@class": "TaskDescriptor",
                    "name": "Maquette pour un logiciel domotique.",
                    "label": "Maquette pour un logiciel domotique.",
                    "properties": {
                        "salary": 3800,
                        "bonus": 0,
                        "workQualityMinForBonus": 0,
                        "clientSatisfactionMinToAppear": 0,
                        "clientSatisfactionMaxToAppear": 100,
                        "appearAtWeek": 2,
                        "disappearAtWeek": 5,
                        "workWithLeader": false
                    },
                    "requirements": [{
                            "@class": "WRequirement",
                            "purview": "Design graphique",
                            "level": "40"
                        }],
                    "defaultInstance": {
                        "@class": "TaskInstance",
                        "duration": 1
                    },
                    "scope": {
                        "@class": "TeamScope"
                    }
                }, {
                    "@class": "TaskDescriptor",
                    "name": "Migration d'une base de données PostgrSQL.",
                    "label": "Migration d'une base de données PostgrSQL.",
                    "properties": {
                        "salary": 7900,
                        "bonus": 0,
                        "workQualityMinForBonus": 0,
                        "clientSatisfactionMinToAppear": 0,
                        "clientSatisfactionMaxToAppear": 100,
                        "appearAtWeek": 3,
                        "disappearAtWeek": 4,
                        "workWithLeader": false
                    },
                    "requirements": [{
                            "@class": "WRequirement",
                            "purview": "Développement de base de données",
                            "level": "60"
                        }],
                    "defaultInstance": {
                        "@class": "TaskInstance",
                        "duration": 2
                    },
                    "scope": {
                        "@class": "TeamScope"
                    }
                }, {
                    "@class": "TaskDescriptor",
                    "name": "Création d'une page web pour un privé.",
                    "label": "Création d'une page web pour un privé.",
                    "properties": {
                        "salary": 3600,
                        "bonus": 0,
                        "workQualityMinForBonus": 0,
                        "clientSatisfactionMinToAppear": 0,
                        "clientSatisfactionMaxToAppear": 100,
                        "appearAtWeek": 3,
                        "disappearAtWeek": 5,
                        "workWithLeader": false
                    },
                    "requirements": [{
                            "@class": "WRequirement",
                            "purview": "Langages Web",
                            "level": "57"
                        }],
                    "defaultInstance": {
                        "@class": "TaskInstance",
                        "duration": 1
                    },
                    "scope": {
                        "@class": "TeamScope"
                    }
                }, {
                    "@class": "TaskDescriptor",
                    "name": "Création d'un nouveau logo pour l'entreprise.",
                    "label": "Création d'un nouveau logo pour l'entreprise.",
                    "properties": {
                        "salary": 3800,
                        "bonus": 0,
                        "workQualityMinForBonus": 0,
                        "clientSatisfactionMinToAppear": 0,
                        "clientSatisfactionMaxToAppear": 100,
                        "appearAtWeek": 3,
                        "disappearAtWeek": 5,
                        "workWithLeader": true
                    },
                    "requirements": [{
                            "@class": "WRequirement",
                            "purview": "Design graphique",
                            "level": "82"
                        }],
                    "defaultInstance": {
                        "@class": "TaskInstance",
                        "duration": 1
                    },
                    "scope": {
                        "@class": "TeamScope"
                    }
                }, {
                    "@class": "TaskDescriptor",
                    "name": "Création d'une base de données pour un logiciel de domotique.",
                    "label": "Création d'une base de données pour un logiciel de domotique.",
                    "properties": {
                        "salary": 4100,
                        "bonus": 0,
                        "workQualityMinForBonus": 0,
                        "clientSatisfactionMinToAppear": 0,
                        "clientSatisfactionMaxToAppear": 100,
                        "appearAtWeek": 3,
                        "disappearAtWeek": 5,
                        "workWithLeader": false
                    },
                    "requirements": [{
                            "@class": "WRequirement",
                            "purview": "Développement de base de données",
                            "level": "75"
                        }],
                    "defaultInstance": {
                        "@class": "TaskInstance",
                        "duration": 1
                    },
                    "scope": {
                        "@class": "TeamScope"
                    }
                }, {
                    "@class": "TaskDescriptor",
                    "name": "Maquette pour un site web de paris sportif.",
                    "label": "Maquette pour un site web de paris sportif.",
                    "properties": {
                        "salary": 8000,
                        "bonus": 0,
                        "workQualityMinForBonus": 0,
                        "clientSatisfactionMinToAppear": 0,
                        "clientSatisfactionMaxToAppear": 40,
                        "appearAtWeek": 3,
                        "disappearAtWeek": 5,
                        "workWithLeader": false
                    },
                    "requirements": [{
                            "@class": "WRequirement",
                            "purview": "Design graphique",
                            "level": "65"
                        }],
                    "defaultInstance": {
                        "@class": "TaskInstance",
                        "duration": 2
                    },
                    "scope": {
                        "@class": "TeamScope"
                    }
                }, {
                    "@class": "TaskDescriptor",
                    "name": "Maquette pour un site web de paris sportif.",
                    "label": "Maquette pour un site web de paris sportif.",
                    "properties": {
                        "salary": 9000,
                        "bonus": 0,
                        "workQualityMinForBonus": 0,
                        "clientSatisfactionMinToAppear": 40,
                        "clientSatisfactionMaxToAppear": 70,
                        "appearAtWeek": 3,
                        "disappearAtWeek": 5,
                        "workWithLeader": false
                    },
                    "requirements": [{
                            "@class": "WRequirement",
                            "purview": "Design graphique",
                            "level": "75"
                        }],
                    "defaultInstance": {
                        "@class": "TaskInstance",
                        "duration": 2
                    },
                    "scope": {
                        "@class": "TeamScope"
                    }
                }, {
                    "@class": "TaskDescriptor",
                    "name": "Maquette pour un site web de paris sportif.",
                    "label": "Maquette pour un site web de paris sportif.",
                    "description": "",
                    "properties": {
                        "salary": 10000,
                        "bonus": 0,
                        "workQualityMinForBonus": 0,
                        "comment": "",
                        "clientSatisfactionMinToAppear": 70,
                        "clientSatisfactionMaxToAppear": 100,
                        "appearAtWeek": 3,
                        "disappearAtWeek": 5,
                        "workWithLeader": false
                    },
                    "requirements": [{
                            "@class": "WRequirement",
                            "purview": "Design graphique",
                            "level": "85"
                        }],
                    "defaultInstance": {
                        "@class": "TaskInstance",
                        "duration": 2
                    },
                    "scope": {
                        "@class": "TeamScope"
                    }
                }, {
                    "@class": "TaskDescriptor",
                    "name": "Résolution de problème sur le logiciel d'un ancien mandat.",
                    "label": "Résolution de problème sur le logiciel d'un ancien mandat.",
                    "properties": {
                        "salary": 7800,
                        "bonus": 0,
                        "workQualityMinForBonus": 0,
                        "clientSatisfactionMinToAppear": 0,
                        "clientSatisfactionMaxToAppear": 100,
                        "appearAtWeek": 3,
                        "disappearAtWeek": 6,
                        "workWithLeader": false
                    },
                    "requirements": [{
                            "@class": "WRequirement",
                            "purview": "Développement logiciel",
                            "level": "54"
                        }],
                    "defaultInstance": {
                        "@class": "TaskInstance",
                        "duration": 2
                    },
                    "scope": {
                        "@class": "TeamScope"
                    }
                }, {
                    "@class": "TaskDescriptor",
                    "name": "Modification de la base de données d'une banque.",
                    "label": "Modification de la base de données d'une banque.",
                    "properties": {
                        "salary": 15000,
                        "bonus": 700,
                        "workQualityMinForBonus": 55,
                        "comment": "Bonus de 700 si correctement réalisé.",
                        "clientSatisfactionMinToAppear": 0,
                        "clientSatisfactionMaxToAppear": 100,
                        "appearAtWeek": 3,
                        "disappearAtWeek": 6,
                        "workWithLeader": false
                    },
                    "requirements": [{
                            "@class": "WRequirement",
                            "purview": "Modélisation de base de données",
                            "level": "94"
                        }, {
                            "@class": "WRequirement",
                            "purview": "Modélisation des traitements",
                            "level": "60"
                        }],
                    "defaultInstance": {
                        "@class": "TaskInstance",
                        "duration": 3
                    },
                    "scope": {
                        "@class": "TeamScope"
                    }
                }, {
                    "@class": "TaskDescriptor",
                    "name": "Modélisation des traitements d'un logiciel de logistique de la Poste.",
                    "label": "Modélisation des traitements d'un logiciel de logistique de la Poste.",
                    "properties": {
                        "salary": 16500,
                        "bonus": 0,
                        "workQualityMinForBonus": 0,
                        "clientSatisfactionMinToAppear": 60,
                        "clientSatisfactionMaxToAppear": 100,
                        "appearAtWeek": 3,
                        "disappearAtWeek": 6,
                        "workWithLeader": false
                    },
                    "requirements": [{
                            "@class": "WRequirement",
                            "purview": "Modélisation des traitements",
                            "level": "62"
                        }],
                    "defaultInstance": {
                        "@class": "TaskInstance",
                        "duration": 4
                    },
                    "scope": {
                        "@class": "TeamScope"
                    }
                }, {
                    "@class": "TaskDescriptor",
                    "name": "Modélisation d'une base de données.",
                    "label": "Modélisation d'une base de données.",
                    "properties": {
                        "salary": 3600,
                        "bonus": 0,
                        "workQualityMinForBonus": 0,
                        "clientSatisfactionMinToAppear": 0,
                        "clientSatisfactionMaxToAppear": 100,
                        "appearAtWeek": 4,
                        "disappearAtWeek": 5,
                        "workWithLeader": true
                    },
                    "requirements": [{
                            "@class": "WRequirement",
                            "purview": "Modélisation de base de données",
                            "level": "56"
                        }],
                    "defaultInstance": {
                        "@class": "TaskInstance",
                        "duration": 1
                    },
                    "scope": {
                        "@class": "TeamScope"
                    }
                }, {
                    "@class": "TaskDescriptor",
                    "name": "Développement de la partie HTML/CSS d'un site internet.",
                    "label": "Développement de la partie HTML/CSS d'un site internet.",
                    "properties": {
                        "salary": 4000,
                        "bonus": 0,
                        "workQualityMinForBonus": 0,
                        "clientSatisfactionMinToAppear": 0,
                        "clientSatisfactionMaxToAppear": 100,
                        "appearAtWeek": 4,
                        "disappearAtWeek": 6,
                        "workWithLeader": false
                    },
                    "requirements": [{
                            "@class": "WRequirement",
                            "purview": "Langages Web",
                            "level": "54"
                        }],
                    "defaultInstance": {
                        "@class": "TaskInstance",
                        "duration": 1
                    },
                    "scope": {
                        "@class": "TeamScope"
                    }
                }, {
                    "@class": "TaskDescriptor",
                    "name": "Rédaction d'un cahier des charges pour un site d'artiste.",
                    "label": "Rédaction d'un cahier des charges pour un site d'artiste.",
                    "properties": {
                        "salary": 8400,
                        "bonus": 0,
                        "workQualityMinForBonus": 0,
                        "clientSatisfactionMinToAppear": 0,
                        "clientSatisfactionMaxToAppear": 100,
                        "appearAtWeek": 4,
                        "disappearAtWeek": 6,
                        "workWithLeader": false
                    },
                    "requirements": [{
                            "@class": "WRequirement",
                            "purview": "Négociation",
                            "level": "40"
                        }, {
                            "@class": "WRequirement",
                            "purview": "Langages Web",
                            "level": "30"
                        }],
                    "defaultInstance": {
                        "@class": "TaskInstance",
                        "duration": 2
                    },
                    "scope": {
                        "@class": "TeamScope"
                    }
                }, {
                    "@class": "TaskDescriptor",
                    "name": "Demande d'un prêt pour la rénovation des bureaux.",
                    "label": "Demande d'un prêt pour la rénovation des bureaux.",
                    "properties": {
                        "salary": 6000,
                        "bonus": 1000,
                        "workQualityMinForBonus": 66,
                        "comment": "Bonus de 1000 si bien réalisé.",
                        "clientSatisfactionMinToAppear": 0,
                        "clientSatisfactionMaxToAppear": 100,
                        "appearAtWeek": 5,
                        "disappearAtWeek": 6,
                        "workWithLeader": true
                    },
                    "requirements": [{
                            "@class": "WRequirement",
                            "purview": "Négociation",
                            "level": "40"
                        }, {
                            "@class": "WRequirement",
                            "purview": "Langages Web",
                            "level": "30"
                        }],
                    "defaultInstance": {
                        "@class": "TaskInstance",
                        "duration": 2
                    },
                    "scope": {
                        "@class": "TeamScope"
                    }
                }, {
                    "@class": "TaskDescriptor",
                    "name": "Modifications d'un logiciel de recette cuisine.",
                    "label": "Modifications d'un logiciel de recette cuisine.",
                    "properties": {
                        "salary": 4000,
                        "bonus": 0,
                        "workQualityMinForBonus": 0,
                        "clientSatisfactionMinToAppear": 0,
                        "clientSatisfactionMaxToAppear": 100,
                        "appearAtWeek": 5,
                        "disappearAtWeek": 6,
                        "workWithLeader": false
                    },
                    "requirements": [{
                            "@class": "WRequirement",
                            "purview": "Développement logiciel",
                            "level": "60"
                        }],
                    "defaultInstance": {
                        "@class": "TaskInstance",
                        "duration": 1
                    },
                    "scope": {
                        "@class": "TeamScope"
                    }
                }, {
                    "@class": "TaskDescriptor",
                    "name": "Résolution de problème d'un logiciel de comptabilité.",
                    "label": "Résolution de problème d'un logiciel de comptabilité.",
                    "properties": {
                        "salary": 6000,
                        "bonus": 0,
                        "workQualityMinForBonus": 0,
                        "clientSatisfactionMinToAppear": 0,
                        "clientSatisfactionMaxToAppear": 100,
                        "appearAtWeek": 5,
                        "disappearAtWeek": 6,
                        "workWithLeader": false
                    },
                    "requirements": [{
                            "@class": "WRequirement",
                            "purview": "Développement logiciel",
                            "level": "80"
                        }],
                    "defaultInstance": {
                        "@class": "TaskInstance",
                        "duration": 1
                    },
                    "scope": {
                        "@class": "TeamScope"
                    }
                }],
            "defaultInstance": {
                "@class": "NumberInstance",
                "value": 0
            },
            "scope": {
                "@class": "GameModelScope"
            }
        }, {
            "@class": "ListDescriptor",
            "name": "absences",
            "label": "absences",
            "items": [{
                    "@class": "TaskDescriptor",
                    "name": "sickness",
                    "label": "sickness",
                    "description": "",
                    "defaultInstance": {
                        "@class": "TaskInstance",
                        "duration": 1
                    },
                    "scope": {
                        "@class": "TeamScope"
                    }
                }, {
                    "@class": "TaskDescriptor",
                    "name": "sickness2",
                    "label": "sickness2",
                    "description": "",
                    "defaultInstance": {
                        "@class": "TaskInstance",
                        "duration": 2
                    },
                    "scope": {
                        "@class": "TeamScope"
                    }
                }],
            "defaultInstance": {
                "@class": "NumberInstance",
                "value": 0
            },
            "scope": {
                "@class": "GameModelScope"
            }
        }, {
            "@class": "DialogueDescriptor",
            "name": "dialogueFernand",
            "label": "dialogueFernand",
            "defaultInstance": {
                "@class": "FSMInstance",
                "currentStateId": 1
            },
            "scope": {
                "@class": "TeamScope"
            },
            "states": {
                "1": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Fernand\",\n\"texts\":[\n\"Oh, Salut.\",\n\"Bonjour.\",\n\"Salut, comment vas-tu ?\"\n],\n\"backgroundImages\":[{\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/fernandNeutre.gif\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}] ,\"answerImages\":[{\n\"link\":\"/fernandNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Partir (+1 action)",
                            "nextStateId": 2
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Donner un mandat",
                            "nextStateId": 5,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var i, j, gm = self.getGameModel(), free = true, tasks, taskDesc, absences, absenceDesc, assignmentTaskId, resInst;\n resInst = VariableDescriptorFacade.findByName(gm, 'resources').items.get(0).getInstance(self);\nabsences = VariableDescriptorFacade.findByName(gm, 'absences');\ntasks = VariableDescriptorFacade.findByName(gm, 'tasks');\nfor(i=0;i<resInst.getAssignments().size();i++){\nassignmentTaskId = resInst.getAssignments().get(i).getTaskDescriptorId();\nfor(j=0;j<tasks.items.size();j++){\ntasksDesc = tasks.items.get(j);\nif(tasksDesc.getInstance(self).getActive()==true && tasksDesc.getId() == assignmentTaskId){\nfree = false;\nbreak;\n}\n}\nfor(j=0;j<absences.items.size();j++){\nabsenceDesc = absences.items.get(j);\nif(absenceDesc.getInstance(self).getActive()==true && absenceDesc.getId() == assignmentTaskId){\nfree = false;\nbreak;\n}\n}\n}\nfree;",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Féliciter",
                            "nextStateId": 20,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(0).getInstance(self);\nresInst.getProperty('isConsidered')=='false';",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Réprimander",
                            "nextStateId": 23,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(0).getInstance(self);\nresInst.getProperty('isConsidered')=='false';",
                                "language": "JavaScript"
                            }
                        },
                        {
                            "@class": "DialogueTransition",
                            "actionText": "Demander si tout va bien",
                            "nextStateId": 26
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 30,
                        "y": 390
                    }
                },
                "2": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Salut. Désolé, je suis pressé. Bonne journée.\",\n\"Bonjour. Continue, je ne fait que passer.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/fernandNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "actions.value++;",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 3
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 230,
                        "y": 30
                    }
                },
                "3": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Fernand\",\n\"texts\":[\n\"Oh, très bien. Bonne journée.\",\n\"D'accord, à plus tard.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/fernandPerplexe.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 430,
                        "y": 30
                    }
                },
                "5": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Salut, Je souhaiterais que tu me réalises ce mandat.\",\n\"Salut ! J'ai du travail pour toi.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/fernandNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Choisir un mandat",
                            "nextStateId": 6
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 230,
                        "y": 390
                    }
                },
                "6": {
                    "@class": "DialogueState",
                    "text": "{\n\"subPageId\":\"4\",\n\"targetPageLoaderId\":\"maindisplayarea\",\n\"functionAfterTransition\":\"e.newVal.switchToPickingMode(Y.Wegas.Facade.VariableDescriptor.cache.find('name', 'resources').get('items')[0], 7)\"\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "-",
                            "nextStateId": 7
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 430,
                        "y": 390
                    }
                },
                "7": {
                    "@class": "DialogueState",
                    "text": "",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "-",
                            "nextStateId": 8,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var i, j, gm = self.getGameModel(), isWish = false, isHate = false, tasks, taskDesc, taskInst, skills, assignmentTaskId, resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(0).getInstance(self);\ntasks = VariableDescriptorFacade.findByName(gm, 'tasks');\nfor(i=0;i<resInst.getAssignments().size();i++){\nassignmentTaskId = resInst.getAssignments().get(i).getTaskDescriptorId();\nfor(j=0;j<tasks.items.size();j++){\ntaskDesc = tasks.items.get(j);\nif(taskDesc.getInstance(self).getActive()==true  && taskDesc.getId() == assignmentTaskId){\ntaskInst = taskDesc.getInstance(self);\nbreak;\n}\n}\n}\nif(taskDesc != null){\nfor(i=0; i<taskDesc.getRequirements().size(); i++){\nskills=taskDesc.getRequirements().get(i).getPurview();\nif(skills == resInst.getProperty('wish')) isWish = true;\nif(skills == resInst.getProperty('hate')) isHate = true;\n}\n}\ntaskInst!=null&&!isWish&&isHate&&(resInst.getConfidence()>=75||resInst.getProperty('leadershipLevel')>1);",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "-",
                            "nextStateId": 15,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var i, j, gm = self.getGameModel(), isWish = false, isHate = false, tasks, taskDesc, taskInst, skills, assignmentTaskId, resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(0).getInstance(self);\ntasks = VariableDescriptorFacade.findByName(gm, 'tasks');\nfor(i=0;i<resInst.getAssignments().size();i++){\nassignmentTaskId = resInst.getAssignments().get(i).getTaskDescriptorId();\nfor(j=0;j<tasks.items.size();j++){\ntaskDesc = tasks.items.get(j);\nif(taskDesc.getInstance(self).getActive()==true  && taskDesc.getId() == assignmentTaskId){\ntaskInst = taskDesc.getInstance(self);\nbreak;\n}\n}\n}\nif(taskInst != null){\nfor(i=0; i<taskDesc.getRequirements().size(); i++){\nskills=taskDesc.getRequirements().get(i).getPurview();\nif(skills == resInst.getProperty('wish')) isWish = true;\nif(skills == resInst.getProperty('hate')) isHate = true;\n}\n}\ntaskInst!=null&&isWish&&!isHate;",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "-",
                            "nextStateId": 16,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var i, j, gm = self.getGameModel(), isWish = false, isHate = false, tasks, taskDesc, taskInst, skills, assignmentTaskId, resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(0).getInstance(self);\ntasks = VariableDescriptorFacade.findByName(gm, 'tasks');\nfor(i=0;i<resInst.getAssignments().size();i++){\nassignmentTaskId = resInst.getAssignments().get(i).getTaskDescriptorId();\nfor(j=0;j<tasks.items.size();j++){\ntaskDesc = tasks.items.get(j);\nif(taskDesc.getInstance(self).getActive()==true  && taskDesc.getId() == assignmentTaskId){\ntaskInst = taskDesc.getInstance(self);\nbreak;\n}\n}\n}\nif(taskInst != null){\nfor(i=0; i<taskDesc.getRequirements().size(); i++){\nskills=taskDesc.getRequirements().get(i).getPurview();\nif(skills == resInst.getProperty('wish')) isWish = true;\nif(skills == resInst.getProperty('hate')) isHate = true;\n}\n}\ntaskInst!=null&&((isWish&&isHate)||(!isWish&&!isHate));",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "-",
                            "nextStateId": 17,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var i, j, gm = self.getGameModel(), isWish = false, isHate = false, tasks, taskDesc, taskInst, skills, assignmentTaskId, resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(0).getInstance(self);\ntasks = VariableDescriptorFacade.findByName(gm, 'tasks');\nfor(i=0;i<resInst.getAssignments().size();i++){\nassignmentTaskId = resInst.getAssignments().get(i).getTaskDescriptorId();\nfor(j=0;j<tasks.items.size();j++){\ntaskDesc = tasks.items.get(j);\nif(taskDesc.getInstance(self).getActive()==true  && taskDesc.getId() == assignmentTaskId){\ntaskInst = taskDesc.getInstance(self);\nbreak;\n}\n}\n}\nif(taskInst != null){\nfor(i=0; i<taskDesc.getRequirements().size(); i++){\nskills=taskDesc.getRequirements().get(i).getPurview();\nif(skills == resInst.getProperty('wish')) isWish = true;\nif(skills == resInst.getProperty('hate')) isHate = true;\n}\n}\ntaskInst!=null&&!isWish&&isHate&&(resInst.getConfidence()<75&&resInst.getProperty('leadershipLevel')<=1);",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "-",
                            "nextStateId": 18,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var i, j, gm = self.getGameModel(), isWish = false, isHate = false, tasks, taskDesc, taskInst, skills, assignmentTaskId, resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(0).getInstance(self);\ntasks = VariableDescriptorFacade.findByName(gm, 'tasks');\nfor(i=0;i<resInst.getAssignments().size();i++){\nassignmentTaskId = resInst.getAssignments().get(i).getTaskDescriptorId();\nfor(j=0;j<tasks.items.size();j++){\ntaskDesc = tasks.items.get(j);\nif(taskDesc.getInstance(self).getActive()==true  && taskDesc.getId() == assignmentTaskId){\ntaskInst = taskDesc.getInstance(self);\nbreak;\n}\n}\n}\nif(taskInst != null){\nfor(i=0; i<taskDesc.getRequirements().size(); i++){\nskills=taskDesc.getRequirements().get(i).getPurview();\nif(skills == resInst.getProperty('wish')) isWish = true;\nif(skills == resInst.getProperty('hate')) isHate = true;\n}\n}\ntaskInst==null;",
                                "language": "JavaScript"
                            }
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 630,
                        "y": 210
                    }
                },
                "8": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Fernand\",\n\"texts\":[\n\"Excuse-moi mais je ne me sens vraiment pas à l'aise avec les travaux dans ce domaine. Puis-je travailler sur autre chose ?\",\n\"Je ne suis pas à l'aise avec ce genre de travaux, n'y a-t-il pas d'autre tâche ?\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/fernandPensif.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(0).getInstance(self);\nresInst.setMoral(resInst.getMoral()-5);\nresInst.setConfidence(resInst.getConfidence()-10);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Annuler la demande",
                            "nextStateId": 9
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Obliger l'acceptation",
                            "nextStateId": 10
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 830,
                        "y": 210
                    }
                },
                "9": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Oh pardon, je ne pensais que ça te rebuterait autant. Laisser-moi réfléchir à ce que je peux te donner d'autre.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/fernandPerplexe.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(0).getInstance(self);\nresInst.setMoral(resInst.getMoral()+5);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Choisir à nouveau",
                            "nextStateId": 6
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 210
                    }
                },
                "10": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Tu sais, on ne peut pas toujours travailler sur ce qui nous plaît. J'essaierai de vous te un travail qui vous plait mieux la prochaine fois.\",\n\"Je pense que c'est bien pour toi de travailler dans ce domaine, je te donnerai une tâche qui t'intéresse plus la prochaine fois.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/fernandPerplexe.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 11,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(0).getInstance(self);\nresInst.getProperty('leadershipLevel')>2||(resInst.getProperty('leadershipLevel')>1&&resInst.getConfidence()>=50);",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 13,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(0).getInstance(self);\nresInst.getProperty('leadershipLevel')<=1||(resInst.getProperty('leadershipLevel')<3&&resInst.getConfidence()<50);",
                                "language": "JavaScript"
                            }
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 390
                    }
                },
                "11": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Fernand\",\n\"texts\":[\n\"Très bien, je te fais confiance.\",\n\"Bon je ferai de mon mieux.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/fernandTriste.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(0).getInstance(self);\nresInst.setMoral(resInst.getMoral()-10);\nresInst.setConfidence(resInst.getConfidence()+5);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1230,
                        "y": 390
                    }
                },
                "13": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Fernand\",\n\"texts\":[\n\"Bon je vais le faire.\",\n\"Pff bon ok.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/fernandFache.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(0).getInstance(self);\nresInst.setMoral(resInst.getMoral()-25);\nresInst.setConfidence(resInst.getConfidence()-10);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1230,
                        "y": 570
                    }
                },
                "15": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Fernand\",\n\"texts\":[\n\"Très bien, je ferai de mon mieux. Merci !\",\n\"Je le ferai avec grand plaisir, merci beaucoup !\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/fernandJoie.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(0).getInstance(self);\nresInst.setMoral(resInst.getMoral()+25);\nresInst.setConfidence(resInst.getConfidence()+20);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 830,
                        "y": 570
                    }
                },
                "16": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Fernand\",\n\"texts\":[\n\"D'accord, je vais m'en charger.\",\n\"Je n'ai rien contre, je vais m'y mettre.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/fernandNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 830,
                        "y": 750
                    }
                },
                "17": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Fernand\",\n\"texts\":[\n\"Ben tiens. C'est bon je vais vous le faire votre mandat.\",\n\"Ouais je sens déjà la motivation venir\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/fernandFache.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(0).getInstance(self);\nresInst.setMoral(resInst.getMoral()-30);\nresInst.setConfidence(resInst.getConfidence()-20);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 830,
                        "y": 930
                    }
                },
                "18": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Ah heu finalement non, rien ne convient.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/fernandPerplexe.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(0).getInstance(self);\nresInst.setConfidence(resInst.getConfidence()-10)",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 830,
                        "y": 1110
                    }
                },
                "19": {
                    "@class": "DialogueState",
                    "text": "{\n\"subPageId\":\"2\",\n\"targetPageLoaderId\":\"maindisplayarea\",\n\"functionAfterTransition\":\"e.newVal.setResourceDescriptor(Y.Wegas.Facade.VariableDescriptor.cache.find('name', 'resources').get('items')[0])\"\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "-",
                            "nextStateId": 1
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1430,
                        "y": 1110
                    }
                },
                "20": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Bonjour, je souhaitais te féliciter personnellement pour la qualité de tes travaux. Cela fait plaisir d'avoir des employés de ton calibre.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/fernandNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(0).getInstance(self);\nresInst.setProperty('isConsidered', 'true')",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 21,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(0).getInstance(self);\nresInst.getProperty('lastWorkQuality')>=50;",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 22,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(0).getInstance(self);\nresInst.getProperty('lastWorkQuality')<50;",
                                "language": "JavaScript"
                            }
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 230,
                        "y": 1290
                    }
                },
                "21": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Fernand\",\n\"texts\":[\n\"Eh bien, merci beaucoup. J'essaye toujours de faire de mon mieux.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/fernandJoie.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(0).getInstance(self);\nresInst.setMoral(resInst.getMoral()+20);\nresInst.setConfidence(resInst.getConfidence()+10)",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 430,
                        "y": 1290
                    }
                },
                "22": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Fernand\",\n\"texts\":[\n\"Heu merci beaucoup ?\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/fernandPerplexe.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(0).getInstance(self);\nresInst.setConfidence(resInst.getConfidence()-15);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 430,
                        "y": 1470
                    }
                },
                "23": {
                    "@class": "DialogueState",
                    "text": "{\"speakerName\":\"Leader\",\n\"texts\":[\n\"Ton attitude au travail me déplaît beaucoup. Je te conseille de faire un effort sinon je serai malheureusement contraint de prendre les mesures qui s'imposent.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/fernandNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(0).getInstance(self);\nresInst.setProperty('isConsidered', 'true')",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 24,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(0).getInstance(self);\nresInst.getProperty('lastWorkQuality')>=50;",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 25,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(0).getInstance(self);\nresInst.getProperty('lastWorkQuality')<50;",
                                "language": "JavaScript"
                            }
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 230,
                        "y": 1650
                    }
                },
                "24": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Fernand\",\n\"texts\":[\n\"Euh pardon, mon travail me semblait suffisant. Je vais essayer de faire mieux la prochaine fois.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/fernandPerplexe.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(0).getInstance(self);\nresInst.setConfidence(resInst.getConfidence()-10);\nresInst.setMoral(resInst.getMoral()-20);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 430,
                        "y": 1650
                    }
                },
                "25": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Fernand\",\n\"texts\":[\n\"Je suis désolé ça n'arrivera plus.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/fernandTriste.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(0).getInstance(self);\nresInst.setMoral(resInst.getMoral()-10);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 430,
                        "y": 1830
                    }
                },
                "26": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Salut, Si tu as un peu de temps, j'aimerais savoir si tout va comme tu le souhaite.\",\n\"Salut, je voulais prendre un peu de temps pour m'assurer que tout va comme tu le souhaites.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/fernandNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 27
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 230,
                        "y": 2110
                    }
                },
                "27": {
                    "@class": "State",
                    "transitions": [{
                            "@class": "Transition",
                            "nextStateId": 29,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var chance, alea=1, transition = false, resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(0).getInstance(self);\nif(parseInt(resInst.getConfidence()) + parseInt(resInst.getProperty('bonusInducement'))>= 75||parseInt(resInst.getProperty('leadershipLevel'))>1){\nif(resInst.getProperty('wishIsKnow')=='false') alea += 1;\nif(resInst.getProperty('hateIsKnow')=='false') alea += 1;\nif(resInst.getProperty('hiddenSkillsets')!='') alea += 1;\nchance = Math.floor(Math.random()*alea)+1;\nif(resInst.getProperty('wishIsKnow') == 'false' && chance <=1) transition = true\n}\ntransition",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "Transition",
                            "nextStateId": 32,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var chance, alea=1, transition = false, resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(0).getInstance(self);\nif(parseInt(resInst.getConfidence()) + parseInt(resInst.getProperty('bonusInducement'))>= 75||parseInt(resInst.getProperty('leadershipLevel'))>1){\nif(resInst.getProperty('hateIsKnow')=='false') alea += 1;\nif(resInst.getProperty('hiddenSkillsets')!='') alea += 1;\nchance = Math.floor(Math.random()*alea)+1;\nif(resInst.getProperty('hateIsKnow') == 'false' && chance <=1) transition = true}\ntransition",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "Transition",
                            "nextStateId": 35,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var chance, alea=1, transition = false, resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(0).getInstance(self);\nif(parseInt(resInst.getConfidence()) + parseInt(resInst.getProperty('bonusInducement'))>= 75||parseInt(resInst.getProperty('leadershipLevel'))>1){\nif(resInst.getProperty('hiddenSkillsets')!=='') alea += 1;\nchance = Math.floor(Math.random()*alea)+1;\nif(resInst.getProperty('hiddenSkillsets') != '' && chance <=1) transition = true\n}\ntransition",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "Transition",
                            "nextStateId": 37,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "1==1",
                                "language": "JavaScript"
                            }
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 430,
                        "y": 2110
                    }
                },
                "29": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Fernand\",\n\"texts\":[\n\"En réalité, j'aimerais beaucoup travailler sur des mandats du genre &codeY.Wegas.Facade.VariableDescriptor.cache.find('name', 'resources').get('items')[0].getInstance().get('properties').wish&code. Penses-tu pouvoir me donner un travail dans ce domaine ?\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/fernandConfiant.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 30
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 830,
                        "y": 2110
                    }
                },
                "30": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Bien sûr, je te promets de te transmettre un mandat de ce type dès qu'il  en aura au moins un qui te convient.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/fernandJoie.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(0).getInstance(self);\nresInst.setMoral(resInst.getMoral()+10);\nresInst.setConfidence(resInst.getConfidence()+10);\nresInst.setProperty('wishIsKnow', 'true');",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 2110
                    }
                },
                "32": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Fernand\",\n\"texts\":[\n\"Je ne l'ai encore jamais précisé, mais je n'aime vraiment pas travailler sur des mandats du genre &codeY.Wegas.Facade.VariableDescriptor.cache.find('name', 'resources').get('items')[0].getInstance().get('properties').hate&code. Est-ce que tu penses pouvoir éviter de me donner des travaux de ce type ?\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/fernandConfiant.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 33
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 830,
                        "y": 2290
                    }
                },
                "33": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Oui bien sûr si j'ai des mandats d'un autre genre et adapté à ton niveau. En revanche, je dois parfois faire avec les limitations des offres. Mais je vais tenter de t'éviter cette frustration.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/fernandJoie.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(0).getInstance(self);\nresInst.setMoral(resInst.getMoral()+10);\nresInst.setConfidence(resInst.getConfidence()+10);\nresInst.setProperty('hateIsKnow', 'true')",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 2290
                    }
                },
                "35": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Fernand\",\n\"texts\":[\n\"Lorsque j'ai été engagé ici, je ne pensais pas avoir la possibilité de travailler dans une diversité de travaux autant grande. Il se trouve que j'ai donné un CV sans les informations qui me semblaient inutiles. Comme je vois qu'il y a des mandats dans le domaine &codeY.Wegas.Facade.VariableDescriptor.cache.find('name', 'resources').get('items')[0].getInstance().get('properties').hiddenSkillsets.split(new RegExp('[,;]+', 'g'))[0]&code, j'ai ajouté mon niveau dans votre dossier à ce sujet.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/fernandConfiant.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 36
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 830,
                        "y": 2480
                    }
                },
                "36": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Oh vous avez bien ça me donnera la possibilité de t'attribuer un mandat en fonction de tes compétence dans le domaine.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/fernandJoie.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(0).getInstance(self);\nresInst.setMoral(resInst.getMoral()+10);\nresInst.setConfidence(resInst.getConfidence()+10);\nresInst.setProperty('hiddenSkillsets', resInst.getProperty('hiddenSkillsets').split(new RegExp('[,;]+', 'g')).shift().join(';'));",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 2480
                    }
                },
                "37": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Fernand\",\n\"texts\":[\n\"Oh vous savez, la routine. Rien de nouveau actuellement.\",\n\"Non, je... Tout va bien actuellement\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/fernandGene.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Continuer (Coûte une action)",
                            "nextStateId": 38,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "actions.value > 0",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 630,
                        "y": 2660
                    }
                },
                "38": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Mhh...\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/fernandGene.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "actions.value-=1;",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Conseiller",
                            "nextStateId": 39,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(0).getInstance(self);\nresInst.getProperty('lastWorkQuality')>=50&&resInst.getProperty('isAdvised') != 'true';",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Conseiller",
                            "nextStateId": 40,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(0).getInstance(self);\nresInst.getProperty('lastWorkQuality')<50&&resInst.getProperty('isAdvised') != 'true';",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Demander de développer",
                            "nextStateId": 41,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(0).getInstance(self);\nresInst.getProperty('wishIsKnow')=='true'&&resInst.getProperty('hateIsKnow')=='true'&&resInst.getProperty('hiddenSkillsets')==='';",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Demander de développer",
                            "nextStateId": 42,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(0).getInstance(self);\nresInst.getProperty('wishIsKnow')=='false'||resInst.getProperty('hateIsKnow')=='false'||resInst.getProperty('hiddenSkillsets')!=='';",
                                "language": "JavaScript"
                            }
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 830,
                        "y": 2660
                    }
                },
                "39": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Vous pourriez améliorer votre travail en essayant de vous dépasser, en travaillant plus dur que jamais. Ça serait bénéfique pour les clients et pour vous. Ce challenge vous donnerait de la motivation.\",\n\"Vous devriez peut-être changer de méthode de travail. Ça vous motiverait, et vous ouvrirait de nouveaux horizons. Le résultat pourrait surprendre le client.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/fernandNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(0).getInstance(self);\nresInst.setProperty('isAdvised', 'true');\nresInst.setProperty('bonusInducement', parseInt(resInst.getProperty('bonusInducement'))+20);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 2660
                    }
                },
                "40": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Vous pourriez améliorer votre travail en essayant de vous dépasser, en travaillant plus dur que jamais. Ça serait bénéfique pour les clients et pour vous. Ce challenge vous donnerait de la motivation.\",\n\"Vous devriez peut-être changer de méthode de travail. Ça vous motiverait, et vous ouvrirait de nouveaux horizons. Le résultat pourrait surprendre le client.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/fernandNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(0).getInstance(self);\nresInst.setMoral(resInst.getMoral()+20);\nresInst.setConfidence(resInst.getConfidence()+10);\nresInst.setProperty('isAdvised', 'true');",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 2840
                    }
                },
                "41": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Je ne comprends pas bien ce que vous voulez vraiment me dire, vous pourriez développer s'il vous plait ?\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/fernandNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Continuer",
                            "nextStateId": 27
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 3020
                    }
                },
                "42": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Je ne comprends pas bien ce que vous voulez vraiment me dire, vous  pourriez développer s'il vous plait ?\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/fernandNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(0).getInstance(self);\nresInst.setProperty('bonusInducement', parseInt(resInst.getProperty('bonusInducement'))+20);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Continuer",
                            "nextStateId": 27
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 3200
                    }
                }
            }
        }, {
            "@class": "DialogueDescriptor",
            "name": "dialogueDaniela",
            "label": "dialogueDaniela",
            "defaultInstance": {
                "@class": "FSMInstance",
                "currentStateId": 1
            },
            "scope": {
                "@class": "TeamScope"
            },
            "states": {
                "1": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Daniela\",\n\"texts\":[\n\"Oh, Salut.\",\n\"Bonjour.\",\n\"Salut, comment vas-tu ?\"\n],\n\"backgroundImages\":[{\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielaNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Partir (+1 action)",
                            "nextStateId": 2
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Donner un mandat",
                            "nextStateId": 5,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var i, j, gm = self.getGameModel(), free = true, tasks, taskDesc, absences, absenceDesc, assignmentTaskId, resInst;\n resInst = VariableDescriptorFacade.findByName(gm, 'resources').items.get(1).getInstance(self);\nabsences = VariableDescriptorFacade.findByName(gm, 'absences');\ntasks = VariableDescriptorFacade.findByName(gm, 'tasks');\nfor(i=0;i<resInst.getAssignments().size();i++){\nassignmentTaskId = resInst.getAssignments().get(i).getTaskDescriptorId();\nfor(j=0;j<tasks.items.size();j++){\ntasksDesc = tasks.items.get(j);\nif(tasksDesc.getInstance(self).getActive()==true  && tasksDesc.getId() == assignmentTaskId){\nfree = false;\nbreak;\n}\n}\nfor(j=0;j<absences.items.size();j++){\nabsenceDesc = absences.items.get(j);\nif(absenceDesc.getInstance(self).getActive()==true && absenceDesc.getId() == assignmentTaskId){\nfree = false;\nbreak;\n}\n}\n}\nfree;",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Féliciter",
                            "nextStateId": 20,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(1).getInstance(self);\nresInst.getProperty('isConsidered')=='false';",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Réprimander",
                            "nextStateId": 23,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(1).getInstance(self);\nresInst.getProperty('isConsidered')=='false';",
                                "language": "JavaScript"
                            }
                        },
                        {
                            "@class": "DialogueTransition",
                            "actionText": "Demander si tout va bien",
                            "nextStateId": 26
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 30,
                        "y": 390
                    }
                },
                "2": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Salut. Désolé, je suis pressé. Bonne journée.\",\n\"Bonjour. Continue, je ne fait que passer.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielaNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "actions.value++;",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 3
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 230,
                        "y": 30
                    }
                },
                "3": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Daniela\",\n\"texts\":[\n\"Oh, très bien. Bonne journée.\",\n\"D'accord, à plus tard.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielaPerplexe.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 430,
                        "y": 30
                    }
                },
                "5": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Salut, Je souhaiterais que tu me réalises ce mandat.\",\n\"Salut ! J'ai du travail pour toi.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielaNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Choisir un mandat",
                            "nextStateId": 6
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 230,
                        "y": 390
                    }
                },
                "6": {
                    "@class": "DialogueState",
                    "text": "{\n\"subPageId\":\"4\",\n\"targetPageLoaderId\":\"maindisplayarea\",\n\"functionAfterTransition\":\"e.newVal.switchToPickingMode(Y.Wegas.Facade.VariableDescriptor.cache.find('name', 'resources').get('items')[1], 7)\"\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "-",
                            "nextStateId": 7
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 430,
                        "y": 390
                    }
                },
                "7": {
                    "@class": "DialogueState",
                    "text": "",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "-",
                            "nextStateId": 8,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var i, j, gm = self.getGameModel(), isWish = false, isHate = false, tasks, taskDesc, taskInst, skills, assignmentTaskId, resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(1).getInstance(self);\ntasks = VariableDescriptorFacade.findByName(gm, 'tasks');\nfor(i=0;i<resInst.getAssignments().size();i++){\nassignmentTaskId = resInst.getAssignments().get(i).getTaskDescriptorId();\nfor(j=0;j<tasks.items.size();j++){\ntaskDesc = tasks.items.get(j);\nif(taskDesc.getInstance(self).getActive()==true  && taskDesc.getId() == assignmentTaskId){\ntaskInst = taskDesc.getInstance(self);\nbreak;\n}\n}\n}\nif(taskInst != null){\nfor(i=0; i<taskDesc.getRequirements().size(); i++){\nskills=taskDesc.getRequirements().get(i).getPurview();\nif(skills == resInst.getProperty('wish')) isWish = true;\nif(skills == resInst.getProperty('hate')) isHate = true;\n}\n}\ntaskInst!=null&&!isWish&&isHate&&(resInst.getConfidence()>=75||resInst.getProperty('leadershipLevel')>1);",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "-",
                            "nextStateId": 15,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var i, j, gm = self.getGameModel(), isWish = false, isHate = false, tasks, taskDesc, taskInst, skills, assignmentTaskId, resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(1).getInstance(self);\ntasks = VariableDescriptorFacade.findByName(gm, 'tasks');\nfor(i=0;i<resInst.getAssignments().size();i++){\nassignmentTaskId = resInst.getAssignments().get(i).getTaskDescriptorId();\nfor(j=0;j<tasks.items.size();j++){\ntaskDesc = tasks.items.get(j);\nif(taskDesc.getInstance(self).getActive()==true  && taskDesc.getId() == assignmentTaskId){\ntaskInst = taskDesc.getInstance(self);\nbreak;\n}\n}\n}\nif(taskInst != null){\nfor(i=0; i<taskDesc.getRequirements().size(); i++){\nskills=taskDesc.getRequirements().get(i).getPurview();\nif(skills == resInst.getProperty('wish')) isWish = true;\nif(skills == resInst.getProperty('hate')) isHate = true;\n}\n}\ntaskInst!=null&&isWish&&!isHate;",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "-",
                            "nextStateId": 16,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var i, j, gm = self.getGameModel(), isWish = false, isHate = false, tasks, taskDesc, taskInst, skills, assignmentTaskId, resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(1).getInstance(self);\ntasks = VariableDescriptorFacade.findByName(gm, 'tasks');\nfor(i=0;i<resInst.getAssignments().size();i++){\nassignmentTaskId = resInst.getAssignments().get(i).getTaskDescriptorId();\nfor(j=0;j<tasks.items.size();j++){\ntaskDesc = tasks.items.get(j);\nif(taskDesc.getInstance(self).getActive()==true  && taskDesc.getId() == assignmentTaskId){\ntaskInst = taskDesc.getInstance(self);\nbreak;\n}\n}\n}\nif(taskInst != null){\nfor(i=0; i<taskDesc.getRequirements().size(); i++){\nskills=taskDesc.getRequirements().get(i).getPurview();\nif(skills == resInst.getProperty('wish')) isWish = true;\nif(skills == resInst.getProperty('hate')) isHate = true;\n}\n}\ntaskInst!=null&&((isWish&&isHate)||(!isWish&&!isHate));",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "-",
                            "nextStateId": 17,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var i, j, gm = self.getGameModel(), isWish = false, isHate = false, tasks, taskDesc, taskInst, skills, assignmentTaskId, resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(1).getInstance(self);\ntasks = VariableDescriptorFacade.findByName(gm, 'tasks');\nfor(i=0;i<resInst.getAssignments().size();i++){\nassignmentTaskId = resInst.getAssignments().get(i).getTaskDescriptorId();\nfor(j=0;j<tasks.items.size();j++){\ntaskDesc = tasks.items.get(j);\nif(taskDesc.getInstance(self).getActive()==true  && taskDesc.getId() == assignmentTaskId){\ntaskInst = taskDesc.getInstance(self);\nbreak;\n}\n}\n}\nif(taskInst != null){\nfor(i=0; i<taskDesc.getRequirements().size(); i++){\nskills=taskDesc.getRequirements().get(i).getPurview();\nif(skills == resInst.getProperty('wish')) isWish = true;\nif(skills == resInst.getProperty('hate')) isHate = true;\n}\n}\ntaskInst!=null&&!isWish&&isHate&&(resInst.getConfidence()<75&&resInst.getProperty('leadershipLevel')<=1);",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "-",
                            "nextStateId": 18,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var i, j, gm = self.getGameModel(), isWish = false, isHate = false, tasks, taskDesc, taskInst, skills, assignmentTaskId, resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(1).getInstance(self);\ntasks = VariableDescriptorFacade.findByName(gm, 'tasks');\nfor(i=0;i<resInst.getAssignments().size();i++){\nassignmentTaskId = resInst.getAssignments().get(i).getTaskDescriptorId();\nfor(j=0;j<tasks.items.size();j++){\ntaskDesc = tasks.items.get(j);\nif(taskDesc.getInstance(self).getActive()==true  && taskDesc.getId() == assignmentTaskId){\ntaskInst = taskDesc.getInstance(self);\nbreak;\n}\n}\n}\nif(taskInst != null){\nfor(i=0; i<taskDesc.getRequirements().size(); i++){\nskills=taskDesc.getRequirements().get(i).getPurview();\nif(skills == resInst.getProperty('wish')) isWish = true;\nif(skills == resInst.getProperty('hate')) isHate = true;\n}\n}\ntaskInst==null;",
                                "language": "JavaScript"
                            }
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 630,
                        "y": 210
                    }
                },
                "8": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Daniela\",\n\"texts\":[\n\"Excuse-moi mais je ne me sens vraiment pas à l'aise avec les travaux dans ce domaine. Puis-je travailler sur autre chose ?\",\n\"Je ne suis pas à l'aise avec ce genre de travaux, n'y a-t-il pas d'autre tâche ?\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielaPensif.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(1).getInstance(self);\nresInst.setMoral(resInst.getMoral()-5);\nresInst.setConfidence(resInst.getConfidence()-10);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Annuler la demande",
                            "nextStateId": 9
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Obliger l'acceptation",
                            "nextStateId": 10
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 830,
                        "y": 210
                    }
                },
                "9": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Oh pardon, je ne pensais que ça te rebuterait autant. Laisser-moi réfléchir à ce que je peux te donner d'autre.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielaPerplexe.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(1).getInstance(self);\nresInst.setMoral(resInst.getMoral()+5);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Choisir à nouveau",
                            "nextStateId": 6
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 210
                    }
                },
                "10": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Tu sais, on ne peut pas toujours travailler sur ce qui nous plaît. J'essaierai de vous te un travail qui vous plait mieux la prochaine fois.\",\n\"Je pense que c'est bien pour toi de travailler dans ce domaine, je te donnerai une tâche qui t'intéresse plus la prochaine fois.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielaPerplexe.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 11,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(1).getInstance(self);\nresInst.getProperty('leadershipLevel')>2||(resInst.getProperty('leadershipLevel')>1&&resInst.getConfidence()>=50);",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 13,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(1).getInstance(self);\nresInst.getProperty('leadershipLevel')<=1||(resInst.getProperty('leadershipLevel')<3&&resInst.getConfidence()<50);",
                                "language": "JavaScript"
                            }
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 390
                    }
                },
                "11": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Daniela\",\n\"texts\":[\n\"Très bien, je te fais confiance.\",\n\"Bon je ferai de mon mieux.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielaTriste.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(1).getInstance(self);\nresInst.setMoral(resInst.getMoral()-10);\nresInst.setConfidence(resInst.getConfidence()+5);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1230,
                        "y": 390
                    }
                },
                "13": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Daniela\",\n\"texts\":[\n\"Bon je vais le faire.\",\n\"Pff bon ok.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielaFache.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(1).getInstance(self);\nresInst.setMoral(resInst.getMoral()-25);\nresInst.setConfidence(resInst.getConfidence()-10);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1230,
                        "y": 570
                    }
                },
                "15": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Daniela\",\n\"texts\":[\n\"Très bien, je ferai de mon mieux. Merci !\",\n\"Je le ferai avec grand plaisir, merci beaucoup !\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielaJoie.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(1).getInstance(self);\nresInst.setMoral(resInst.getMoral()+25);\nresInst.setConfidence(resInst.getConfidence()+20);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 830,
                        "y": 570
                    }
                },
                "16": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Daniela\",\n\"texts\":[\n\"D'accord, je vais m'en charger.\",\n\"Je n'ai rien contre, je vais m'y mettre.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielaNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 830,
                        "y": 750
                    }
                },
                "17": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Daniela\",\n\"texts\":[\n\"Ben tiens. C'est bon je vais vous le faire votre mandat.\",\n\"Ouais je sens déjà la motivation venir\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielaFache.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(1).getInstance(self);\nresInst.setMoral(resInst.getMoral()-30);\nresInst.setConfidence(resInst.getConfidence()-20);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 830,
                        "y": 930
                    }
                },
                "18": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Ah heu finalement non, rien ne convient.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielaPerplexe.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(1).getInstance(self);\nresInst.setConfidence(resInst.getConfidence()-10)",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 830,
                        "y": 1110
                    }
                },
                "19": {
                    "@class": "DialogueState",
                    "text": "{\n\"subPageId\":\"2\",\n\"targetPageLoaderId\":\"maindisplayarea\",\n\"functionAfterTransition\":\"e.newVal.setResourceDescriptor(Y.Wegas.Facade.VariableDescriptor.cache.find('name', 'resources').get('items')[1])\"\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "-",
                            "nextStateId": 1
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1430,
                        "y": 1110
                    }
                },
                "20": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Bonjour, je souhaitais te féliciter personnellement pour la qualité de tes travaux. Cela fait plaisir d'avoir des employés de ton calibre.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielaNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(1).getInstance(self);\nresInst.setProperty('isConsidered', 'true')",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 21,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(1).getInstance(self);\nresInst.getProperty('lastWorkQuality')>=50;",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 22,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(1).getInstance(self);\nresInst.getProperty('lastWorkQuality')<50;",
                                "language": "JavaScript"
                            }
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 230,
                        "y": 1290
                    }
                },
                "21": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Daniela\",\n\"texts\":[\n\"Eh bien, merci beaucoup. J'essaye toujours de faire de mon mieux.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielaJoie.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(1).getInstance(self);\nresInst.setMoral(resInst.getMoral()+20);\nresInst.setConfidence(resInst.getConfidence()+10)",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 430,
                        "y": 1290
                    }
                },
                "22": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Daniela\",\n\"texts\":[\n\"Heu merci beaucoup ?\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielaPerplexe.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(1).getInstance(self);\nresInst.setConfidence(resInst.getConfidence()-15);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 430,
                        "y": 1470
                    }
                },
                "23": {
                    "@class": "DialogueState",
                    "text": "{\"speakerName\":\"Leader\",\n\"texts\":[\n\"Ton attitude au travail me déplaît beaucoup. Je te conseille de faire un effort sinon je serai malheureusement contraint de prendre les mesures qui s'imposent.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielaNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(1).getInstance(self);\nresInst.setProperty('isConsidered', 'true')",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 24,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(1).getInstance(self);\nresInst.getProperty('lastWorkQuality')>=50;",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 25,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(1).getInstance(self);\nresInst.getProperty('lastWorkQuality')<50;",
                                "language": "JavaScript"
                            }
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 230,
                        "y": 1650
                    }
                },
                "24": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Daniela\",\n\"texts\":[\n\"Euh pardon, mon travail me semblait suffisant. Je vais essayer de faire mieux la prochaine fois.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielaPerplexe.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(1).getInstance(self);\nresInst.setConfidence(resInst.getConfidence()-10);\nresInst.setMoral(resInst.getMoral()-20);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 430,
                        "y": 1650
                    }
                },
                "25": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Daniela\",\n\"texts\":[\n\"Je suis désolé ça n'arrivera plus.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielaTriste.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(1).getInstance(self);\nresInst.setMoral(resInst.getMoral()-10);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 430,
                        "y": 1830
                    }
                },
                "26": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Salut, Si tu as un peu de temps, j'aimerais savoir si tout va comme tu le souhaite.\",\n\"Salut, je voulais prendre un peu de temps pour m'assurer que tout va comme tu le souhaites.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielaNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 27
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 230,
                        "y": 2110
                    }
                },
                "27": {
                    "@class": "State",
                    "transitions": [{
                            "@class": "Transition",
                            "nextStateId": 29,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var chance, alea=1, transition = false, resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(1).getInstance(self);\nif(parseInt(resInst.getConfidence()) + parseInt(resInst.getProperty('bonusInducement'))>= 75||parseInt(resInst.getProperty('leadershipLevel'))>1){\nif(resInst.getProperty('wishIsKnow')=='false') alea += 1;\nif(resInst.getProperty('hateIsKnow')=='false') alea += 1;\nif(resInst.getProperty('hiddenSkillsets')!='') alea += 1;\nchance = Math.floor(Math.random()*alea)+1;\nif(resInst.getProperty('wishIsKnow') == 'false' && chance <=1) transition = true\n}\ntransition",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "Transition",
                            "nextStateId": 32,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var chance, alea=1, transition = false, resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(1).getInstance(self);\nif(parseInt(resInst.getConfidence()) + parseInt(resInst.getProperty('bonusInducement'))>= 75||parseInt(resInst.getProperty('leadershipLevel'))>1){\nif(resInst.getProperty('hateIsKnow')=='false') alea += 1;\nif(resInst.getProperty('hiddenSkillsets')!='') alea += 1;\nchance = Math.floor(Math.random()*alea)+1;\nif(resInst.getProperty('hateIsKnow') == 'false' && chance <=1) transition = true}\ntransition",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "Transition",
                            "nextStateId": 35,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var chance, alea=1, transition = false, resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(1).getInstance(self);\nif(parseInt(resInst.getConfidence()) + parseInt(resInst.getProperty('bonusInducement'))>= 75||parseInt(resInst.getProperty('leadershipLevel'))>1){\nif(resInst.getProperty('hiddenSkillsets')!=='') alea += 1;\nchance = Math.floor(Math.random()*alea)+1;\nif(resInst.getProperty('hiddenSkillsets') != '' && chance <=1) transition = true\n}\ntransition",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "Transition",
                            "nextStateId": 37,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "1==1",
                                "language": "JavaScript"
                            }
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 430,
                        "y": 2110
                    }
                },
                "29": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Daniela\",\n\"texts\":[\n\"En réalité, j'aimerais beaucoup travailler sur des mandats du genre &codeY.Wegas.Facade.VariableDescriptor.cache.find('name', 'resources').get('items')[1].getInstance().get('properties').wish&code. Penses-tu pouvoir me donner un travail dans ce domaine ?\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielaConfiant.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 30
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 830,
                        "y": 2110
                    }
                },
                "30": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Bien sûr, je te promets de te transmettre un mandat de ce type dès qu'il  en aura au moins un qui te convient.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielaJoie.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(1).getInstance(self);\nresInst.setMoral(resInst.getMoral()+10);\nresInst.setConfidence(resInst.getConfidence()+10);\nresInst.setProperty('wishIsKnow', 'true');",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 2110
                    }
                },
                "32": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Daniela\",\n\"texts\":[\n\"Je ne l'ai encore jamais précisé, mais je n'aime vraiment pas travailler sur des mandats du genre &codeY.Wegas.Facade.VariableDescriptor.cache.find('name', 'resources').get('items')[1].getInstance().get('properties').hate&code. Est-ce que tu penses pouvoir éviter de me donner des travaux de ce type ?\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielaConfiant.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 33
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 830,
                        "y": 2290
                    }
                },
                "33": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Oui bien sûr si j'ai des mandats d'un autre genre et adapté à ton niveau. En revanche, je dois parfois faire avec les limitations des offres. Mais je vais tenter de t'éviter cette frustration.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielaJoie.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(1).getInstance(self);\nresInst.setMoral(resInst.getMoral()+10);\nresInst.setConfidence(resInst.getConfidence()+10);\nresInst.setProperty('hateIsKnow', 'true')",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 2290
                    }
                },
                "35": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Daniela\",\n\"texts\":[\n\"Lorsque j'ai été engagé ici, je ne pensais pas avoir la possibilité de travailler dans une diversité de travaux autant grande. Il se trouve que j'ai donné un CV sans les informations qui me semblaient inutiles. Comme je vois qu'il y a des mandats dans le domaine &codeY.Wegas.Facade.VariableDescriptor.cache.find('name', 'resources').get('items')[1].getInstance().get('properties').hiddenSkillsets.split(new RegExp('[,;]+', 'g'))[0]&code, j'ai ajouté mon niveau dans votre dossier à ce sujet.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielaConfiant.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 36
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 830,
                        "y": 2480
                    }
                },
                "36": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Oh vous avez bien ça me donnera la possibilité de t'attribuer un mandat en fonction de tes compétence dans le domaine.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielaJoie.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(1).getInstance(self);\nresInst.setMoral(resInst.getMoral()+10);\nresInst.setConfidence(resInst.getConfidence()+10);\nresInst.setProperty('hiddenSkillsets', resInst.getProperty('hiddenSkillsets').split(new RegExp('[,;]+', 'g')).shift().join(';'));",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 2480
                    }
                },
                "37": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Daniela\",\n\"texts\":[\n\"Oh vous savez, la routine. Rien de nouveau actuellement.\",\n\"Non, je... Tout va bien actuellement\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielaGene.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Continuer (Coûte une action)",
                            "nextStateId": 38,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "actions.value > 0",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 630,
                        "y": 2660
                    }
                },
                "38": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Mhh...\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielaGene.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "actions.value-=1;",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Conseiller",
                            "nextStateId": 39,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(1).getInstance(self);\nresInst.getProperty('lastWorkQuality')>=50&&resInst.getProperty('isAdvised') != 'true';",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Conseiller",
                            "nextStateId": 40,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(1).getInstance(self);\nresInst.getProperty('lastWorkQuality')<50&&resInst.getProperty('isAdvised') != 'true';",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Demander de développer",
                            "nextStateId": 41,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(1).getInstance(self);\nresInst.getProperty('wishIsKnow')=='true'&&resInst.getProperty('hateIsKnow')=='true'&&resInst.getProperty('hiddenSkillsets')==='';",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Demander de développer",
                            "nextStateId": 42,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(1).getInstance(self);\nresInst.getProperty('wishIsKnow')=='false'||resInst.getProperty('hateIsKnow')=='false'||resInst.getProperty('hiddenSkillsets')!=='';",
                                "language": "JavaScript"
                            }
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 830,
                        "y": 2660
                    }
                },
                "39": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Vous pourriez améliorer votre travail en essayant de vous dépasser, en travaillant plus dur que jamais. Ça serait bénéfique pour les clients et pour vous. Ce challenge vous donnerait de la motivation.\",\n\"Vous devriez peut-être changer de méthode de travail. Ça vous motiverait, et vous ouvrirait de nouveaux horizons. Le résultat pourrait surprendre le client.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielaNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(1).getInstance(self);\nresInst.setProperty('isAdvised', 'true');\nresInst.setProperty('bonusInducement', parseInt(resInst.getProperty('bonusInducement'))+20);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 2660
                    }
                },
                "40": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Vous pourriez améliorer votre travail en essayant de vous dépasser, en travaillant plus dur que jamais. Ça serait bénéfique pour les clients et pour vous. Ce challenge vous donnerait de la motivation.\",\n\"Vous devriez peut-être changer de méthode de travail. Ça vous motiverait, et vous ouvrirait de nouveaux horizons. Le résultat pourrait surprendre le client.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielaNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(1).getInstance(self);\nresInst.setMoral(resInst.getMoral()+20);\nresInst.setConfidence(resInst.getConfidence()+10);\nresInst.setProperty('isAdvised', 'true');",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 2840
                    }
                },
                "41": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Je ne comprends pas bien ce que vous voulez vraiment me dire, vous pourriez développer s'il vous plait ?\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielaNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Continuer",
                            "nextStateId": 27
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 3020
                    }
                },
                "42": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Je ne comprends pas bien ce que vous voulez vraiment me dire, vous  pourriez développer s'il vous plait ?\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielaNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(1).getInstance(self);\nresInst.setProperty('bonusInducement', parseInt(resInst.getProperty('bonusInducement'))+20);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Continuer",
                            "nextStateId": 27
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 3200
                    }
                }
            }
        }, {
            "@class": "DialogueDescriptor",
            "name": "dialogueJessica",
            "label": "dialogueJessica",
            "defaultInstance": {
                "@class": "FSMInstance",
                "currentStateId": 1
            },
            "scope": {
                "@class": "TeamScope"
            },
            "states": {
                "1": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Jessica\",\n\"texts\":[\n\"Oh, Salut.\",\n\"Bonjour.\",\n\"Salut, comment vas-tu ?\"\n],\n\"backgroundImages\":[{\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/jessicaNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Partir (+1 action)",
                            "nextStateId": 2
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Donner un mandat",
                            "nextStateId": 5,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var i, j, gm = self.getGameModel(), free = true, tasks, taskDesc, absences, absenceDesc, assignmentTaskId, resInst;\n resInst = VariableDescriptorFacade.findByName(gm, 'resources').items.get(2).getInstance(self);\nabsences = VariableDescriptorFacade.findByName(gm, 'absences');\ntasks = VariableDescriptorFacade.findByName(gm, 'tasks');\nfor(i=0;i<resInst.getAssignments().size();i++){\nassignmentTaskId = resInst.getAssignments().get(i).getTaskDescriptorId();\nfor(j=0;j<tasks.items.size();j++){\ntasksDesc = tasks.items.get(j);\nif(tasksDesc.getInstance(self).getActive()==true  && tasksDesc.getId() == assignmentTaskId){\nfree = false;\nbreak;\n}\n}\nfor(j=0;j<absences.items.size();j++){\nabsenceDesc = absences.items.get(j);\nif(absenceDesc.getInstance(self).getActive()==true && absenceDesc.getId() == assignmentTaskId){\nfree = false;\nbreak;\n}\n}\n}\nfree;",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Féliciter",
                            "nextStateId": 20,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(2).getInstance(self);\nresInst.getProperty('isConsidered')=='false';",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Réprimander",
                            "nextStateId": 23,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(2).getInstance(self);\nresInst.getProperty('isConsidered')=='false';",
                                "language": "JavaScript"
                            }
                        },
                        {
                            "@class": "DialogueTransition",
                            "actionText": "Demander si tout va bien",
                            "nextStateId": 26
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 30,
                        "y": 390
                    }
                },
                "2": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Salut. Désolé, je suis pressé. Bonne journée.\",\n\"Bonjour. Continue, je ne fait que passer.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/jessicaNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "actions.value++;",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 3
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 230,
                        "y": 30
                    }
                },
                "3": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Jessica\",\n\"texts\":[\n\"Oh, très bien. Bonne journée.\",\n\"D'accord, à plus tard.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/jessicaPerplexe.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 430,
                        "y": 30
                    }
                },
                "5": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Salut, Je souhaiterais que tu me réalises ce mandat.\",\n\"Salut ! J'ai du travail pour toi.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/jessicaNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Choisir un mandat",
                            "nextStateId": 6
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 230,
                        "y": 390
                    }
                },
                "6": {
                    "@class": "DialogueState",
                    "text": "{\n\"subPageId\":\"4\",\n\"targetPageLoaderId\":\"maindisplayarea\",\n\"functionAfterTransition\":\"e.newVal.switchToPickingMode(Y.Wegas.Facade.VariableDescriptor.cache.find('name', 'resources').get('items')[2], 7)\"\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "-",
                            "nextStateId": 7
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 430,
                        "y": 390
                    }
                },
                "7": {
                    "@class": "DialogueState",
                    "text": "",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "-",
                            "nextStateId": 8,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var i, j, gm = self.getGameModel(), isWish = false, isHate = false, tasks, taskDesc, taskInst, skills, assignmentTaskId, resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(2).getInstance(self);\ntasks = VariableDescriptorFacade.findByName(gm, 'tasks');\nfor(i=0;i<resInst.getAssignments().size();i++){\nassignmentTaskId = resInst.getAssignments().get(i).getTaskDescriptorId();\nfor(j=0;j<tasks.items.size();j++){\ntaskDesc = tasks.items.get(j);\nif(taskDesc.getInstance(self).getActive()==true  && taskDesc.getId() == assignmentTaskId){\ntaskInst = taskDesc.getInstance(self);\nbreak;\n}\n}\n}\nif(taskInst != null){\nfor(i=0; i<taskDesc.getRequirements().size(); i++){\nskills=taskDesc.getRequirements().get(i).getPurview();\nif(skills == resInst.getProperty('wish')) isWish = true;\nif(skills == resInst.getProperty('hate')) isHate = true;\n}\n}\ntaskInst!=null&&!isWish&&isHate&&(resInst.getConfidence()>=75||resInst.getProperty('leadershipLevel')>1);",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "-",
                            "nextStateId": 15,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var i, j, gm = self.getGameModel(), isWish = false, isHate = false, tasks, taskDesc, taskInst, skills, assignmentTaskId, resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(2).getInstance(self);\ntasks = VariableDescriptorFacade.findByName(gm, 'tasks');\nfor(i=0;i<resInst.getAssignments().size();i++){\nassignmentTaskId = resInst.getAssignments().get(i).getTaskDescriptorId();\nfor(j=0;j<tasks.items.size();j++){\ntaskDesc = tasks.items.get(j);\nif(taskDesc.getInstance(self).getActive()==true  && taskDesc.getId() == assignmentTaskId){\ntaskInst = taskDesc.getInstance(self);\nbreak;\n}\n}\n}\nif(taskInst != null){\nfor(i=0; i<taskDesc.getRequirements().size(); i++){\nskills=taskDesc.getRequirements().get(i).getPurview();\nif(skills == resInst.getProperty('wish')) isWish = true;\nif(skills == resInst.getProperty('hate')) isHate = true;\n}\n}\ntaskInst!=null&&isWish&&!isHate;",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "-",
                            "nextStateId": 16,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var i, j, gm = self.getGameModel(), isWish = false, isHate = false, tasks, taskDesc, taskInst, skills, assignmentTaskId, resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(2).getInstance(self);\ntasks = VariableDescriptorFacade.findByName(gm, 'tasks');\nfor(i=0;i<resInst.getAssignments().size();i++){\nassignmentTaskId = resInst.getAssignments().get(i).getTaskDescriptorId();\nfor(j=0;j<tasks.items.size();j++){\ntaskDesc = tasks.items.get(j);\nif(taskDesc.getInstance(self).getActive()==true  && taskDesc.getId() == assignmentTaskId){\ntaskInst = taskDesc.getInstance(self);\nbreak;\n}\n}\n}\nif(taskInst != null){\nfor(i=0; i<taskDesc.getRequirements().size(); i++){\nskills=taskDesc.getRequirements().get(i).getPurview();\nif(skills == resInst.getProperty('wish')) isWish = true;\nif(skills == resInst.getProperty('hate')) isHate = true;\n}\n}\ntaskInst!=null&&((isWish&&isHate)||(!isWish&&!isHate));",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "-",
                            "nextStateId": 17,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var i, j, gm = self.getGameModel(), isWish = false, isHate = false, tasks, taskDesc, taskInst, skills, assignmentTaskId, resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(2).getInstance(self);\ntasks = VariableDescriptorFacade.findByName(gm, 'tasks');\nfor(i=0;i<resInst.getAssignments().size();i++){\nassignmentTaskId = resInst.getAssignments().get(i).getTaskDescriptorId();\nfor(j=0;j<tasks.items.size();j++){\ntaskDesc = tasks.items.get(j);\nif(taskDesc.getInstance(self).getActive()==true  && taskDesc.getId() == assignmentTaskId){\ntaskInst = taskDesc.getInstance(self);\nbreak;\n}\n}\n}\nif(taskInst != null){\nfor(i=0; i<taskDesc.getRequirements().size(); i++){\nskills=taskDesc.getRequirements().get(i).getPurview();\nif(skills == resInst.getProperty('wish')) isWish = true;\nif(skills == resInst.getProperty('hate')) isHate = true;\n}\n}\ntaskInst!=null&&!isWish&&isHate&&(resInst.getConfidence()<75&&resInst.getProperty('leadershipLevel')<=1);",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "-",
                            "nextStateId": 18,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var i, j, gm = self.getGameModel(), isWish = false, isHate = false, tasks, taskDesc, taskInst, skills, assignmentTaskId, resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(2).getInstance(self);\ntasks = VariableDescriptorFacade.findByName(gm, 'tasks');\nfor(i=0;i<resInst.getAssignments().size();i++){\nassignmentTaskId = resInst.getAssignments().get(i).getTaskDescriptorId();\nfor(j=0;j<tasks.items.size();j++){\ntaskDesc = tasks.items.get(j);\nif(taskDesc.getInstance(self).getActive()==true  && taskDesc.getId() == assignmentTaskId){\ntaskInst = taskDesc.getInstance(self);\nbreak;\n}\n}\n}\nif(taskInst != null){\nfor(i=0; i<taskDesc.getRequirements().size(); i++){\nskills=taskDesc.getRequirements().get(i).getPurview();\nif(skills == resInst.getProperty('wish')) isWish = true;\nif(skills == resInst.getProperty('hate')) isHate = true;\n}\n}\ntaskInst==null;",
                                "language": "JavaScript"
                            }
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 630,
                        "y": 210
                    }
                },
                "8": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Jessica\",\n\"texts\":[\n\"Excuse-moi mais je ne me sens vraiment pas à l'aise avec les travaux dans ce domaine. Puis-je travailler sur autre chose ?\",\n\"Je ne suis pas à l'aise avec ce genre de travaux, n'y a-t-il pas d'autre tâche ?\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/jessicaPensif.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(2).getInstance(self);\nresInst.setMoral(resInst.getMoral()-5);\nresInst.setConfidence(resInst.getConfidence()-10);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Annuler la demande",
                            "nextStateId": 9
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Obliger l'acceptation",
                            "nextStateId": 10
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 830,
                        "y": 210
                    }
                },
                "9": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Oh pardon, je ne pensais que ça te rebuterait autant. Laisser-moi réfléchir à ce que je peux te donner d'autre.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/jessicaPerplexe.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(2).getInstance(self);\nresInst.setMoral(resInst.getMoral()+5);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Choisir à nouveau",
                            "nextStateId": 6
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 210
                    }
                },
                "10": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Tu sais, on ne peut pas toujours travailler sur ce qui nous plaît. J'essaierai de vous te un travail qui vous plait mieux la prochaine fois.\",\n\"Je pense que c'est bien pour toi de travailler dans ce domaine, je te donnerai une tâche qui t'intéresse plus la prochaine fois.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/jessicaPerplexe.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 11,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(2).getInstance(self);\nresInst.getProperty('leadershipLevel')>2||(resInst.getProperty('leadershipLevel')>1&&resInst.getConfidence()>=50);",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 13,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(2).getInstance(self);\nresInst.getProperty('leadershipLevel')<=1||(resInst.getProperty('leadershipLevel')<3&&resInst.getConfidence()<50);",
                                "language": "JavaScript"
                            }
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 390
                    }
                },
                "11": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Jessica\",\n\"texts\":[\n\"Très bien, je te fais confiance.\",\n\"Bon je ferai de mon mieux.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/jessicaTriste.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(2).getInstance(self);\nresInst.setMoral(resInst.getMoral()-10);\nresInst.setConfidence(resInst.getConfidence()+5);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1230,
                        "y": 390
                    }
                },
                "13": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Jessica\",\n\"texts\":[\n\"Bon je vais le faire.\",\n\"Pff bon ok.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/jessicaFache.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(2).getInstance(self);\nresInst.setMoral(resInst.getMoral()-25);\nresInst.setConfidence(resInst.getConfidence()-10);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1230,
                        "y": 570
                    }
                },
                "15": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Jessica\",\n\"texts\":[\n\"Très bien, je ferai de mon mieux. Merci !\",\n\"Je le ferai avec grand plaisir, merci beaucoup !\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/jessicaJoie.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(2).getInstance(self);\nresInst.setMoral(resInst.getMoral()+25);\nresInst.setConfidence(resInst.getConfidence()+20);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 830,
                        "y": 570
                    }
                },
                "16": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Jessica\",\n\"texts\":[\n\"D'accord, je vais m'en charger.\",\n\"Je n'ai rien contre, je vais m'y mettre.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/jessicaNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 830,
                        "y": 750
                    }
                },
                "17": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Jessica\",\n\"texts\":[\n\"Ben tiens. C'est bon je vais vous le faire votre mandat.\",\n\"Ouais je sens déjà la motivation venir\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/jessicaFache.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(2).getInstance(self);\nresInst.setMoral(resInst.getMoral()-30);\nresInst.setConfidence(resInst.getConfidence()-20);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 830,
                        "y": 930
                    }
                },
                "18": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Ah heu finalement non, rien ne convient.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/jessicaPerplexe.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(2).getInstance(self);\nresInst.setConfidence(resInst.getConfidence()-10)",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 830,
                        "y": 1110
                    }
                },
                "19": {
                    "@class": "DialogueState",
                    "text": "{\n\"subPageId\":\"2\",\n\"targetPageLoaderId\":\"maindisplayarea\",\n\"functionAfterTransition\":\"e.newVal.setResourceDescriptor(Y.Wegas.Facade.VariableDescriptor.cache.find('name', 'resources').get('items')[2])\"\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "-",
                            "nextStateId": 1
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1430,
                        "y": 1110
                    }
                },
                "20": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Bonjour, je souhaitais te féliciter personnellement pour la qualité de tes travaux. Cela fait plaisir d'avoir des employés de ton calibre.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/jessicaNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(2).getInstance(self);\nresInst.setProperty('isConsidered', 'true')",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 21,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(2).getInstance(self);\nresInst.getProperty('lastWorkQuality')>=50;",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 22,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(2).getInstance(self);\nresInst.getProperty('lastWorkQuality')<50;",
                                "language": "JavaScript"
                            }
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 230,
                        "y": 1290
                    }
                },
                "21": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Jessica\",\n\"texts\":[\n\"Eh bien, merci beaucoup. J'essaye toujours de faire de mon mieux.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/jessicaJoie.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(2).getInstance(self);\nresInst.setMoral(resInst.getMoral()+20);\nresInst.setConfidence(resInst.getConfidence()+10)",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 430,
                        "y": 1290
                    }
                },
                "22": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Jessica\",\n\"texts\":[\n\"Heu merci beaucoup ?\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/jessicaPerplexe.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(2).getInstance(self);\nresInst.setConfidence(resInst.getConfidence()-15);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 430,
                        "y": 1470
                    }
                },
                "23": {
                    "@class": "DialogueState",
                    "text": "{\"speakerName\":\"Leader\",\n\"texts\":[\n\"Ton attitude au travail me déplaît beaucoup. Je te conseille de faire un effort sinon je serai malheureusement contraint de prendre les mesures qui s'imposent.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/jessicaNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(2).getInstance(self);\nresInst.setProperty('isConsidered', 'true')",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 24,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(2).getInstance(self);\nresInst.getProperty('lastWorkQuality')>=50;",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 25,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(2).getInstance(self);\nresInst.getProperty('lastWorkQuality')<50;",
                                "language": "JavaScript"
                            }
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 230,
                        "y": 1650
                    }
                },
                "24": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Jessica\",\n\"texts\":[\n\"Euh pardon, mon travail me semblait suffisant. Je vais essayer de faire mieux la prochaine fois.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/jessicaPerplexe.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(2).getInstance(self);\nresInst.setConfidence(resInst.getConfidence()-10);\nresInst.setMoral(resInst.getMoral()-20);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 430,
                        "y": 1650
                    }
                },
                "25": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Jessica\",\n\"texts\":[\n\"Je suis désolé ça n'arrivera plus.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/jessicaTriste.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(2).getInstance(self);\nresInst.setMoral(resInst.getMoral()-10);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 430,
                        "y": 1830
                    }
                },
                "26": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Salut, Si tu as un peu de temps, j'aimerais savoir si tout va comme tu le souhaite.\",\n\"Salut, je voulais prendre un peu de temps pour m'assurer que tout va comme tu le souhaites.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/jessicaNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 27
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 230,
                        "y": 2110
                    }
                },
                "27": {
                    "@class": "State",
                    "transitions": [{
                            "@class": "Transition",
                            "nextStateId": 29,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var chance, alea=1, transition = false, resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(2).getInstance(self);\nif(parseInt(resInst.getConfidence()) + parseInt(resInst.getProperty('bonusInducement'))>= 75||parseInt(resInst.getProperty('leadershipLevel'))>1){\nif(resInst.getProperty('wishIsKnow')=='false') alea += 1;\nif(resInst.getProperty('hateIsKnow')=='false') alea += 1;\nif(resInst.getProperty('hiddenSkillsets')!='') alea += 1;\nchance = Math.floor(Math.random()*alea)+1;\nif(resInst.getProperty('wishIsKnow') == 'false' && chance <=1) transition = true\n}\ntransition",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "Transition",
                            "nextStateId": 32,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var chance, alea=1, transition = false, resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(2).getInstance(self);\nif(parseInt(resInst.getConfidence()) + parseInt(resInst.getProperty('bonusInducement'))>= 75||parseInt(resInst.getProperty('leadershipLevel'))>1){\nif(resInst.getProperty('hateIsKnow')=='false') alea += 1;\nif(resInst.getProperty('hiddenSkillsets')!='') alea += 1;\nchance = Math.floor(Math.random()*alea)+1;\nif(resInst.getProperty('hateIsKnow') == 'false' && chance <=1) transition = true}\ntransition",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "Transition",
                            "nextStateId": 35,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var chance, alea=1, transition = false, resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(2).getInstance(self);\nif(parseInt(resInst.getConfidence()) + parseInt(resInst.getProperty('bonusInducement'))>= 75||parseInt(resInst.getProperty('leadershipLevel'))>1){\nif(resInst.getProperty('hiddenSkillsets')!=='') alea += 1;\nchance = Math.floor(Math.random()*alea)+1;\nif(resInst.getProperty('hiddenSkillsets') != '' && chance <=1) transition = true\n}\ntransition",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "Transition",
                            "nextStateId": 37,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "1==1",
                                "language": "JavaScript"
                            }
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 430,
                        "y": 2110
                    }
                },
                "29": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Jessica\",\n\"texts\":[\n\"En réalité, j'aimerais beaucoup travailler sur des mandats du genre &codeY.Wegas.Facade.VariableDescriptor.cache.find('name', 'resources').get('items')[2].getInstance().get('properties').wish&code. Penses-tu pouvoir me donner un travail dans ce domaine ?\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/jessicaConfiant.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 30
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 830,
                        "y": 2110
                    }
                },
                "30": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Bien sûr, je te promets de te transmettre un mandat de ce type dès qu'il  en aura au moins un qui te convient.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/jessicaJoie.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(2).getInstance(self);\nresInst.setMoral(resInst.getMoral()+10);\nresInst.setConfidence(resInst.getConfidence()+10);\nresInst.setProperty('wishIsKnow', 'true');",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 2110
                    }
                },
                "32": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Jessica\",\n\"texts\":[\n\"Je ne l'ai encore jamais précisé, mais je n'aime vraiment pas travailler sur des mandats du genre &codeY.Wegas.Facade.VariableDescriptor.cache.find('name', 'resources').get('items')[2].getInstance().get('properties').hate&code. Est-ce que tu penses pouvoir éviter de me donner des travaux de ce type ?\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/jessicaConfiant.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 33
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 830,
                        "y": 2290
                    }
                },
                "33": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Oui bien sûr si j'ai des mandats d'un autre genre et adapté à ton niveau. En revanche, je dois parfois faire avec les limitations des offres. Mais je vais tenter de t'éviter cette frustration.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/jessicaJoie.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(2).getInstance(self);\nresInst.setMoral(resInst.getMoral()+10);\nresInst.setConfidence(resInst.getConfidence()+10);\nresInst.setProperty('hateIsKnow', 'true')",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 2290
                    }
                },
                "35": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Jessica\",\n\"texts\":[\n\"Lorsque j'ai été engagé ici, je ne pensais pas avoir la possibilité de travailler dans une diversité de travaux autant grande. Il se trouve que j'ai donné un CV sans les informations qui me semblaient inutiles. Comme je vois qu'il y a des mandats dans le domaine &codeY.Wegas.Facade.VariableDescriptor.cache.find('name', 'resources').get('items')[2].getInstance().get('properties').hiddenSkillsets.split(new RegExp('[,;]+', 'g'))[0]&code, j'ai ajouté mon niveau dans votre dossier à ce sujet.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/jessicaConfiant.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 36
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 830,
                        "y": 2480
                    }
                },
                "36": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Oh vous avez bien ça me donnera la possibilité de t'attribuer un mandat en fonction de tes compétence dans le domaine.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/jessicaJoie.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(2).getInstance(self);\nresInst.setMoral(resInst.getMoral()+10);\nresInst.setConfidence(resInst.getConfidence()+10);\nresInst.setProperty('hiddenSkillsets', resInst.getProperty('hiddenSkillsets').split(new RegExp('[,;]+', 'g')).shift().join(';'));",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 2480
                    }
                },
                "37": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Jessica\",\n\"texts\":[\n\"Oh vous savez, la routine. Rien de nouveau actuellement.\",\n\"Non, je... Tout va bien actuellement\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/jessicaGene.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Continuer (Coûte une action)",
                            "nextStateId": 38,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "actions.value > 0",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 630,
                        "y": 2660
                    }
                },
                "38": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Mhh...\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/jessicaGene.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "actions.value-=1;",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Conseiller",
                            "nextStateId": 39,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(2).getInstance(self);\nresInst.getProperty('lastWorkQuality')>=50&&resInst.getProperty('isAdvised') != 'true';",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Conseiller",
                            "nextStateId": 40,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(2).getInstance(self);\nresInst.getProperty('lastWorkQuality')<50&&resInst.getProperty('isAdvised') != 'true';",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Demander de développer",
                            "nextStateId": 41,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(2).getInstance(self);\nresInst.getProperty('wishIsKnow')=='true'&&resInst.getProperty('hateIsKnow')=='true'&&resInst.getProperty('hiddenSkillsets')==='';",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Demander de développer",
                            "nextStateId": 42,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(2).getInstance(self);\nresInst.getProperty('wishIsKnow')=='false'||resInst.getProperty('hateIsKnow')=='false'||resInst.getProperty('hiddenSkillsets')!=='';",
                                "language": "JavaScript"
                            }
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 830,
                        "y": 2660
                    }
                },
                "39": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Vous pourriez améliorer votre travail en essayant de vous dépasser, en travaillant plus dur que jamais. Ça serait bénéfique pour les clients et pour vous. Ce challenge vous donnerait de la motivation.\",\n\"Vous devriez peut-être changer de méthode de travail. Ça vous motiverait, et vous ouvrirait de nouveaux horizons. Le résultat pourrait surprendre le client.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/jessicaNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(2).getInstance(self);\nresInst.setProperty('isAdvised', 'true');\nresInst.setProperty('bonusInducement', parseInt(resInst.getProperty('bonusInducement'))+20);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 2660
                    }
                },
                "40": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Vous pourriez améliorer votre travail en essayant de vous dépasser, en travaillant plus dur que jamais. Ça serait bénéfique pour les clients et pour vous. Ce challenge vous donnerait de la motivation.\",\n\"Vous devriez peut-être changer de méthode de travail. Ça vous motiverait, et vous ouvrirait de nouveaux horizons. Le résultat pourrait surprendre le client.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/jessicaNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(2).getInstance(self);\nresInst.setMoral(resInst.getMoral()+20);\nresInst.setConfidence(resInst.getConfidence()+10);\nresInst.setProperty('isAdvised', 'true');",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 2840
                    }
                },
                "41": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Je ne comprends pas bien ce que vous voulez vraiment me dire, vous pourriez développer s'il vous plait ?\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/jessicaNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Continuer",
                            "nextStateId": 27
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 3020
                    }
                },
                "42": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Je ne comprends pas bien ce que vous voulez vraiment me dire, vous  pourriez développer s'il vous plait ?\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/jessicaNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(2).getInstance(self);\nresInst.setProperty('bonusInducement', parseInt(resInst.getProperty('bonusInducement'))+20);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Continuer",
                            "nextStateId": 27
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 3200
                    }
                }
            }
        }, {
            "@class": "DialogueDescriptor",
            "name": "dialogueHector",
            "label": "dialogueHector",
            "defaultInstance": {
                "@class": "FSMInstance",
                "currentStateId": 1
            },
            "scope": {
                "@class": "TeamScope"
            },
            "states": {
                "1": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Hector\",\n\"texts\":[\n\"Oh, Salut.\",\n\"Bonjour.\",\n\"Salut, comment vas-tu ?\"\n],\n\"backgroundImages\":[{\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/hectorNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Partir (+1 action)",
                            "nextStateId": 2
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Donner un mandat",
                            "nextStateId": 5,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var i, j, gm = self.getGameModel(), free = true, tasks, taskDesc, absences, absenceDesc, assignmentTaskId, resInst;\n resInst = VariableDescriptorFacade.findByName(gm, 'resources').items.get(3).getInstance(self);\nabsences = VariableDescriptorFacade.findByName(gm, 'absences');\ntasks = VariableDescriptorFacade.findByName(gm, 'tasks');\nfor(i=0;i<resInst.getAssignments().size();i++){\nassignmentTaskId = resInst.getAssignments().get(i).getTaskDescriptorId();\nfor(j=0;j<tasks.items.size();j++){\ntasksDesc = tasks.items.get(j);\nif(tasksDesc.getInstance(self).getActive()==true  && tasksDesc.getId() == assignmentTaskId){\nfree = false;\nbreak;\n}\n}\nfor(j=0;j<absences.items.size();j++){\nabsenceDesc = absences.items.get(j);\nif(absenceDesc.getInstance(self).getActive()==true && absenceDesc.getId() == assignmentTaskId){\nfree = false;\nbreak;\n}\n}\n}\nfree;",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Féliciter",
                            "nextStateId": 20,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(3).getInstance(self);\nresInst.getProperty('isConsidered')=='false';",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Réprimander",
                            "nextStateId": 23,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(3).getInstance(self);\nresInst.getProperty('isConsidered')=='false';",
                                "language": "JavaScript"
                            }
                        },
                        {
                            "@class": "DialogueTransition",
                            "actionText": "Demander si tout va bien",
                            "nextStateId": 26
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 30,
                        "y": 390
                    }
                },
                "2": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Salut. Désolé, je suis pressé. Bonne journée.\",\n\"Bonjour. Continue, je ne fait que passer.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/hectorNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "actions.value++;",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 3
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 230,
                        "y": 30
                    }
                },
                "3": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Hector\",\n\"texts\":[\n\"Oh, très bien. Bonne journée.\",\n\"D'accord, à plus tard.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/hectorPerplexe.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 430,
                        "y": 30
                    }
                },
                "5": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Salut, Je souhaiterais que tu me réalises ce mandat.\",\n\"Salut ! J'ai du travail pour toi.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/hectorNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Choisir un mandat",
                            "nextStateId": 6
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 230,
                        "y": 390
                    }
                },
                "6": {
                    "@class": "DialogueState",
                    "text": "{\n\"subPageId\":\"4\",\n\"targetPageLoaderId\":\"maindisplayarea\",\n\"functionAfterTransition\":\"e.newVal.switchToPickingMode(Y.Wegas.Facade.VariableDescriptor.cache.find('name', 'resources').get('items')[3], 7)\"\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "-",
                            "nextStateId": 7
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 430,
                        "y": 390
                    }
                },
                "7": {
                    "@class": "DialogueState",
                    "text": "",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "-",
                            "nextStateId": 8,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var i, j, gm = self.getGameModel(), isWish = false, isHate = false, tasks, taskDesc, taskInst, skills, assignmentTaskId, resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(3).getInstance(self);\ntasks = VariableDescriptorFacade.findByName(gm, 'tasks');\nfor(i=0;i<resInst.getAssignments().size();i++){\nassignmentTaskId = resInst.getAssignments().get(i).getTaskDescriptorId();\nfor(j=0;j<tasks.items.size();j++){\ntaskDesc = tasks.items.get(j);\nif(taskDesc.getInstance(self).getActive()==true  && taskDesc.getId() == assignmentTaskId){\ntaskInst = taskDesc.getInstance(self);\nbreak;\n}\n}\n}\nif(taskInst != null){\nfor(i=0; i<taskDesc.getRequirements().size(); i++){\nskills=taskDesc.getRequirements().get(i).getPurview();\nif(skills == resInst.getProperty('wish')) isWish = true;\nif(skills == resInst.getProperty('hate')) isHate = true;\n}\n}\ntaskInst!=null&&!isWish&&isHate&&(resInst.getConfidence()>=75||resInst.getProperty('leadershipLevel')>1);",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "-",
                            "nextStateId": 15,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var i, j, gm = self.getGameModel(), isWish = false, isHate = false, tasks, taskDesc, taskInst, skills, assignmentTaskId, resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(3).getInstance(self);\ntasks = VariableDescriptorFacade.findByName(gm, 'tasks');\nfor(i=0;i<resInst.getAssignments().size();i++){\nassignmentTaskId = resInst.getAssignments().get(i).getTaskDescriptorId();\nfor(j=0;j<tasks.items.size();j++){\ntaskDesc = tasks.items.get(j);\nif(taskDesc.getInstance(self).getActive()==true  && taskDesc.getId() == assignmentTaskId){\ntaskInst = taskDesc.getInstance(self);\nbreak;\n}\n}\n}\nif(taskInst != null){\nfor(i=0; i<taskDesc.getRequirements().size(); i++){\nskills=taskDesc.getRequirements().get(i).getPurview();\nif(skills == resInst.getProperty('wish')) isWish = true;\nif(skills == resInst.getProperty('hate')) isHate = true;\n}\n}\ntaskInst!=null&&isWish&&!isHate;",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "-",
                            "nextStateId": 16,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var i, j, gm = self.getGameModel(), isWish = false, isHate = false, tasks, taskDesc, taskInst, skills, assignmentTaskId, resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(3).getInstance(self);\ntasks = VariableDescriptorFacade.findByName(gm, 'tasks');\nfor(i=0;i<resInst.getAssignments().size();i++){\nassignmentTaskId = resInst.getAssignments().get(i).getTaskDescriptorId();\nfor(j=0;j<tasks.items.size();j++){\ntaskDesc = tasks.items.get(j);\nif(taskDesc.getInstance(self).getActive()==true  && taskDesc.getId() == assignmentTaskId){\ntaskInst = taskDesc.getInstance(self);\nbreak;\n}\n}\n}\nif(taskInst != null){\nfor(i=0; i<taskDesc.getRequirements().size(); i++){\nskills=taskDesc.getRequirements().get(i).getPurview();\nif(skills == resInst.getProperty('wish')) isWish = true;\nif(skills == resInst.getProperty('hate')) isHate = true;\n}\n}\ntaskInst!=null&&((isWish&&isHate)||(!isWish&&!isHate));",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "-",
                            "nextStateId": 17,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var i, j, gm = self.getGameModel(), isWish = false, isHate = false, tasks, taskDesc, taskInst, skills, assignmentTaskId, resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(3).getInstance(self);\ntasks = VariableDescriptorFacade.findByName(gm, 'tasks');\nfor(i=0;i<resInst.getAssignments().size();i++){\nassignmentTaskId = resInst.getAssignments().get(i).getTaskDescriptorId();\nfor(j=0;j<tasks.items.size();j++){\ntaskDesc = tasks.items.get(j);\nif(taskDesc.getInstance(self).getActive()==true  && taskDesc.getId() == assignmentTaskId){\ntaskInst = taskDesc.getInstance(self);\nbreak;\n}\n}\n}\nif(taskInst != null){\nfor(i=0; i<taskDesc.getRequirements().size(); i++){\nskills=taskDesc.getRequirements().get(i).getPurview();\nif(skills == resInst.getProperty('wish')) isWish = true;\nif(skills == resInst.getProperty('hate')) isHate = true;\n}\n}\ntaskInst!=null&&!isWish&&isHate&&(resInst.getConfidence()<75&&resInst.getProperty('leadershipLevel')<=1);",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "-",
                            "nextStateId": 18,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var i, j, gm = self.getGameModel(), isWish = false, isHate = false, tasks, taskDesc, taskInst, skills, assignmentTaskId, resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(3).getInstance(self);\ntasks = VariableDescriptorFacade.findByName(gm, 'tasks');\nfor(i=0;i<resInst.getAssignments().size();i++){\nassignmentTaskId = resInst.getAssignments().get(i).getTaskDescriptorId();\nfor(j=0;j<tasks.items.size();j++){\ntaskDesc = tasks.items.get(j);\nif(taskDesc.getInstance(self).getActive()==true  && taskDesc.getId() == assignmentTaskId){\ntaskInst = taskDesc.getInstance(self);\nbreak;\n}\n}\n}\nif(taskInst != null){\nfor(i=0; i<taskDesc.getRequirements().size(); i++){\nskills=taskDesc.getRequirements().get(i).getPurview();\nif(skills == resInst.getProperty('wish')) isWish = true;\nif(skills == resInst.getProperty('hate')) isHate = true;\n}\n}\ntaskInst==null;",
                                "language": "JavaScript"
                            }
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 630,
                        "y": 210
                    }
                },
                "8": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Hector\",\n\"texts\":[\n\"Excuse-moi mais je ne me sens vraiment pas à l'aise avec les travaux dans ce domaine. Puis-je travailler sur autre chose ?\",\n\"Je ne suis pas à l'aise avec ce genre de travaux, n'y a-t-il pas d'autre tâche ?\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/hectorPensif.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(3).getInstance(self);\nresInst.setMoral(resInst.getMoral()-5);\nresInst.setConfidence(resInst.getConfidence()-10);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Annuler la demande",
                            "nextStateId": 9
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Obliger l'acceptation",
                            "nextStateId": 10
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 830,
                        "y": 210
                    }
                },
                "9": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Oh pardon, je ne pensais que ça te rebuterait autant. Laisser-moi réfléchir à ce que je peux te donner d'autre.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/hectorPerplexe.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(3).getInstance(self);\nresInst.setMoral(resInst.getMoral()+5);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Choisir à nouveau",
                            "nextStateId": 6
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 210
                    }
                },
                "10": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Tu sais, on ne peut pas toujours travailler sur ce qui nous plaît. J'essaierai de vous te un travail qui vous plait mieux la prochaine fois.\",\n\"Je pense que c'est bien pour toi de travailler dans ce domaine, je te donnerai une tâche qui t'intéresse plus la prochaine fois.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/hectorPerplexe.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 11,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(3).getInstance(self);\nresInst.getProperty('leadershipLevel')>2||(resInst.getProperty('leadershipLevel')>1&&resInst.getConfidence()>=50);",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 13,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(3).getInstance(self);\nresInst.getProperty('leadershipLevel')<=1||(resInst.getProperty('leadershipLevel')<3&&resInst.getConfidence()<50);",
                                "language": "JavaScript"
                            }
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 390
                    }
                },
                "11": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Hector\",\n\"texts\":[\n\"Très bien, je te fais confiance.\",\n\"Bon je ferai de mon mieux.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/hectorTriste.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(3).getInstance(self);\nresInst.setMoral(resInst.getMoral()-10);\nresInst.setConfidence(resInst.getConfidence()+5);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1230,
                        "y": 390
                    }
                },
                "13": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Hector\",\n\"texts\":[\n\"Bon je vais le faire.\",\n\"Pff bon ok.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/hectorFache.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(3).getInstance(self);\nresInst.setMoral(resInst.getMoral()-25);\nresInst.setConfidence(resInst.getConfidence()-10);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1230,
                        "y": 570
                    }
                },
                "15": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Hector\",\n\"texts\":[\n\"Très bien, je ferai de mon mieux. Merci !\",\n\"Je le ferai avec grand plaisir, merci beaucoup !\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/hectorJoie.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(3).getInstance(self);\nresInst.setMoral(resInst.getMoral()+25);\nresInst.setConfidence(resInst.getConfidence()+20);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 830,
                        "y": 570
                    }
                },
                "16": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Hector\",\n\"texts\":[\n\"D'accord, je vais m'en charger.\",\n\"Je n'ai rien contre, je vais m'y mettre.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/hectorNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 830,
                        "y": 750
                    }
                },
                "17": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Hector\",\n\"texts\":[\n\"Ben tiens. C'est bon je vais vous le faire votre mandat.\",\n\"Ouais je sens déjà la motivation venir\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/hectorFache.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(3).getInstance(self);\nresInst.setMoral(resInst.getMoral()-30);\nresInst.setConfidence(resInst.getConfidence()-20);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 830,
                        "y": 930
                    }
                },
                "18": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Ah heu finalement non, rien ne convient.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/hectorPerplexe.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(3).getInstance(self);\nresInst.setConfidence(resInst.getConfidence()-10)",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 830,
                        "y": 1110
                    }
                },
                "19": {
                    "@class": "DialogueState",
                    "text": "{\n\"subPageId\":\"2\",\n\"targetPageLoaderId\":\"maindisplayarea\",\n\"functionAfterTransition\":\"e.newVal.setResourceDescriptor(Y.Wegas.Facade.VariableDescriptor.cache.find('name', 'resources').get('items')[3])\"\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "-",
                            "nextStateId": 1
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1430,
                        "y": 1110
                    }
                },
                "20": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Bonjour, je souhaitais te féliciter personnellement pour la qualité de tes travaux. Cela fait plaisir d'avoir des employés de ton calibre.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/hectorNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(3).getInstance(self);\nresInst.setProperty('isConsidered', 'true')",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 21,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(3).getInstance(self);\nresInst.getProperty('lastWorkQuality')>=50;",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 22,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(3).getInstance(self);\nresInst.getProperty('lastWorkQuality')<50;",
                                "language": "JavaScript"
                            }
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 230,
                        "y": 1290
                    }
                },
                "21": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Hector\",\n\"texts\":[\n\"Eh bien, merci beaucoup. J'essaye toujours de faire de mon mieux.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/hectorJoie.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(3).getInstance(self);\nresInst.setMoral(resInst.getMoral()+20);\nresInst.setConfidence(resInst.getConfidence()+10)",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 430,
                        "y": 1290
                    }
                },
                "22": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Hector\",\n\"texts\":[\n\"Heu merci beaucoup ?\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/hectorPerplexe.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(3).getInstance(self);\nresInst.setConfidence(resInst.getConfidence()-15);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 430,
                        "y": 1470
                    }
                },
                "23": {
                    "@class": "DialogueState",
                    "text": "{\"speakerName\":\"Leader\",\n\"texts\":[\n\"Ton attitude au travail me déplaît beaucoup. Je te conseille de faire un effort sinon je serai malheureusement contraint de prendre les mesures qui s'imposent.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/hectorNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(3).getInstance(self);\nresInst.setProperty('isConsidered', 'true')",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 24,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(3).getInstance(self);\nresInst.getProperty('lastWorkQuality')>=50;",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 25,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(3).getInstance(self);\nresInst.getProperty('lastWorkQuality')<50;",
                                "language": "JavaScript"
                            }
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 230,
                        "y": 1650
                    }
                },
                "24": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Hector\",\n\"texts\":[\n\"Euh pardon, mon travail me semblait suffisant. Je vais essayer de faire mieux la prochaine fois.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/hectorPerplexe.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(3).getInstance(self);\nresInst.setConfidence(resInst.getConfidence()-10);\nresInst.setMoral(resInst.getMoral()-20);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 430,
                        "y": 1650
                    }
                },
                "25": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Hector\",\n\"texts\":[\n\"Je suis désolé ça n'arrivera plus.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/hectorTriste.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(3).getInstance(self);\nresInst.setMoral(resInst.getMoral()-10);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 430,
                        "y": 1830
                    }
                },
                "26": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Salut, Si tu as un peu de temps, j'aimerais savoir si tout va comme tu le souhaite.\",\n\"Salut, je voulais prendre un peu de temps pour m'assurer que tout va comme tu le souhaites.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/hectorNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 27
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 230,
                        "y": 2110
                    }
                },
                "27": {
                    "@class": "State",
                    "transitions": [{
                            "@class": "Transition",
                            "nextStateId": 29,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var chance, alea=1, transition = false, resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(3).getInstance(self);\nif(parseInt(resInst.getConfidence()) + parseInt(resInst.getProperty('bonusInducement'))>= 75||parseInt(resInst.getProperty('leadershipLevel'))>1){\nif(resInst.getProperty('wishIsKnow')=='false') alea += 1;\nif(resInst.getProperty('hateIsKnow')=='false') alea += 1;\nif(resInst.getProperty('hiddenSkillsets')!='') alea += 1;\nchance = Math.floor(Math.random()*alea)+1;\nif(resInst.getProperty('wishIsKnow') == 'false' && chance <=1) transition = true\n}\ntransition",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "Transition",
                            "nextStateId": 32,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var chance, alea=1, transition = false, resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(3).getInstance(self);\nif(parseInt(resInst.getConfidence()) + parseInt(resInst.getProperty('bonusInducement'))>= 75||parseInt(resInst.getProperty('leadershipLevel'))>1){\nif(resInst.getProperty('hateIsKnow')=='false') alea += 1;\nif(resInst.getProperty('hiddenSkillsets')!='') alea += 1;\nchance = Math.floor(Math.random()*alea)+1;\nif(resInst.getProperty('hateIsKnow') == 'false' && chance <=1) transition = true}\ntransition",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "Transition",
                            "nextStateId": 35,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var chance, alea=1, transition = false, resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(3).getInstance(self);\nif(parseInt(resInst.getConfidence()) + parseInt(resInst.getProperty('bonusInducement'))>= 75||parseInt(resInst.getProperty('leadershipLevel'))>1){\nif(resInst.getProperty('hiddenSkillsets')!=='') alea += 1;\nchance = Math.floor(Math.random()*alea)+1;\nif(resInst.getProperty('hiddenSkillsets') != '' && chance <=1) transition = true\n}\ntransition",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "Transition",
                            "nextStateId": 37,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "1==1",
                                "language": "JavaScript"
                            }
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 430,
                        "y": 2110
                    }
                },
                "29": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Hector\",\n\"texts\":[\n\"En réalité, j'aimerais beaucoup travailler sur des mandats du genre &codeY.Wegas.Facade.VariableDescriptor.cache.find('name', 'resources').get('items')[3].getInstance().get('properties').wish&code. Penses-tu pouvoir me donner un travail dans ce domaine ?\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/hectorConfiant.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 30
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 830,
                        "y": 2110
                    }
                },
                "30": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Bien sûr, je te promets de te transmettre un mandat de ce type dès qu'il  en aura au moins un qui te convient.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/hectorJoie.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(3).getInstance(self);\nresInst.setMoral(resInst.getMoral()+10);\nresInst.setConfidence(resInst.getConfidence()+10);\nresInst.setProperty('wishIsKnow', 'true');",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 2110
                    }
                },
                "32": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Hector\",\n\"texts\":[\n\"Je ne l'ai encore jamais précisé, mais je n'aime vraiment pas travailler sur des mandats du genre &codeY.Wegas.Facade.VariableDescriptor.cache.find('name', 'resources').get('items')[3].getInstance().get('properties').hate&code. Est-ce que tu penses pouvoir éviter de me donner des travaux de ce type ?\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/hectorConfiant.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 33
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 830,
                        "y": 2290
                    }
                },
                "33": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Oui bien sûr si j'ai des mandats d'un autre genre et adapté à ton niveau. En revanche, je dois parfois faire avec les limitations des offres. Mais je vais tenter de t'éviter cette frustration.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/hectorJoie.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(3).getInstance(self);\nresInst.setMoral(resInst.getMoral()+10);\nresInst.setConfidence(resInst.getConfidence()+10);\nresInst.setProperty('hateIsKnow', 'true')",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 2290
                    }
                },
                "35": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Hector\",\n\"texts\":[\n\"Lorsque j'ai été engagé ici, je ne pensais pas avoir la possibilité de travailler dans une diversité de travaux autant grande. Il se trouve que j'ai donné un CV sans les informations qui me semblaient inutiles. Comme je vois qu'il y a des mandats dans le domaine &codeY.Wegas.Facade.VariableDescriptor.cache.find('name', 'resources').get('items')[3].getInstance().get('properties').hiddenSkillsets.split(new RegExp('[,;]+', 'g'))[0]&code, j'ai ajouté mon niveau dans votre dossier à ce sujet.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/hectorConfiant.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 36
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 830,
                        "y": 2480
                    }
                },
                "36": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Oh vous avez bien ça me donnera la possibilité de t'attribuer un mandat en fonction de tes compétence dans le domaine.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/hectorJoie.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(3).getInstance(self);\nresInst.setMoral(resInst.getMoral()+10);\nresInst.setConfidence(resInst.getConfidence()+10);\nresInst.setProperty('hiddenSkillsets', resInst.getProperty('hiddenSkillsets').split(new RegExp('[,;]+', 'g')).shift().join(';'));",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 2480
                    }
                },
                "37": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Hector\",\n\"texts\":[\n\"Oh vous savez, la routine. Rien de nouveau actuellement.\",\n\"Non, je... Tout va bien actuellement\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/hectorGene.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Continuer (Coûte une action)",
                            "nextStateId": 38,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "actions.value > 0",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 630,
                        "y": 2660
                    }
                },
                "38": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Mhh...\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/hectorGene.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "actions.value-=1;",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Conseiller",
                            "nextStateId": 39,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(3).getInstance(self);\nresInst.getProperty('lastWorkQuality')>=50&&resInst.getProperty('isAdvised') != 'true';",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Conseiller",
                            "nextStateId": 40,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(3).getInstance(self);\nresInst.getProperty('lastWorkQuality')<50&&resInst.getProperty('isAdvised') != 'true';",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Demander de développer",
                            "nextStateId": 41,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(3).getInstance(self);\nresInst.getProperty('wishIsKnow')=='true'&&resInst.getProperty('hateIsKnow')=='true'&&resInst.getProperty('hiddenSkillsets')==='';",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Demander de développer",
                            "nextStateId": 42,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(3).getInstance(self);\nresInst.getProperty('wishIsKnow')=='false'||resInst.getProperty('hateIsKnow')=='false'||resInst.getProperty('hiddenSkillsets')!=='';",
                                "language": "JavaScript"
                            }
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 830,
                        "y": 2660
                    }
                },
                "39": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Vous pourriez améliorer votre travail en essayant de vous dépasser, en travaillant plus dur que jamais. Ça serait bénéfique pour les clients et pour vous. Ce challenge vous donnerait de la motivation.\",\n\"Vous devriez peut-être changer de méthode de travail. Ça vous motiverait, et vous ouvrirait de nouveaux horizons. Le résultat pourrait surprendre le client.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/hectorNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(3).getInstance(self);\nresInst.setProperty('isAdvised', 'true');\nresInst.setProperty('bonusInducement', parseInt(resInst.getProperty('bonusInducement'))+20);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 2660
                    }
                },
                "40": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Vous pourriez améliorer votre travail en essayant de vous dépasser, en travaillant plus dur que jamais. Ça serait bénéfique pour les clients et pour vous. Ce challenge vous donnerait de la motivation.\",\n\"Vous devriez peut-être changer de méthode de travail. Ça vous motiverait, et vous ouvrirait de nouveaux horizons. Le résultat pourrait surprendre le client.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/hectorNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(3).getInstance(self);\nresInst.setMoral(resInst.getMoral()+20);\nresInst.setConfidence(resInst.getConfidence()+10);\nresInst.setProperty('isAdvised', 'true');",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 2840
                    }
                },
                "41": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Je ne comprends pas bien ce que vous voulez vraiment me dire, vous pourriez développer s'il vous plait ?\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/hectorNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Continuer",
                            "nextStateId": 27
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 3020
                    }
                },
                "42": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Je ne comprends pas bien ce que vous voulez vraiment me dire, vous  pourriez développer s'il vous plait ?\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/hectorNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(3).getInstance(self);\nresInst.setProperty('bonusInducement', parseInt(resInst.getProperty('bonusInducement'))+20);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Continuer",
                            "nextStateId": 27
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 3200
                    }
                }
            }
        }, {
            "@class": "DialogueDescriptor",
            "name": "dialogueLucien",
            "label": "dialogueLucien",
            "defaultInstance": {
                "@class": "FSMInstance",
                "currentStateId": 1
            },
            "scope": {
                "@class": "TeamScope"
            },
            "states": {
                "1": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Lucien\",\n\"texts\":[\n\"Oh, Salut.\",\n\"Bonjour.\",\n\"Salut, comment vas-tu ?\"\n],\n\"backgroundImages\":[{\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/lucienNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Partir (+1 action)",
                            "nextStateId": 2
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Donner un mandat",
                            "nextStateId": 5,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var i, j, gm = self.getGameModel(), free = true, tasks, taskDesc, absences, absenceDesc, assignmentTaskId, resInst;\n resInst = VariableDescriptorFacade.findByName(gm, 'resources').items.get(4).getInstance(self);\nabsences = VariableDescriptorFacade.findByName(gm, 'absences');\ntasks = VariableDescriptorFacade.findByName(gm, 'tasks');\nfor(i=0;i<resInst.getAssignments().size();i++){\nassignmentTaskId = resInst.getAssignments().get(i).getTaskDescriptorId();\nfor(j=0;j<tasks.items.size();j++){\ntasksDesc = tasks.items.get(j);\nif(tasksDesc.getInstance(self).getActive()==true  && tasksDesc.getId() == assignmentTaskId){\nfree = false;\nbreak;\n}\n}\nfor(j=0;j<absences.items.size();j++){\nabsenceDesc = absences.items.get(j);\nif(absenceDesc.getInstance(self).getActive()==true && absenceDesc.getId() == assignmentTaskId){\nfree = false;\nbreak;\n}\n}\n}\nfree;",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Féliciter",
                            "nextStateId": 20,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(4).getInstance(self);\nresInst.getProperty('isConsidered')=='false';",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Réprimander",
                            "nextStateId": 23,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(4).getInstance(self);\nresInst.getProperty('isConsidered')=='false';",
                                "language": "JavaScript"
                            }
                        },
                        {
                            "@class": "DialogueTransition",
                            "actionText": "Demander si tout va bien",
                            "nextStateId": 26
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 30,
                        "y": 390
                    }
                },
                "2": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Salut. Désolé, je suis pressé. Bonne journée.\",\n\"Bonjour. Continue, je ne fait que passer.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/lucienNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "actions.value++;",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 3
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 230,
                        "y": 30
                    }
                },
                "3": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Lucien\",\n\"texts\":[\n\"Oh, très bien. Bonne journée.\",\n\"D'accord, à plus tard.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/lucienPerplexe.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 430,
                        "y": 30
                    }
                },
                "5": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Salut, Je souhaiterais que tu me réalises ce mandat.\",\n\"Salut ! J'ai du travail pour toi.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/lucienNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Choisir un mandat",
                            "nextStateId": 6
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 230,
                        "y": 390
                    }
                },
                "6": {
                    "@class": "DialogueState",
                    "text": "{\n\"subPageId\":\"4\",\n\"targetPageLoaderId\":\"maindisplayarea\",\n\"functionAfterTransition\":\"e.newVal.switchToPickingMode(Y.Wegas.Facade.VariableDescriptor.cache.find('name', 'resources').get('items')[4], 7)\"\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "-",
                            "nextStateId": 7
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 430,
                        "y": 390
                    }
                },
                "7": {
                    "@class": "DialogueState",
                    "text": "",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "-",
                            "nextStateId": 8,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var i, j, gm = self.getGameModel(), isWish = false, isHate = false, tasks, taskDesc, taskInst, skills, assignmentTaskId, resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(4).getInstance(self);\ntasks = VariableDescriptorFacade.findByName(gm, 'tasks');\nfor(i=0;i<resInst.getAssignments().size();i++){\nassignmentTaskId = resInst.getAssignments().get(i).getTaskDescriptorId();\nfor(j=0;j<tasks.items.size();j++){\ntaskDesc = tasks.items.get(j);\nif(taskDesc.getInstance(self).getActive()==true  && taskDesc.getId() == assignmentTaskId){\ntaskInst = taskDesc.getInstance(self);\nbreak;\n}\n}\n}\nif(taskInst != null){\nfor(i=0; i<taskDesc.getRequirements().size(); i++){\nskills=taskDesc.getRequirements().get(i).getPurview();\nif(skills == resInst.getProperty('wish')) isWish = true;\nif(skills == resInst.getProperty('hate')) isHate = true;\n}\n}\ntaskInst!=null&&!isWish&&isHate&&(resInst.getConfidence()>=75||resInst.getProperty('leadershipLevel')>1);",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "-",
                            "nextStateId": 15,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var i, j, gm = self.getGameModel(), isWish = false, isHate = false, tasks, taskDesc, taskInst, skills, assignmentTaskId, resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(4).getInstance(self);\ntasks = VariableDescriptorFacade.findByName(gm, 'tasks');\nfor(i=0;i<resInst.getAssignments().size();i++){\nassignmentTaskId = resInst.getAssignments().get(i).getTaskDescriptorId();\nfor(j=0;j<tasks.items.size();j++){\ntaskDesc = tasks.items.get(j);\nif(taskDesc.getInstance(self).getActive()==true  && taskDesc.getId() == assignmentTaskId){\ntaskInst = taskDesc.getInstance(self);\nbreak;\n}\n}\n}\nif(taskInst != null){\nfor(i=0; i<taskDesc.getRequirements().size(); i++){\nskills=taskDesc.getRequirements().get(i).getPurview();\nif(skills == resInst.getProperty('wish')) isWish = true;\nif(skills == resInst.getProperty('hate')) isHate = true;\n}\n}\ntaskInst!=null&&isWish&&!isHate;",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "-",
                            "nextStateId": 16,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var i, j, gm = self.getGameModel(), isWish = false, isHate = false, tasks, taskDesc, taskInst, skills, assignmentTaskId, resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(4).getInstance(self);\ntasks = VariableDescriptorFacade.findByName(gm, 'tasks');\nfor(i=0;i<resInst.getAssignments().size();i++){\nassignmentTaskId = resInst.getAssignments().get(i).getTaskDescriptorId();\nfor(j=0;j<tasks.items.size();j++){\ntaskDesc = tasks.items.get(j);\nif(taskDesc.getInstance(self).getActive()==true  && taskDesc.getId() == assignmentTaskId){\ntaskInst = taskDesc.getInstance(self);\nbreak;\n}\n}\n}\nif(taskInst != null){\nfor(i=0; i<taskDesc.getRequirements().size(); i++){\nskills=taskDesc.getRequirements().get(i).getPurview();\nif(skills == resInst.getProperty('wish')) isWish = true;\nif(skills == resInst.getProperty('hate')) isHate = true;\n}\n}\ntaskInst!=null&&((isWish&&isHate)||(!isWish&&!isHate));",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "-",
                            "nextStateId": 17,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var i, j, gm = self.getGameModel(), isWish = false, isHate = false, tasks, taskDesc, taskInst, skills, assignmentTaskId, resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(4).getInstance(self);\ntasks = VariableDescriptorFacade.findByName(gm, 'tasks');\nfor(i=0;i<resInst.getAssignments().size();i++){\nassignmentTaskId = resInst.getAssignments().get(i).getTaskDescriptorId();\nfor(j=0;j<tasks.items.size();j++){\ntaskDesc = tasks.items.get(j);\nif(taskDesc.getInstance(self).getActive()==true  && taskDesc.getId() == assignmentTaskId){\ntaskInst = taskDesc.getInstance(self);\nbreak;\n}\n}\n}\nif(taskInst != null){\nfor(i=0; i<taskDesc.getRequirements().size(); i++){\nskills=taskDesc.getRequirements().get(i).getPurview();\nif(skills == resInst.getProperty('wish')) isWish = true;\nif(skills == resInst.getProperty('hate')) isHate = true;\n}\n}\ntaskInst!=null&&!isWish&&isHate&&(resInst.getConfidence()<75&&resInst.getProperty('leadershipLevel')<=1);",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "-",
                            "nextStateId": 18,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var i, j, gm = self.getGameModel(), isWish = false, isHate = false, tasks, taskDesc, taskInst, skills, assignmentTaskId, resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(4).getInstance(self);\ntasks = VariableDescriptorFacade.findByName(gm, 'tasks');\nfor(i=0;i<resInst.getAssignments().size();i++){\nassignmentTaskId = resInst.getAssignments().get(i).getTaskDescriptorId();\nfor(j=0;j<tasks.items.size();j++){\ntaskDesc = tasks.items.get(j);\nif(taskDesc.getInstance(self).getActive()==true  && taskDesc.getId() == assignmentTaskId){\ntaskInst = taskDesc.getInstance(self);\nbreak;\n}\n}\n}\nif(taskInst != null){\nfor(i=0; i<taskDesc.getRequirements().size(); i++){\nskills=taskDesc.getRequirements().get(i).getPurview();\nif(skills == resInst.getProperty('wish')) isWish = true;\nif(skills == resInst.getProperty('hate')) isHate = true;\n}\n}\ntaskInst==null;",
                                "language": "JavaScript"
                            }
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 630,
                        "y": 210
                    }
                },
                "8": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Lucien\",\n\"texts\":[\n\"Excuse-moi mais je ne me sens vraiment pas à l'aise avec les travaux dans ce domaine. Puis-je travailler sur autre chose ?\",\n\"Je ne suis pas à l'aise avec ce genre de travaux, n'y a-t-il pas d'autre tâche ?\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/lucienPensif.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(4).getInstance(self);\nresInst.setMoral(resInst.getMoral()-5);\nresInst.setConfidence(resInst.getConfidence()-10);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Annuler la demande",
                            "nextStateId": 9
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Obliger l'acceptation",
                            "nextStateId": 10
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 830,
                        "y": 210
                    }
                },
                "9": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Oh pardon, je ne pensais que ça te rebuterait autant. Laisser-moi réfléchir à ce que je peux te donner d'autre.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/lucienPerplexe.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(4).getInstance(self);\nresInst.setMoral(resInst.getMoral()+5);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Choisir à nouveau",
                            "nextStateId": 6
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 210
                    }
                },
                "10": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Tu sais, on ne peut pas toujours travailler sur ce qui nous plaît. J'essaierai de vous te un travail qui vous plait mieux la prochaine fois.\",\n\"Je pense que c'est bien pour toi de travailler dans ce domaine, je te donnerai une tâche qui t'intéresse plus la prochaine fois.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/lucienPerplexe.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 11,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(4).getInstance(self);\nresInst.getProperty('leadershipLevel')>2||(resInst.getProperty('leadershipLevel')>1&&resInst.getConfidence()>=50);",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 13,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(4).getInstance(self);\nresInst.getProperty('leadershipLevel')<=1||(resInst.getProperty('leadershipLevel')<3&&resInst.getConfidence()<50);",
                                "language": "JavaScript"
                            }
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 390
                    }
                },
                "11": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Lucien\",\n\"texts\":[\n\"Très bien, je te fais confiance.\",\n\"Bon je ferai de mon mieux.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/lucienTriste.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(4).getInstance(self);\nresInst.setMoral(resInst.getMoral()-10);\nresInst.setConfidence(resInst.getConfidence()+5);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1230,
                        "y": 390
                    }
                },
                "13": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Lucien\",\n\"texts\":[\n\"Bon je vais le faire.\",\n\"Pff bon ok.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/lucienFache.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(4).getInstance(self);\nresInst.setMoral(resInst.getMoral()-25);\nresInst.setConfidence(resInst.getConfidence()-10);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1230,
                        "y": 570
                    }
                },
                "15": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Lucien\",\n\"texts\":[\n\"Très bien, je ferai de mon mieux. Merci !\",\n\"Je le ferai avec grand plaisir, merci beaucoup !\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/lucienJoie.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(4).getInstance(self);\nresInst.setMoral(resInst.getMoral()+25);\nresInst.setConfidence(resInst.getConfidence()+20);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 830,
                        "y": 570
                    }
                },
                "16": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Lucien\",\n\"texts\":[\n\"D'accord, je vais m'en charger.\",\n\"Je n'ai rien contre, je vais m'y mettre.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/lucienNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 830,
                        "y": 750
                    }
                },
                "17": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Lucien\",\n\"texts\":[\n\"Ben tiens. C'est bon je vais vous le faire votre mandat.\",\n\"Ouais je sens déjà la motivation venir\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/lucienFache.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(4).getInstance(self);\nresInst.setMoral(resInst.getMoral()-30);\nresInst.setConfidence(resInst.getConfidence()-20);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 830,
                        "y": 930
                    }
                },
                "18": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Ah heu finalement non, rien ne convient.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/lucienPerplexe.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(4).getInstance(self);\nresInst.setConfidence(resInst.getConfidence()-10)",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 830,
                        "y": 1110
                    }
                },
                "19": {
                    "@class": "DialogueState",
                    "text": "{\n\"subPageId\":\"2\",\n\"targetPageLoaderId\":\"maindisplayarea\",\n\"functionAfterTransition\":\"e.newVal.setResourceDescriptor(VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').get('items')[4])\"\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "-",
                            "nextStateId": 1
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1430,
                        "y": 1110
                    }
                },
                "20": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Bonjour, je souhaitais te féliciter personnellement pour la qualité de tes travaux. Cela fait plaisir d'avoir des employés de ton calibre.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/lucienNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(4).getInstance(self);\nresInst.setProperty('isConsidered', 'true')",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 21,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(4).getInstance(self);\nresInst.getProperty('lastWorkQuality')>=50;",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 22,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(4).getInstance(self);\nresInst.getProperty('lastWorkQuality')<50;",
                                "language": "JavaScript"
                            }
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 230,
                        "y": 1290
                    }
                },
                "21": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Lucien\",\n\"texts\":[\n\"Eh bien, merci beaucoup. J'essaye toujours de faire de mon mieux.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/lucienJoie.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(4).getInstance(self);\nresInst.setMoral(resInst.getMoral()+20);\nresInst.setConfidence(resInst.getConfidence()+10)",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 430,
                        "y": 1290
                    }
                },
                "22": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Lucien\",\n\"texts\":[\n\"Heu merci beaucoup ?\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/lucienPerplexe.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(4).getInstance(self);\nresInst.setConfidence(resInst.getConfidence()-15);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 430,
                        "y": 1470
                    }
                },
                "23": {
                    "@class": "DialogueState",
                    "text": "{\"speakerName\":\"Leader\",\n\"texts\":[\n\"Ton attitude au travail me déplaît beaucoup. Je te conseille de faire un effort sinon je serai malheureusement contraint de prendre les mesures qui s'imposent.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/lucienNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(4).getInstance(self);\nresInst.setProperty('isConsidered', 'true')",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 24,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(4).getInstance(self);\nresInst.getProperty('lastWorkQuality')>=50;",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 25,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(4).getInstance(self);\nresInst.getProperty('lastWorkQuality')<50;",
                                "language": "JavaScript"
                            }
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 230,
                        "y": 1650
                    }
                },
                "24": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Lucien\",\n\"texts\":[\n\"Euh pardon, mon travail me semblait suffisant. Je vais essayer de faire mieux la prochaine fois.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/lucienPerplexe.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(4).getInstance(self);\nresInst.setConfidence(resInst.getConfidence()-10);\nresInst.setMoral(resInst.getMoral()-20);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 430,
                        "y": 1650
                    }
                },
                "25": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Lucien\",\n\"texts\":[\n\"Je suis désolé ça n'arrivera plus.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/lucienTriste.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(4).getInstance(self);\nresInst.setMoral(resInst.getMoral()-10);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 430,
                        "y": 1830
                    }
                },
                "26": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Salut, Si tu as un peu de temps, j'aimerais savoir si tout va comme tu le souhaite.\",\n\"Salut, je voulais prendre un peu de temps pour m'assurer que tout va comme tu le souhaites.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/lucienNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 27
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 230,
                        "y": 2110
                    }
                },
                "27": {
                    "@class": "State",
                    "transitions": [{
                            "@class": "Transition",
                            "nextStateId": 29,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var chance, alea=1, transition = false, resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(4).getInstance(self);\nif(parseInt(resInst.getConfidence()) + parseInt(resInst.getProperty('bonusInducement'))>= 75||parseInt(resInst.getProperty('leadershipLevel'))>1){\nif(resInst.getProperty('wishIsKnow')=='false') alea += 1;\nif(resInst.getProperty('hateIsKnow')=='false') alea += 1;\nif(resInst.getProperty('hiddenSkillsets')!='') alea += 1;\nchance = Math.floor(Math.random()*alea)+1;\nif(resInst.getProperty('wishIsKnow') == 'false' && chance <=1) transition = true\n}\ntransition",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "Transition",
                            "nextStateId": 32,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var chance, alea=1, transition = false, resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(4).getInstance(self);\nif(parseInt(resInst.getConfidence()) + parseInt(resInst.getProperty('bonusInducement'))>= 75||parseInt(resInst.getProperty('leadershipLevel'))>1){\nif(resInst.getProperty('hateIsKnow')=='false') alea += 1;\nif(resInst.getProperty('hiddenSkillsets')!='') alea += 1;\nchance = Math.floor(Math.random()*alea)+1;\nif(resInst.getProperty('hateIsKnow') == 'false' && chance <=1) transition = true}\ntransition",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "Transition",
                            "nextStateId": 35,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var chance, alea=1, transition = false, resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(4).getInstance(self);\nif(parseInt(resInst.getConfidence()) + parseInt(resInst.getProperty('bonusInducement'))>= 75||parseInt(resInst.getProperty('leadershipLevel'))>1){\nif(resInst.getProperty('hiddenSkillsets')!=='') alea += 1;\nchance = Math.floor(Math.random()*alea)+1;\nif(resInst.getProperty('hiddenSkillsets') != '' && chance <=1) transition = true\n}\ntransition",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "Transition",
                            "nextStateId": 37,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "1==1",
                                "language": "JavaScript"
                            }
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 430,
                        "y": 2110
                    }
                },
                "29": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Lucien\",\n\"texts\":[\n\"En réalité, j'aimerais beaucoup travailler sur des mandats du genre &codeY.Wegas.Facade.VariableDescriptor.cache.find('name', 'resources').get('items')[4].getInstance().get('properties').wish&code. Penses-tu pouvoir me donner un travail dans ce domaine ?\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/lucienConfiant.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 30
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 830,
                        "y": 2110
                    }
                },
                "30": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Bien sûr, je te promets de te transmettre un mandat de ce type dès qu'il  en aura au moins un qui te convient.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/lucienJoie.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(4).getInstance(self);\nresInst.setMoral(resInst.getMoral()+10);\nresInst.setConfidence(resInst.getConfidence()+10);\nresInst.setProperty('wishIsKnow', 'true');",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 2110
                    }
                },
                "32": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Lucien\",\n\"texts\":[\n\"Je ne l'ai encore jamais précisé, mais je n'aime vraiment pas travailler sur des mandats du genre &codeY.Wegas.Facade.VariableDescriptor.cache.find('name', 'resources').get('items')[4].getInstance().get('properties').hate&code. Est-ce que tu penses pouvoir éviter de me donner des travaux de ce type ?\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/lucienConfiant.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 33
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 830,
                        "y": 2290
                    }
                },
                "33": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Oui bien sûr si j'ai des mandats d'un autre genre et adapté à ton niveau. En revanche, je dois parfois faire avec les limitations des offres. Mais je vais tenter de t'éviter cette frustration.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/lucienJoie.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(4).getInstance(self);\nresInst.setMoral(resInst.getMoral()+10);\nresInst.setConfidence(resInst.getConfidence()+10);\nresInst.setProperty('hateIsKnow', 'true')",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 2290
                    }
                },
                "35": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Lucien\",\n\"texts\":[\n\"Lorsque j'ai été engagé ici, je ne pensais pas avoir la possibilité de travailler dans une diversité de travaux autant grande. Il se trouve que j'ai donné un CV sans les informations qui me semblaient inutiles. Comme je vois qu'il y a des mandats dans le domaine &codeY.Wegas.Facade.VariableDescriptor.cache.find('name', 'resources').get('items')[4].getInstance().get('properties').hiddenSkillsets.split(new RegExp('[,;]+', 'g'))[0]&code, j'ai ajouté mon niveau dans votre dossier à ce sujet.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/lucienConfiant.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 36
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 830,
                        "y": 2480
                    }
                },
                "36": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Oh vous avez bien ça me donnera la possibilité de t'attribuer un mandat en fonction de tes compétence dans le domaine.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/lucienJoie.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(4).getInstance(self);\nresInst.setMoral(resInst.getMoral()+10);\nresInst.setConfidence(resInst.getConfidence()+10);\nresInst.setProperty('hiddenSkillsets', resInst.getProperty('hiddenSkillsets').split(new RegExp('[,;]+', 'g')).shift().join(';'));",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 2480
                    }
                },
                "37": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Lucien\",\n\"texts\":[\n\"Oh vous savez, la routine. Rien de nouveau actuellement.\",\n\"Non, je... Tout va bien actuellement\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/lucienGene.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Continuer (Coûte une action)",
                            "nextStateId": 38,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "actions.value > 0",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 630,
                        "y": 2660
                    }
                },
                "38": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Mhh...\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/lucienGene.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "actions.value-=1;",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Conseiller",
                            "nextStateId": 39,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(4).getInstance(self);\nresInst.getProperty('lastWorkQuality')>=50&&resInst.getProperty('isAdvised') != 'true';",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Conseiller",
                            "nextStateId": 40,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(4).getInstance(self);\nresInst.getProperty('lastWorkQuality')<50&&resInst.getProperty('isAdvised') != 'true';",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Demander de développer",
                            "nextStateId": 41,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(4).getInstance(self);\nresInst.getProperty('wishIsKnow')=='true'&&resInst.getProperty('hateIsKnow')=='true'&&resInst.getProperty('hiddenSkillsets')==='';",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Demander de développer",
                            "nextStateId": 42,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(4).getInstance(self);\nresInst.getProperty('wishIsKnow')=='false'||resInst.getProperty('hateIsKnow')=='false'||resInst.getProperty('hiddenSkillsets')!=='';",
                                "language": "JavaScript"
                            }
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 830,
                        "y": 2660
                    }
                },
                "39": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Vous pourriez améliorer votre travail en essayant de vous dépasser, en travaillant plus dur que jamais. Ça serait bénéfique pour les clients et pour vous. Ce challenge vous donnerait de la motivation.\",\n\"Vous devriez peut-être changer de méthode de travail. Ça vous motiverait, et vous ouvrirait de nouveaux horizons. Le résultat pourrait surprendre le client.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/lucienNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(4).getInstance(self);\nresInst.setProperty('isAdvised', 'true');\nresInst.setProperty('bonusInducement', parseInt(resInst.getProperty('bonusInducement'))+20);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 2660
                    }
                },
                "40": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Vous pourriez améliorer votre travail en essayant de vous dépasser, en travaillant plus dur que jamais. Ça serait bénéfique pour les clients et pour vous. Ce challenge vous donnerait de la motivation.\",\n\"Vous devriez peut-être changer de méthode de travail. Ça vous motiverait, et vous ouvrirait de nouveaux horizons. Le résultat pourrait surprendre le client.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/lucienNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(4).getInstance(self);\nresInst.setMoral(resInst.getMoral()+20);\nresInst.setConfidence(resInst.getConfidence()+10);\nresInst.setProperty('isAdvised', 'true');",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 2840
                    }
                },
                "41": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Je ne comprends pas bien ce que vous voulez vraiment me dire, vous pourriez développer s'il vous plait ?\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/lucienNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Continuer",
                            "nextStateId": 27
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 3020
                    }
                },
                "42": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Je ne comprends pas bien ce que vous voulez vraiment me dire, vous  pourriez développer s'il vous plait ?\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/lucienNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "onEnterEvent": {
                        "@class": "Script",
                        "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(4).getInstance(self);\nresInst.setProperty('bonusInducement', parseInt(resInst.getProperty('bonusInducement'))+20);",
                        "language": "JavaScript"
                    },
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Continuer",
                            "nextStateId": 27
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Quitter",
                            "nextStateId": 19
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 3200
                    }
                }
            }
        }, {
            "@class": "DialogueDescriptor",
            "name": "dialogueFinal",
            "label": "dialogueFinal",
            "defaultInstance": {
                "@class": "FSMInstance",
                "currentStateId": 0
            },
            "scope": {
                "@class": "TeamScope"
            },
            "states": {
                "0": {
                    "@class": "DialogueState",
                    "text": "",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "-",
                            "nextStateId": 1,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "score.value<1100",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "-",
                            "nextStateId": 4,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "score.value>=1100",
                                "language": "JavaScript"
                            }
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 30,
                        "y": 30
                    }
                },
                "1": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Daniel\",\n\"texts\":[\n\"Je suis malheureusement obliger de reprendre la situation en main. Vos compétences actuelles n'ont apparemment pas suffi à motiver votre équipe pour qu'elle donne le meilleur d'elle-même. Dans ces conditions, je me vois dans l'obligation de vous rétrograder à votre ancien poste.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background2.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Donnez-moi une seconde chance !",
                            "nextStateId": 2
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 230,
                        "y": 30
                    }
                },
                "2": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Je suis désolé mais donnez-moi une seconde chance, je peux encore redresser la situation.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background2.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 3
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 430,
                        "y": 30
                    }
                },
                "3": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Daniel\",\n\"texts\":[\n\"Malheureusement, je pense que votre équipe a perdu confiance en vous. Ne soyez pas si déçu, vous êtes jeune, vous avez acquis de l'expérience et je suis sûr que la prochaine fois, ça se passera comme vous voulez. Ce qui est embêtant, c'est que nous manquons de leader pour reprendre votre équipe. Quel membre de votre équipe a encore l'envie de se battre pour l'entreprise et serait tenté de reprendre le flambeau ?\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background2.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Fernand",
                            "nextStateId": 7
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Daniela",
                            "nextStateId": 8
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Jessica",
                            "nextStateId": 9
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Hector",
                            "nextStateId": 10
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Lucien",
                            "nextStateId": 11
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 630,
                        "y": 30
                    }
                },
                "4": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Félicitation, vous avez fait du très bon travail ! En réalité, je souhaiterais que vous soyez à mes côté pour diriger ce département. Le travail du côté leadership ne changera pas énormément c'est pourquoi je pense que vous serez à la hauteur de la situation.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background2.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Merci !",
                            "nextStateId": 5
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 230,
                        "y": 210
                    }
                },
                "5": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Je ne sais pas comment vous remercier.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background2.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 6
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 430,
                        "y": 210
                    }
                },
                "6": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Daniel\",\n\"texts\":[\n\"C'est vous-même qu'il faut remercier. Vous m'avez prouvé votre talent en tant que leader. En revanche, cette équipe a besoin d'un nouveau chef. Avez-vous quelqu'un à me proposer ?\"\n],\n\"backgroundImages\":[{\"link\":\"/background2.jpg\",\"height\":\"315px\",\"width\":\"980px\"}],\"questionImages\":[{\"link\":\"/danielNeutre.png\",\"height\":\"250px\",\"width\":\"230px\",\"css\": {\"margin\":\"50px 0 0 375px\"}}]}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Fernand",
                            "nextStateId": 7
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Daniela",
                            "nextStateId": 8
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Jessica",
                            "nextStateId": 9
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Hector",
                            "nextStateId": 10
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Lucien",
                            "nextStateId": 11
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 630,
                        "y": 210
                    }
                },
                "7": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Je pense que Fernand Salmero est le plus compétent.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background2.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 12,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(0).getInstance(self);\nresInst.getProperty('leadershipLevel')>1&&resInst.getProperty('numberOfWorkWithLeader')>0;",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 15,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(0).getInstance(self);\nresInst.getProperty('leadershipLevel')<=1&&resInst.getProperty('numberOfWorkWithLeader')<=0;",
                                "language": "JavaScript"
                            }
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 30
                    }
                },
                "8": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Je pense que Daniela Brossard est la plus compétente.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background2.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 12,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(1).getInstance(self);\nresInst.getProperty('leadershipLevel')>1&&resInst.getProperty('numberOfWorkWithLeader')>0;",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 15,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(1).getInstance(self);\nresInst.getProperty('leadershipLevel')<=1&&resInst.getProperty('numberOfWorkWithLeader')<=0;",
                                "language": "JavaScript"
                            }
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 210
                    }
                },
                "9": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Je pense que Jessica Vogt est la plus compétente.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background2.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 12,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(2).getInstance(self);\nresInst.getProperty('leadershipLevel')>1&&resInst.getProperty('numberOfWorkWithLeader')>0;",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 15,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(2).getInstance(self);\nresInst.getProperty('leadershipLevel')<=1&&resInst.getProperty('numberOfWorkWithLeader')<=0;",
                                "language": "JavaScript"
                            }
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 390
                    }
                },
                "10": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Je pense qu'Hector Auguste est le plus compétent.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background2.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 12,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(3).getInstance(self);\nresInst.getProperty('leadershipLevel')>1&&resInst.getProperty('numberOfWorkWithLeader')>0;",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 15,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(3).getInstance(self);\nresInst.getProperty('leadershipLevel')<=1&&resInst.getProperty('numberOfWorkWithLeader')<=0;",
                                "language": "JavaScript"
                            }
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 570
                    }
                },
                "11": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Je pense que Lucien Torr est le plus compétent.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background2.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 12,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(4).getInstance(self);\nresInst.getProperty('leadershipLevel')>1&&resInst.getProperty('numberOfWorkWithLeader')>0;",
                                "language": "JavaScript"
                            }
                        }, {
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 15,
                            "triggerCondition": {
                                "@class": "Script",
                                "content": "var resInst = VariableDescriptorFacade.findByName(self.getGameModel(), 'resources').items.get(4).getInstance(self);\nresInst.getProperty('leadershipLevel')<=1&&resInst.getProperty('numberOfWorkWithLeader')<=0;",
                                "language": "JavaScript"
                            }
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1030,
                        "y": 750
                    }
                },
                "12": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Daniel\",\n\"texts\":[\n\"Très bien, je vous fais confiance. Nous verrons ces résultats dans quelques mois, après sa formation. Il peut-être tentant de revenir le conseiller mais vous risquer de le discréditer aussi, je vous demanderais de ne pas surveiller son travail.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background2.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Je comprends",
                            "nextStateId": 13
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1430,
                        "y": 30
                    }
                },
                "13": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Je me suis attaché à ce département, j'espère qu'il se développera. Cela dit je comprends votre décision.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background2.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 14
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1630,
                        "y": 30
                    }
                },
                "14": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"-\",\n\"texts\":[\n\"[Quelques mois plus tard] <br/>Vous avez travaillé avec le nouveau leader et lui avez ainsi servi de modèle. Vous avez développé sa confiance et son expérience pour qu'il ait envie de se battre pour l'entreprise. Maintenant, grâce à vos efforts, le travail du nouveau leader fait que l'entreprise continue d'évoluer !  Bravo à vous car un mauvais leader aurait pu gâcher tous vos effort et réduire à néant votre travail ainsi que celui de vos prédécesseurs.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background2.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n},{\n\"link\":\"/chartGood.jpg\",\n\"height\":\"200px\",\n\"width\":\"200px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1830,
                        "y": 30
                    }
                },
                "15": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Daniel\",\n\"texts\":[\n\"Très bien, je vous fais confiance. Nous verrons ces résultats dans quelques mois, après sa formation. Il peut-être tentant de revenir le conseiller mais vous risquer de le discréditer aussi, je vous demanderais de ne pas surveiller son travail.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background2.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Je comprends",
                            "nextStateId": 16
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1430,
                        "y": 210
                    }
                },
                "16": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"Leader\",\n\"texts\":[\n\"Je me suis attaché à ce département, j'espère qu'il se développera. Cela dit je comprends votre décision.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background2.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n}],\n\"questionImages\":[{\n\"link\":\"/danielNeutre.png\",\n\"height\":\"250px\",\n\"width\":\"230px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "transitions": [{
                            "@class": "DialogueTransition",
                            "actionText": "Suite",
                            "nextStateId": 17
                        }],
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1630,
                        "y": 210
                    }
                },
                "17": {
                    "@class": "DialogueState",
                    "text": "{\n\"speakerName\":\"-\",\n\"texts\":[\n\"[Quelques mois plus tard] <br/> Malheureusement, le travail du leader a été réduit à néant car le nouveau leader n'était pas assez compétent. Peut-être que vous ne l'aviez pas assez préparé à ce poste. Il aurait peut-être dû avoir un niveau de leadership plus élevé et donc plus de confiance et d'expérience afin de se battre pour l'entreprise. Ou alors, peut-être n'a-t-il pas assez travaillé avec le leader. Manquant de modèle, il n'a donc pas pu voir comment agir pour devenir un bon leader.\"\n],\n\"backgroundImages\":[{\n\"link\":\"/background2.jpg\",\n\"height\":\"315px\",\n\"width\":\"980px\"\n},{\n\"link\":\"/chartBad.jpg\",\n\"height\":\"200px\",\n\"width\":\"200px\",\n\"css\": {\n\"margin\":\"50px 0 0 375px\"\n}\n}]\n}",
                    "editorPosition": {
                        "@class": "Coordinate",
                        "x": 1830,
                        "y": 210
                    }
                }
            }
        }
    ],
    "clientScriptLibrary": {
        "default": {
            "@class": "GameModelContent",
            "content": "Y.Wegas.persistence.ListDescriptor.EDITMENU[1].plugins[0].cfg.children.push({type:\"AddEntityChildButton\",label:\"Task\",targetClass:\"TaskDescriptor\"});Y.Wegas.persistence.ListDescriptor.EDITMENU[1].plugins[0].cfg.children.push({type:\"AddEntityChildButton\",label:\"Dialogue\",targetClass:\"DialogueDescriptor\"});Y.Wegas.persistence.ListDescriptor.EDITMENU[1].plugins[0].cfg.children.push({type:\"AddEntityChildButton\",label:\"Resource\",targetClass:\"ResourceDescriptor\"})"
        }
    },
    "scriptLibrary": {
        "default": {
            "@class": "GameModelContent",
            "content": "importPackage(javax.naming);\r\n\r\n/**\r\n * terminate the current week.\r\n * if value of week <= max value of week :\r\n * - Increment the value of week\r\n * - Check the end of all task (checkTasksEnd)\r\n * - Check the end of all absent (checkAbsencesEnd)\r\n * - Remove all deactivated assignments (removeDeactivatedAssignements)\r\n * - Active or Deactive some tasks (checkTasksState)\r\n * - Pay all active resources (payResources)\r\n * - Check the moral of all active resources (checkMoral)\r\n * - Check the 'LeadershipLevel' of all active resources (checkLeadershipLevel)\r\n */\r\nfunction finishCurrentWeek () {\r\n    var gm = self.getGameModel(),\r\n            weekDescriptor = VariableDescriptorFacade.findByName(gm, 'week'),\r\n            actionsDescriptor = VariableDescriptorFacade.findByName(gm, 'actions'),\r\n            weekInstance = weekDescriptor.getInstance(self);\r\n    if (weekInstance.getValue() <= weekDescriptor.getMaxValue()) {\r\n        weekInstance.setValue(weekInstance.getValue() + 1);\r\n        actionsDescriptor.getInstance(self).setValue(actionsDescriptor.getMaxValue());\r\n        this.checkTasksEnd();\r\n        this.checkAbsencesEnd();\r\n        this.removeDeactivatedAssignements();\r\n        this.checkTasksState();\r\n        this.payResources();\r\n        this.checkMoral();\r\n        this.checkLeadershipLevel();\r\n        this.sendScore();\r\n        this.resetDialogueValues(); //specific to this scenario.\r\n    }\r\n}\r\n\r\n/**\r\n * @return an Array of all active and not absent resourceDescriptor.\r\n */\r\nfunction getValideResources () {\r\n    var i, j, k, gm = self.getGameModel(), valideResources = new Array(), isValid = false,\r\n            listResources = VariableDescriptorFacade.findByName(gm, 'resources'), resourceDescriptor, resourceInstance,\r\n            listAbsences = VariableDescriptorFacade.findByName(gm, 'absences'), absencesInstance, assignment;\r\n    for (i = 0; i < listResources.items.size(); i++) {\r\n        resourceDescriptor = listResources.items.get(i);\r\n        resourceInstance = resourceDescriptor.getInstance(self);\r\n        isValid = false;\r\n        if (resourceInstance.getActive() == true) {\r\n            isValid = true;\r\n            for (j = 0; j < resourceInstance.getAssignments().size(); j++) {\r\n                assignment = resourceInstance.getAssignments().get(j);\r\n                for (k = 0; k < listAbsences.items.size(); k++) {\r\n                    absencesInstance = listAbsences.items.get(k).getInstance(self);\r\n                    if (assignment.getTaskDescriptorId() == absencesInstance.getDescriptorId() && absencesInstance.getActive() == true) {\r\n                        isValid = false;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (isValid)\r\n            valideResources.push(resourceDescriptor);\r\n    }\r\n    return valideResources;\r\n}\r\n\r\n/**\r\n * @param ListDescriptor of ResourceDescriptor listResources, the list of all resources\r\n * @return An Array of all task assigned at one or many active and not absent resource.\r\n */\r\nfunction getWorkedTasks (listResources) {\r\n    var i, j, k, gm = self.getGameModel(), workedTasks = new Array(), isWorked = false, assignment,\r\n            resourceInstance, listTasks = VariableDescriptorFacade.findByName(gm, 'tasks'), taskDescriptor, taskInstance;\r\n    for (i = 0; i < listTasks.items.size(); i++) {\r\n        taskDescriptor = listTasks.items.get(i);\r\n        taskInstance = taskDescriptor.getInstance(self);\r\n        isWorked = false;\r\n        if (taskInstance.getActive() == true) {\r\n            for (j = 0; j < listResources.length; j++) {\r\n                resourceInstance = listResources[j].getInstance(self);\r\n                for (k = 0; k < resourceInstance.getAssignments().size(); k++) {\r\n                    assignment = resourceInstance.getAssignments().get(k);\r\n                    if (assignment.getTaskDescriptorId() == taskInstance.getDescriptorId()) {\r\n                        isWorked = true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (isWorked)\r\n            workedTasks.push(taskDescriptor);\r\n    }\r\n    return workedTasks;\r\n}\r\n\r\n/**\r\n * Decreases the duration of all worked task by the number of workers on this task.\r\n * for each worked task that have a duration <=0, call the fonction 'doTaskEnd'\r\n * with the task and the corresponding workers for args.\r\n */\r\nfunction checkTasksEnd () {\r\n    var i, j, k, assignment, taskWorkers = new Array(),\r\n            listValidResource = this.getValideResources(), resourceInstance,\r\n            listWorkedTasks = this.getWorkedTasks(listValidResource), taskInstance;\r\n    for (i = 0; i < listWorkedTasks.length; i++) {\r\n        taskWorkers.length = 0;\r\n        taskInstance = listWorkedTasks[i].getInstance(self);\r\n        for (j = 0; j < listValidResource.length; j++) {\r\n            resourceInstance = listValidResource[j].getInstance(self);\r\n            for (k = 0; k < resourceInstance.getAssignments().size(); k++) {\r\n                assignment = resourceInstance.getAssignments().get(k);\r\n                if (assignment.getTaskDescriptorId() == taskInstance.getDescriptorId()) {\r\n                    taskWorkers.push(listValidResource[j]);\r\n                }\r\n            }\r\n        }\r\n        taskInstance.setDuration(taskInstance.getDuration() - taskWorkers.length);\r\n        if (taskInstance.getDuration() <= 0) {\r\n            this.doTaskEnd(taskWorkers, listWorkedTasks[i]);\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Calculate experience (general gained and experience in skillsets needed by\r\n * the finished task) for all workers on a finished tasks.\r\n * can remove the 'wish' or the 'hate' values of these workers.\r\n * add the remuneration of the task at the general budget.\r\n * send a rapport-email to the player\r\n * Deactivate the task\r\n * @param Array of resourceDescriptor workersDescriptor, all the resources that worked on the task.\r\n * @param TaskDescriptor taskDescriptor, the task ended.\r\n */\r\nfunction doTaskEnd (workersDescriptor, taskDescriptor) {\r\n    if (workersDescriptor.length <= 0 || !taskDescriptor) {\r\n        return;\r\n    }\r\n    var i, j, gm = self.getGameModel(), remuneration, taskInstance = taskDescriptor.getInstance(self),\r\n            budgetInstance = VariableDescriptorFacade.findByName(gm, 'budget').getInstance(self), from = new Array(), content = new Array(),\r\n            clientsSatisfaction = VariableDescriptorFacade.findByName(gm, 'clientsSatisfaction').getInstance(self), taskRequirementKey, wish, hate,\r\n            taskRequirementValue, listTaskRequirement = taskDescriptor.getRequirements(), taskDuration = taskInstance.getDescriptor().defaultInstance.getDuration(), workerInstance,\r\n            workQuality = 0, workPartsQuality = new Array(), workPartSkillsQuality = new Array(), sumWorkPartSkills = 0, averageWorkPartSkills = 0,\r\n            sumWorkParts = 0, workerSkillsetValue, totalExperience = 0, skillExperience, moral, confidence, learningCoefficient, randomNumber, existingSkills = new Array(),\r\n            punderationMoral = 0.1,\r\n            punderationConfidence = 0.2,\r\n            punderationSkillsets = 0.7,\r\n            punderationQualityWeight = 0.5;\r\n\r\n    //get existing skills\r\n    for (i = 0; i < workersDescriptor[0].getInstance(self).getSkillsets().size(); i++) {\r\n        existingSkills.push(workersDescriptor[0].getInstance(self).getSkillsets().keySet().toArray()[i]);\r\n    }\r\n\r\n    for (i = 0; i < workersDescriptor.length; i++) {\r\n        workPartSkillsQuality.length = 0;\r\n        sumWorkPartSkills = 0;\r\n        workerInstance = workersDescriptor[i].getInstance(self);\r\n        moral = parseInt(workerInstance.getMoral());\r\n        confidence = parseInt(workerInstance.getConfidence());\r\n        learningCoefficient = parseInt(workersDescriptor[i].getProperty('learningCoefficient'));\r\n        totalExperience = 0;\r\n        from.push(workersDescriptor[i].getProperty('surname'));//for e-mail\r\n        for (j = 0; j < listTaskRequirement.size(); j++) {\r\n            taskRequirementKey = listTaskRequirement.get(j).getPurview();\r\n            taskRequirementValue = parseInt(listTaskRequirement.get(j).getLevel());\r\n            workerSkillsetValue = parseInt(workerInstance.getSkillsets().get(taskRequirementKey));\r\n            //calculate experience général (totalExperienceGained) part 1/2\r\n            if (workerSkillsetValue < taskRequirementValue) {\r\n                totalExperience += (taskRequirementValue - workerSkillsetValue) * taskDuration / workersDescriptor.length;\r\n            }\r\n            //calculate experience in current skill\r\n            if (workerSkillsetValue < taskRequirementValue) {\r\n                skillExperience = Math.ceil((1 - workerSkillsetValue / 100) * 10 * learningCoefficient * taskDuration / workersDescriptor.length);\r\n                workerInstance.setSkillset(taskRequirementKey, parseInt(workerInstance.getSkillset(taskRequirementKey)) + skillExperience);\r\n            }\r\n            //calculate work Quality part 1/4\r\n            workPartSkillsQuality.push((workerSkillsetValue - taskRequirementValue + 100) / 2);\r\n        }\r\n        //calculate experience général (totalExperienceGained) part 2/2\r\n        workerInstance.setProperty('totalExperienceGained', parseInt(workerInstance.getProperty('totalExperienceGained')) + totalExperience);\r\n        //calculate work Quality part 2/4\r\n        for (j = 0; j < workPartSkillsQuality.length; j++) {\r\n            sumWorkPartSkills += workPartSkillsQuality[j];\r\n        }\r\n        averageWorkPartSkills = (sumWorkPartSkills / workPartSkillsQuality.length) * punderationSkillsets + moral * punderationMoral + confidence * punderationConfidence;\r\n        // check wish and hate\r\n        for (j = 0; j < listTaskRequirement.size(); j++) {\r\n            taskRequirementKey = listTaskRequirement.get(j).getPurview();\r\n            taskRequirementValue = parseInt(listTaskRequirement.get(j).getLevel());\r\n            workerSkillsetValue = parseInt(workerInstance.getSkillsets().get(taskRequirementKey));\r\n            //calculate work Quality part 3/4\r\n            if (taskRequirementKey == workerInstance.getProperty('wish')) {\r\n                randomNumber = Math.floor(Math.random() * 6) + 5;\r\n                averageWorkPartSkills += randomNumber;\r\n                if (averageWorkPartSkills > 100)\r\n                    averageWorkPartSkills = 100;\r\n            }\r\n            if (taskRequirementKey == workerInstance.getProperty('hate')) {\r\n                randomNumber = Math.floor(Math.random() * 6) + 5;\r\n                averageWorkPartSkills -= randomNumber;\r\n                if (averageWorkPartSkills < 0)\r\n                    averageWorkPartSkills = 0;\r\n            }\r\n            //check wish\r\n            randomNumber = Math.random();\r\n            wish = workerInstance.getProperty('wish');\r\n            if ((averageWorkPartSkills <= 50 || randomNumber < 0.33) && taskRequirementKey == wish) {\r\n                wish = '';\r\n            }\r\n            while (!wish) {\r\n                wish = existingSkills[Math.floor(Math.random() * existingSkills.length)];\r\n                if (wish == workerInstance.getProperty('wish')) {\r\n                    wish = '';\r\n                }\r\n            }\r\n            workerInstance.setProperty('wishIsKnow', false);\r\n            workerInstance.setProperty('wish', wish);\r\n            //check hate\r\n            randomNumber = Math.random();\r\n            hate = workerInstance.getProperty('hate');\r\n            if ((averageWorkPartSkills > 50 && randomNumber < 0.33) && taskRequirementKey == hate) {\r\n                hate = '';\r\n            }\r\n            while (!hate) {\r\n                hate = existingSkills[Math.floor(Math.random() * existingSkills.length)];\r\n                if (hate == workerInstance.getProperty('hate')) {\r\n                    hate = '';\r\n                }\r\n            }\r\n            workerInstance.setProperty('hateIsKnow', false);\r\n            workerInstance.setProperty('hate', hate);\r\n        }\r\n        averageWorkPartSkills = Math.round(averageWorkPartSkills);\r\n        workPartsQuality.push(averageWorkPartSkills);\r\n        workerInstance.setProperty('lastWorkQuality', averageWorkPartSkills);\r\n        //set moral and confidence depending of averageWorkPartSkills.\r\n        if (averageWorkPartSkills < 50) {\r\n            workerInstance.setMoral(workerInstance.getMoral() - 25);\r\n            workerInstance.setConfidence(workerInstance.getConfidence() - 15);\r\n        }\r\n        else {\r\n            workerInstance.setMoral(workerInstance.getMoral() + 15);\r\n            workerInstance.setConfidence(workerInstance.getConfidence() + 10);\r\n        }\r\n        //check 'workWithLeader'\r\n        if (taskDescriptor.getProperty('workWithLeader') == 'true') {\r\n            workerInstance.setProperty('numberOfWorkWithLeader', parseInt(workerInstance.getProperty('numberOfWorkWithLeader')) + 1);\r\n        }\r\n    }\r\n    //calculate work Quality part 4/4\r\n    for (i = 0; i < workPartsQuality.length; i++) {\r\n        sumWorkParts += (workPartsQuality[i]);\r\n    }\r\n    workQuality = (sumWorkParts / workPartSkillsQuality.length);\r\n    clientsSatisfaction.setValue(Math.round(clientsSatisfaction.getValue() + (workQuality - 50) * punderationQualityWeight));\r\n    if (clientsSatisfaction.getValue() > 100)\r\n        clientsSatisfaction.setValue(100);\r\n    if (clientsSatisfaction.getValue() < 0)\r\n        clientsSatisfaction.getValue(0);\r\n    //calculate remuneration\r\n    remuneration = parseInt(taskDescriptor.getProperty('salary'));\r\n    if (workQuality >= parseInt(taskDescriptor.getProperty('workQualityMinForBonus'))) {\r\n        remuneration += parseInt(taskDescriptor.getProperty('bonus'));\r\n    }\r\n    budgetInstance.setValue(budgetInstance.getValue() + remuneration);\r\n    //e-mail\r\n    content.push('Boujour, <br />Le mandat -');\r\n    content.push(taskDescriptor.getName());\r\n    content.push('- vient de se terminer. Le client ');\r\n    switch (true) {\r\n        case workQuality < 20 :\r\n            content.push('est totalement instatisfait par notre travail. Aucune chance de décrocher un autre mandate auprès de ce client. ');\r\n            break;\r\n        case workQuality < 40 :\r\n            content.push('a déclaré être instatisfait de notre travail. Il est vrai que certaine erreurs ont été commises. ');\r\n            break;\r\n        case workQuality < 60 :\r\n            content.push('est moyennement satisfait. La qualité est faible mais le projet est satisfaisant. ');\r\n            break;\r\n        case workQuality < 80 :\r\n            content.push('est content du travail réalisé. Il pense nous recontacter pour de futurs mandats. ');\r\n            break;\r\n        default :\r\n            content.push('est ravi par le travail réalisé. La qualité est au-delà de ses espérences et sera fidèle à notre entreprise. ');\r\n            break;\r\n    }\r\n    content.push('<br />');\r\n    if (parseInt(taskDescriptor.getProperty('workQualityMinForBonus')) > 0 && workQuality >= parseInt(taskDescriptor.getProperty('workQualityMinForBonus') && parseInt(taskDescriptor.getProperty('bonus')) > 0)) {\r\n        content.push('Il nous remercier par un bonus de ');\r\n        content.push(taskDescriptor.getProperty('bonus'));\r\n        content.push('.-');\r\n    }\r\n    content.push('<br /> Bonne journée. <br />');\r\n    content.push(from.join(', '));\r\n    this.sendMessage('Fin de mandat', content.join(''), workersDescriptor[0].getProperty('surname'));\r\n    //desactivate Task\r\n    taskInstance.setActive(false);\r\n}\r\n\r\n/**\r\n * Decrease absence duration by switch the current absenceTask with a other absenceTask wich have a duration 1 time smaller.\r\n * If the duration must reach 0, remove this assignation, set the resource 'moral' to 40 and recalculate the teamMotivation's value.\r\n * If duration is smaller than 0, deactivate the task.\r\n */\r\nfunction checkAbsencesEnd () {\r\n    var i, j, k, l, gm = self.getGameModel(), assignment, duration,\r\n            listAbsences = VariableDescriptorFacade.findByName(gm, 'absences'), absenceInstance,\r\n            listResources = VariableDescriptorFacade.findByName(gm, 'resources'), resourceInstance,\r\n            assignmentToRemove = new Array(), assignmentToAdd = new Array();\r\n    for (i = 0; i < listResources.items.size(); i++) {\r\n        assignmentToRemove.length = 0;\r\n        assignmentToAdd.length = 0;\r\n        resourceInstance = listResources.items.get(i).getInstance(self);\r\n        for (j = 0; j < resourceInstance.getAssignments().size(); j++) {\r\n            assignment = resourceInstance.getAssignments().get(j);\r\n            for (k = 0; k < listAbsences.items.size(); k++) {\r\n                absenceInstance = listAbsences.items.get(k).getInstance(self);\r\n                if (assignment.getTaskDescriptorId() == absenceInstance.getDescriptorId() && absenceInstance.getActive() == true) {\r\n                    duration = absenceInstance.getDuration();\r\n                    if (duration <= 0) {\r\n                        absenceInstance.setActive(false);\r\n                    } else {\r\n                        assignmentToRemove.push(assignment);\r\n                        resourceInstance.setMoral(40);\r\n                        if (duration > 1) {\r\n                            for (l = 0; l < listAbsences.items.size(); l++) {\r\n                                if (listAbsences.items.get(l).getInstance(self).getDuration() == duration - 1) {\r\n                                    assignmentToAdd.push(listAbsences.items.get(l));\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        for (j = assignmentToRemove.length - 1; j >= 0; j--) {\r\n            resourceInstance.getAssignments().remove(assignmentToRemove[j]);\r\n        }\r\n        for (j = 0; j < assignmentToAdd.length; j++) {\r\n            resourceInstance.assign(assignmentToAdd[j].getInstance(self));\r\n        }\r\n        this.calculateTeamMotivation();\r\n    }\r\n}\r\n\r\n/**\r\n * Check 'active' value in each tasks (from list 'tasks')\r\n * Activate and deactivate tasks according with its variables and if a resource work on.\r\n */\r\nfunction checkTasksState () {\r\n    var i, j, k, gm = self.getGameModel(), listTasks = VariableDescriptorFacade.findByName(gm, 'tasks'), taskDescriptor, taskInstance,\r\n            newWeek = VariableDescriptorFacade.findByName(gm, 'week').getInstance(self), inProgress = false,\r\n            listResources = VariableDescriptorFacade.findByName(gm, 'resources'), resourceInstance, assignment,\r\n            newclientsSatisfaction = VariableDescriptorFacade.findByName(gm, 'clientsSatisfaction').getInstance(self);\r\n    for (i = 0; i < listTasks.items.size(); i++) {\r\n        inProgress = false;\r\n        taskDescriptor = listTasks.items.get(i);\r\n        taskInstance = taskDescriptor.getInstance(self);\r\n        for (j = 0; j < listResources.items.size(); j++) {\r\n            resourceInstance = listResources.items.get(j).getInstance(self);\r\n            if (resourceInstance.getActive() == true) {\r\n                for (k = 0; k < resourceInstance.getAssignments().size(); k++) {\r\n                    assignment = resourceInstance.getAssignments().get(k);\r\n                    if (assignment.getTaskDescriptorId() == taskInstance.getDescriptorId() && taskInstance.getActive() == true) {\r\n                        inProgress = true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (inProgress ||\r\n                (newWeek.getValue() >= taskDescriptor.getProperty('appearAtWeek') &&\r\n                        newWeek.getValue() < taskDescriptor.getProperty('disappearAtWeek') &&\r\n                        newclientsSatisfaction.getValue() >= taskDescriptor.getProperty('clientSatisfactionMinToAppear') &&\r\n                        newclientsSatisfaction.getValue() <= taskDescriptor.getProperty('clientSatisfactionMaxToAppear') &&\r\n                        taskInstance.getDuration() > 0\r\n                        )\r\n                ) {\r\n            taskInstance.setActive(true);\r\n        }\r\n        else {\r\n            taskInstance.setActive(false);\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Decreases current budget value by the sum of all salary of actives resources\r\n */\r\nfunction payResources () {\r\n    var i, gm = self.getGameModel(),\r\n            listResources = VariableDescriptorFacade.findByName(gm, 'resources'),\r\n            budgetDescriptor = VariableDescriptorFacade.findByName(gm, 'budget'),\r\n            budgetInstance = budgetDescriptor.getInstance(self),\r\n            resourceDescriptor, resourceInstance,\r\n            sumSalary = 0;\r\n    for (i = 0; i < listResources.items.size(); i++) {\r\n        resourceDescriptor = listResources.items.get(i);\r\n        resourceInstance = resourceDescriptor.getInstance(self);\r\n        if (resourceInstance.getActive() == true) {\r\n            sumSalary += parseInt(resourceDescriptor.getProperty('salary'));\r\n        }\r\n    }\r\n    budgetInstance.setValue(budgetInstance.getValue() - sumSalary);\r\n}\r\n\r\n/**\r\n * Remove all assignements of resources (from list of tasks and list of absence) which are not 'active'.\r\n */\r\nfunction removeDeactivatedAssignements () {\r\n    var i, j, k, assignments = new Array(), assignment, gm = self.getGameModel(), resourceInstance,\r\n            listResources = VariableDescriptorFacade.findByName(gm, 'resources'),\r\n            listTasksObjects = this.getTasksAndAbsences(), taskObjectInstance;\r\n    for (i = 0; i < listResources.items.size(); i++) {\r\n        assignments.length = 0;\r\n        resourceInstance = listResources.items.get(i).getInstance(self);\r\n        for (j = 0; j < resourceInstance.getAssignments().size(); j++) {\r\n            assignment = resourceInstance.getAssignments().get(j);\r\n            for (k = 0; k < listTasksObjects.length; k++) {\r\n                taskObjectInstance = listTasksObjects[k].getInstance(self);\r\n                if (assignment.getTaskDescriptorId() == taskObjectInstance.getDescriptorId() && taskObjectInstance.getActive() == false) {\r\n                    assignments.push(assignment);\r\n                }\r\n            }\r\n        }\r\n        for (j = 0; j < assignments.length; j++) {\r\n            resourceInstance.getAssignments().remove(assignments[j]);\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * @return a Array of all tasks comming from list of task and list of absences)\r\n */\r\nfunction getTasksAndAbsences () {\r\n    var i, taskObjects = new Array(), gm = self.getGameModel(),\r\n            listTasks = VariableDescriptorFacade.findByName(gm, 'tasks'),\r\n            listAbsences = VariableDescriptorFacade.findByName(gm, 'absences');\r\n    for (i = 0; i < listTasks.items.size(); i++) {\r\n        taskObjects.push(listTasks.items.get(i));\r\n    }\r\n    for (i = 0; i < listAbsences.items.size(); i++) {\r\n        taskObjects.push(listAbsences.items.get(i));\r\n    }\r\n    return taskObjects;\r\n}\r\n\r\n/**\r\n * for each active and not absent resource, check its moral.\r\n * If the moral value is low enough, give it a absence.\r\n * Recalculate the teamMotivation.\r\n */\r\nfunction checkMoral () {\r\n    var i, j, k, moral, randomNumber, absent = false, resourceDescriptor, resourceInstance,\r\n            gm = self.getGameModel(), listAbsences = VariableDescriptorFacade.findByName(gm, 'absences'),\r\n            absenceInstance, listResources = VariableDescriptorFacade.findByName(gm, 'resources');\r\n    for (i = 0; i < listResources.items.size(); i++) {\r\n        resourceDescriptor = listResources.items.get(i);\r\n        resourceInstance = resourceDescriptor.getInstance(self);\r\n        for (j = 0; j < listAbsences.items.size(); j++) {\r\n            absenceInstance = listAbsences.items.get(j).getInstance(self);\r\n            if (absenceInstance.getActive() == true) {\r\n                for (k = 0; k < resourceInstance.getAssignments().size(); k++) {\r\n                    if (resourceInstance.getAssignments().get(k).getTaskDescriptorId() == absenceInstance.getDescriptorId() || !resourceInstance.getActive()) {\r\n                        absent = true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (!absent) {\r\n            moral = resourceInstance.getMoral();\r\n            randomNumber = Math.random();\r\n            switch (true) {\r\n                case moral < 10 :\r\n                    if (randomNumber < 0.33) {\r\n                        this.sendMessage('Changement de département', 'Bonjour,<br /> Je vous informe que ma lettre de démission est sur votre bureau. Le travail me plaisait mais vos méthodes ne me conviennent pas du tout et je préfère changer de team avant que la situation ne dégénère.<br /> Avec mes sincères salutations.<br />' + resourceDescriptor.getProperty('surname'), resourceDescriptor.getProperty('surname'));\r\n                        resourceInstance.setActive(false);\r\n                    }\r\n                    else {\r\n                        this.sendMessage('Congé maladie', 'Bonjour,<br /> Je ne me sens actuellement pas bien du tout. Mon médecin me conseille de rester chez moi au moins pour les deux semaines à venir.<br /> Bonne semaine.<br />' + resourceDescriptor.getProperty('surname'), resourceDescriptor.getProperty('surname'));\r\n                        sickenResource(resourceDescriptor, 2);\r\n                    }\r\n                    break;\r\n                case moral < 20 :\r\n                    if (randomNumber < 0.66) {\r\n                        this.sendMessage('Congé maladie', 'Bonjour,<br /> Je ne me sens actuellement pas bien du tout. Mon médecin me conseille de rester chez moi au moins pour les deux semaines à venir.<br /> Bonne semaine.<br />' + resourceDescriptor.getProperty('surname'), resourceDescriptor.getProperty('surname'));\r\n                        sickenResource(resourceDescriptor, 2);\r\n                    }\r\n                    break;\r\n                case moral < 30 :\r\n                    if (randomNumber < 0.33) {\r\n                        this.sendMessage('Congé maladie', 'Bonjour,<br /> Je ne me sens actuellement pas bien très bien, je crois que je tombe malade. Je préfère rester chez moi cette semaine mais reviendrai en forme la semaine prochaine.<br /> Bonne semaine.<br />' + resourceDescriptor.getProperty('surname'), resourceDescriptor.getProperty('surname'));\r\n                        sickenResource(resourceDescriptor, 1);\r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Calculate the current team motivation\r\n * firste, do the average of all moral value of resources.\r\n * then make an average between this value and the worst moral value.\r\n * set the 'teamMotivation' value with this new value.\r\n */\r\nfunction calculateTeamMotivation () {\r\n    var i, sumMotivation = 0, gm = self.getGameModel(), activeResources = 0, moral,\r\n            listResources = VariableDescriptorFacade.findByName(gm, 'resources'), worstMoralValue = 100,\r\n            teamMotivation = VariableDescriptorFacade.findByName(gm, 'teamMotivation').getInstance(self);\r\n    for (i = 0; i < listResources.items.size(); i++) {\r\n        if (listResources.items.get(i).getInstance(self).getActive() == true) {\r\n            moral = parseInt(listResources.items.get(i).getInstance(self).getMoral());\r\n            sumMotivation += moral;\r\n            activeResources++;\r\n            if (moral < worstMoralValue)\r\n                worstMoralValue = moral;\r\n        }\r\n    }\r\n    teamMotivation.value = Math.round(((Math.round(sumMotivation / activeResources) + worstMoralValue) / 2));\r\n}\r\n\r\n\r\n/**\r\n * Set the 'LeadershipLevel' value for each active resource.\r\n */\r\nfunction checkLeadershipLevel () {\r\n    var i, gm = self.getGameModel(), resourceInstance, newLeadershipLevel, leadershipPoints,\r\n            listResources = VariableDescriptorFacade.findByName(gm, 'resources'),\r\n            weekMaxValue = parseInt(VariableDescriptorFacade.findByName(gm, 'week').getMaxValue()),\r\n            pointsMinToLlvl2 = 10 * (weekMaxValue - 1) + 75,\r\n            pointsMinToLlvl3 = 15 * (weekMaxValue - 1) + 85;\r\n    for (i = 0; i < listResources.items.size(); i++) {\r\n        resourceInstance = listResources.items.get(i).getInstance(self);\r\n        if (resourceInstance.getActive() == true) {\r\n            leadershipPoints = parseInt(resourceInstance.getConfidence()) + parseInt(resourceInstance.getProperty('totalExperienceGained'));\r\n            switch (true) {\r\n                case leadershipPoints >= pointsMinToLlvl2 && leadershipPoints < pointsMinToLlvl3 :\r\n                    newLeadershipLevel = 2;\r\n                    break;\r\n                case leadershipPoints >= pointsMinToLlvl3 :\r\n                    newLeadershipLevel = 3;\r\n                    break;\r\n                default :\r\n                    newLeadershipLevel = 1;\r\n            }\r\n            resourceInstance.setProperty('leadershipLevel', newLeadershipLevel);\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * send an in-game message with the current score to the player.\r\n */\r\nfunction sendScore () {\r\n    var content = new Array(), oldScore, newScore;\r\n    oldScore = VariableDescriptorFacade.findByName(self.getGameModel(), 'score').getInstance(self).getValue(),\r\n            newScore = this.calculateScore();\r\n    content.push('Bonjour, <br />');\r\n    content.push('Comme chaque semaine, voici le score de votre entreprise.');\r\n    content.push('<br />');\r\n    content.push('Votre score la semaine est de  : ');\r\n    content.push(newScore);\r\n    content.push('<br />');\r\n    if (oldScore <= newScore) {\r\n        content.push('Vous avez donc gagné ');\r\n        content.push(newScore - oldScore);\r\n    }\r\n    else {\r\n        content.push('Vous avez donc perdu ');\r\n        content.push(oldScore - newScore);\r\n    }\r\n    content.push(' points depuis la dernière semaine.');\r\n    content.push('<br /><br />');\r\n    content.push('Nous vous rappelons que votre score est calculé à partir de votre budget actuel, de votre taux de satisfaction clientèle ainsi sur le moral de votre personnel.');\r\n    content.push('<br /><br />');\r\n    content.push('A la semaine prochaine.');\r\n    content.push('<br />');\r\n    content.push('Team classement des entreprises');\r\n    this.sendMessage('Classement des entreprises', content.join(''), 'Top entreprises');\r\n}\r\n\r\n/**\r\n * @return Integer score, the current player's score\r\n */\r\nfunction calculateScore () {\r\n    var gm = self.getGameModel(), teamMotivation, budget, clientSatisfaction, score,\r\n            punderationBudget = 0.2,\r\n            punderationMotivation = 0.45,\r\n            punderationSatisfaction = 0.35;\r\n    teamMotivation = parseInt(VariableDescriptorFacade.findByName(gm, 'teamMotivation').getInstance(self).getValue());\r\n    budget = parseInt(VariableDescriptorFacade.findByName(gm, 'budget').getInstance(self).getValue());\r\n    clientSatisfaction = parseInt(VariableDescriptorFacade.findByName(gm, 'clientsSatisfaction').getInstance(self).getValue());\r\n    score = Math.round(budget / 50 * punderationBudget + teamMotivation * 20 * punderationMotivation + clientSatisfaction * 20 * punderationSatisfaction);\r\n    VariableDescriptorFacade.findByName(gm, 'score').getInstance(self).setValue(score);\r\n    return score;\r\n}\r\n\r\n/**\r\n * Assign a task 'sick' to resource wich have a duration egal to the given duration\r\n * @param Integer resourceDescriptorId, the resourceDescriptor to sicken\r\n * @param Integer duration the duration of the sickness.\r\n */\r\nfunction sickenResource (resourceDescriptor, duration) {\r\n    var i, resInstance, taskDescriptor, gm = self.getGameModel(),\r\n            listAbsences = VariableDescriptorFacade.findByName(gm, 'absences');\r\n    resInstance = resourceDescriptor.getInstance(self);\r\n    for (i = 0; i < listAbsences.items.size(); i++) {\r\n        if (listAbsences.items.get(i).getInstance(self).getDuration() == duration) {\r\n            taskDescriptor = listAbsences.items.get(i);\r\n            break;\r\n        }\r\n    }\r\n    if (resInstance) {\r\n        resInstance.assign(taskDescriptor.getInstance(self));\r\n    }\r\n    else {\r\n        println('unknow id of resourceDescriptor in function sickenResource');\r\n    }\r\n}\r\n\r\n/**\r\n * assign the given task at the given resource\r\n * if the given resource have already a assigned task, this new assignement will replace the old one.\r\n * @param Integer resourceDescriptorId, the id of resourceDescriptors to assign\r\n * @param Integer taskDescriptorId, the id of task to assign\r\n */\r\nfunction assignTask (resourceDescriptorId, taskDescriptorId) {\r\n    var i, j, resInstance, taskDescriptor, gm = self.getGameModel(),\r\n            listResources = VariableDescriptorFacade.findByName(gm, 'resources'),\r\n            listTasks = VariableDescriptorFacade.findByName(gm, 'tasks');\r\n    //Search resource\r\n    for (i = 0; i < listResources.items.size(); i++) {\r\n        if (resourceDescriptorId == listResources.items.get(i).getId()) {\r\n            resInstance = listResources.items.get(i).getInstance(self);\r\n        }\r\n    }\r\n    if (!resInstance) {\r\n        return;\r\n    }\r\n    //Search task\r\n    for (i = 0; i < listTasks.items.size(); i++) {\r\n        if (taskDescriptorId == listTasks.items.get(i).getId()) {\r\n            taskDescriptor = listTasks.items.get(i);\r\n        }\r\n        //remove old previous assigned task\r\n        for (j = 0; j < resInstance.getAssignments().size(); j++) {\r\n            if (resInstance.getAssignments().get(j).getTaskDescriptorId() == listTasks.items.get(i).getId() && listTasks.items.get(i).getInstance(self).getActive() == true) {\r\n                resInstance.getAssignments().remove(j);\r\n            }\r\n        }\r\n    }\r\n    if (!taskDescriptor) {\r\n        return;\r\n    }\r\n    // assign task to resource\r\n    resInstance.assign(taskDescriptor.getInstance(self));\r\n}\r\n\r\n/**\r\n * get the specified wegas bean.\r\n * @param String name, the name of the bean\r\n * @return the wanted bean or null\r\n */\r\nfunction lookupBean (name) {\r\n    var ctx = new InitialContext();\r\n    return ctx.lookup('java:module/' + name);\r\n}\r\n\r\n/**\r\n * Send a message to the current player.\r\n * @param String subject, the subject of the message.\r\n * @param String message, the content of the message.\r\n * @param String from, the sender of the message.\r\n */\r\nfunction sendMessage (subject, content, from) {\r\n    var EF = lookupBean('MessageFacade');\r\n    if (EF) {\r\n        EF.send(self, subject, content, from);\r\n    }\r\n    else {\r\n        println('Bean InGameMailFacade does not exist, unable to send in-game message: ' + subject);\r\n    }\r\n}\r\n\r\n/**\r\n * Reset the values specific to the current scenario's dialogues.\r\n * Must be called weekly.\r\n */\r\nfunction resetDialogueValues () {\r\n    var i, gm = self.getGameModel(), resourceInstance,\r\n            listResources = VariableDescriptorFacade.findByName(gm, 'resources');\r\n    for (i = 0; i < listResources.items.size(); i++) {\r\n        resourceInstance = listResources.items.get(i).getInstance(self);\r\n        resourceInstance.setProperty('isAdvised', false);\r\n        resourceInstance.setProperty('isConsidered', false);\r\n        resourceInstance.setProperty('bonusInducement', 0);\r\n    }\r\n}\r\n\r\n/**\r\n * initiate the game'scenario\r\n */\r\nfunction doIntroduction () {\r\n    var gm = self.getGameModel(),\r\n            budgetDescriptor = VariableDescriptorFacade.findByName(gm, 'budget'),\r\n            budgetvalue = budgetDescriptor.getInstance(self).getValue(), mail = new Array();\r\n    mail.push('Bonjour');\r\n    mail.push('<br /><br />');\r\n    mail.push('Je vous félicite pour votre promotion. Sauf erreur de ma part, vous ne connissez pas encore avec vos équipiers. Aussi vous ais-je remis les dossiers de chaque personne dont vous avez la charge. Je sais que vous en ferai bon usage.');\r\n    mail.push('<br /><br />');\r\n    mail.push('La concurrence est rude, je vous demanderais donc de ne pas trop tarder avant de prendre en main votre service. Si vos résultats sont bons, les mandats deviendront de plus en plus intéressants. Vous avez également la possibilité de décrocher une promotion. Si cela devait arriver, je pense donner la responsabilité de votre équipe à un de ses membres actuels.');\r\n    mail.push('<br /><br />');\r\n    mail.push('Je vous souhaite le meilleur départ possible.');\r\n    mail.push('<br />');\r\n    mail.push('Daniel.');\r\n    this.sendMessage('Promotion au niveau de cadre.', mail.join(''), 'Daniel Müster.');\r\n    this.finishCurrentWeek();\r\n    budgetDescriptor.getInstance(self).setValue(budgetvalue);\r\n}\r\n\r\n\r\n/**\r\n * set limits (max and min) for several values.\r\n * General values to limit :\r\n * - actions\r\n * - teamMotivation\r\n * - clientsSatisfaction\r\n *\r\n * Ressource's value to limit :\r\n * - moral\r\n * - confidence\r\n * - frankness\r\n * - lastWorkQuality\r\n * - each skillset's value\r\n */\r\nfunction limitValues () {\r\n    var i, j, value, valueInst, valueDescr, gm = self.getGameModel(), skillsets,\r\n            skillKey, skillValue, listResources = VariableDescriptorFacade.findByName(gm, 'resources');\r\n    //actions\r\n    valueDescr = VariableDescriptorFacade.findByName(gm, 'actions')\r\n    valueInst = valueDescr.getInstance(self);\r\n    if (valueInst.getValue() > valueDescr.getMaxValue())\r\n        valueInst.setValue(valueDescr.getMaxValue());\r\n    if (valueInst.getValue() < valueDescr.getMinValue())\r\n        valueInst.setValue(valueDescr.getMinValue());\r\n    //teamMotivation\r\n    valueDescr = VariableDescriptorFacade.findByName(gm, 'teamMotivation')\r\n    valueInst = valueDescr.getInstance(self);\r\n    if (valueInst.getValue() > valueDescr.getMaxValue())\r\n        valueInst.setValue(valueDescr.getMaxValue());\r\n    if (valueInst.getValue() < valueDescr.getMinValue())\r\n        valueInst.setValue(valueDescr.getMinValue());\r\n    //clientsSatisfaction\r\n    valueDescr = VariableDescriptorFacade.findByName(gm, 'clientsSatisfaction')\r\n    valueInst = valueDescr.getInstance(self);\r\n    if (valueInst.getValue() > valueDescr.getMaxValue())\r\n        valueInst.setValue(valueDescr.getMaxValue());\r\n    if (valueInst.getValue() < valueDescr.getMinValue())\r\n        valueInst.setValue(valueDescr.getMinValue());\r\n    //ressources\r\n    for (i = 0; i < listResources.items.size(); i++) {\r\n        valueDescr = listResources.items.get(i);\r\n        valueInst = valueDescr.getInstance(self);\r\n        //moral\r\n        value = parseInt(valueInst.getMoral());\r\n        if (value > 100)\r\n            valueInst.setMoral(100);\r\n        if (value < 0)\r\n            valueInst.setMoral(0);\r\n        //moral\r\n        value = parseInt(valueInst.getConfidence());\r\n        if (value > 100)\r\n            valueInst.setConfidence(100);\r\n        if (value < 0)\r\n            valueInst.setConfidence(0);\r\n        //frankness\r\n        value = parseInt(valueInst.getProperty('frankness'));\r\n        if (value > 100)\r\n            valueInst.setProperty('frankness', 100);\r\n        if (value < 0)\r\n            valueInst.setProperty('frankness', 0);\r\n        //lastWorkQuality\r\n        value = parseInt(valueInst.getProperty('lastWorkQuality'));\r\n        if (value > 100)\r\n            valueInst.setProperty('lastWorkQuality', 100);\r\n        if (value < 0)\r\n            valueInst.setProperty('lastWorkQuality', 0);\r\n        //skillset\r\n        skillsets = valueInst.getSkillsets();\r\n        for (j = 0; j < skillsets.size(); j++) {\r\n            skillKey = skillsets.keySet().toArray()[j];\r\n            skillValue = parseInt(skillsets.get(skillKey));\r\n            if (skillValue > 100)\r\n                valueInst.setSkillset(skillKey, 100);\r\n            if (skillValue < 0)\r\n                valueInst.setSkillset(skillKey, 0);\r\n        }\r\n    }\r\n}"
        }
    }
}
