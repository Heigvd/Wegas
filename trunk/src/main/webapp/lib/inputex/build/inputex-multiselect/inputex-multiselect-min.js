YUI.add("inputex-multiselect",function(c){var a=c.inputEx;var b=c.Lang;a.MultiSelectField=function(d){a.MultiSelectField.superclass.constructor.call(this,d)};c.extend(a.MultiSelectField,a.SelectField,{renderComponent:function(){a.MultiSelectField.superclass.renderComponent.call(this);this.ddlist=new a.widget.DDList({parentEl:this.fieldContainer})},initEvents:function(){c.on("change",this.onAddNewItem,this.el,this);this.ddlist.on("itemRemoved",this.onItemRemoved,this);this.ddlist.on("listReordered",this.fireUpdatedEvt,this)},onItemRemoved:function(d){this.showChoice({value:d});this.el.selectedIndex=0;this.fireUpdatedEvt()},onAddNewItem:function(){var f,d,e;if(this.el.selectedIndex!==0){f=a.MultiSelectField.superclass.getValue.call(this);d=this.getChoicePosition({value:f});e=this.choicesList[d];this.ddlist.addItem({value:f,label:e.label});this.hideChoice({position:d});this.el.selectedIndex=0;this.fireUpdatedEvt()}},setValue:function(j,f){var g,h,d,e,k=[];if(!b.isArray(j)){return}for(g=0,h=this.choicesList.length;g<h;g+=1){this.showChoice({position:g})}for(g=0,h=j.length;g<h;g+=1){d=this.getChoicePosition({value:j[g]});e=this.choicesList[d];k.push({value:e.value,label:e.label});this.hideChoice({position:d})}this.ddlist.setValue(k);this.el.selectedIndex=0;if(f!==false){this.fireUpdatedEvt()}},getValue:function(){return this.ddlist.getValue()}});a.registerType("multiselect",a.MultiSelectField)},"3.0.0a",{requires:["inputex-select","sortable"]});