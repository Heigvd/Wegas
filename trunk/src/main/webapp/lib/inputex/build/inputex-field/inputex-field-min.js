YUI.add("inputex-field",function(c){var b=c.Lang,a=c.inputEx;a.Field=function(d){this.setOptions(d||{});this.render();this.publish("updated");this.initEvents();if(!b.isUndefined(this.options.value)){this.setValue(this.options.value,false)}if(d.parentEl){if(b.isString(d.parentEl)){c.one("#"+d.parentEl).appendChild(this.getEl())}else{d.parentEl.appendChild(this.getEl())}}};a.Field.prototype={setOptions:function(d){this.options={};this.options.name=d.name;this.options.value=d.value;this.options.id=d.id||c.guid();this.options.label=d.label;this.options.description=d.description;this.options.wrapperClassName=d.wrapperClassName;this.options.messages={};this.options.messages.required=(d.messages&&d.messages.required)?d.messages.required:a.messages.required;this.options.messages.invalid=(d.messages&&d.messages.invalid)?d.messages.invalid:a.messages.invalid;this.options.className=d.className?d.className:"inputEx-Field";this.options.required=b.isUndefined(d.required)?false:d.required;this.options.showMsg=b.isUndefined(d.showMsg)?false:d.showMsg},setFieldName:function(d){},render:function(){this.divEl=a.cn("div",{className:this.options.wrapperClassName||"inputEx-fieldWrapper"});if(this.options.id){this.divEl.id=this.options.id}if(this.options.required){c.one(this.divEl).addClass("inputEx-required")}if(b.isString(this.options.label)){this.labelDiv=a.cn("div",{id:this.divEl.id+"-label",className:"inputEx-label","for":this.divEl.id+"-field"});this.labelEl=a.cn("label",null,null,this.options.label===""?"&nbsp;":this.options.label);this.labelDiv.appendChild(this.labelEl);this.divEl.appendChild(this.labelDiv)}this.fieldContainer=a.cn("div",{className:this.options.className});this.renderComponent();if(this.options.description){this.fieldContainer.appendChild(a.cn("div",{id:this.divEl.id+"-desc",className:"inputEx-description"},null,this.options.description))}this.divEl.appendChild(this.fieldContainer);this.divEl.appendChild(a.cn("div",null,{clear:"both"}," "))},fireUpdatedEvt:function(){var d=this;setTimeout(function(){d.fire("updated",d.getValue(),d)},50)},renderComponent:function(){},getEl:function(){return this.divEl},initEvents:function(){},getValue:function(){},setValue:function(e,d){this.setClassFromState();if(d!==false){this.fireUpdatedEvt()}},setClassFromState:function(e){var d;if(this.previousState){d="inputEx-"+((this.previousState==a.stateRequired)?a.stateInvalid:this.previousState);c.one(this.divEl).removeClass(d)}e=e||this.getState();if(!(e==a.stateEmpty&&c.one(this.divEl).hasClass("inputEx-focused"))){d="inputEx-"+((e==a.stateRequired)?a.stateInvalid:e);c.one(this.divEl).addClass(d)}if(this.options.showMsg){this.displayMessage(this.getStateString(e))}this.previousState=e},getStateString:function(d){if(d==a.stateRequired){return this.options.messages.required}else{if(d==a.stateInvalid){return this.options.messages.invalid}else{return""}}},getState:function(){if(this.isEmpty()){return this.options.required?a.stateRequired:a.stateEmpty}return this.validate()?a.stateValid:a.stateInvalid},validate:function(){return true},onFocus:function(f){var d=c.one(this.getEl());d.removeClass("inputEx-empty");d.addClass("inputEx-focused")},onBlur:function(d){c.one(this.getEl()).removeClass("inputEx-focused");this.setClassFromState()},onChange:function(d){this.fireUpdatedEvt()},close:function(){},disable:function(){},enable:function(){},isDisabled:function(){return false},focus:function(){},destroy:function(){var d=this.getEl();c.Event.purgeElement(d,true);if(c.one(d).inDoc()){d.parentNode.removeChild(d)}},displayMessage:function(g){if(!this.fieldContainer){return}if(!this.msgEl){this.msgEl=a.cn("div",{className:"inputEx-message"});try{var d=this.divEl.getElementsByTagName("div");this.divEl.insertBefore(this.msgEl,d[(d.length-1>=0)?d.length-1:0])}catch(f){alert(f)}}this.msgEl.innerHTML=g},show:function(){this.divEl.style.display=""},hide:function(){this.divEl.style.display="none"},clear:function(d){this.setValue(b.isUndefined(this.options.value)?"":this.options.value,d)},isEmpty:function(){return this.getValue()===""},setParentField:function(d){this.parentField=d},getParentField:function(){return this.parentField}};c.augment(a.Field,c.EventTarget,null,null,{});a.Field.groupOptions=[{type:"string",label:"Name",name:"name",value:"",required:true},{type:"string",label:"Label",name:"label",value:""},{type:"string",label:"Description",name:"description",value:""},{type:"boolean",label:"Required?",name:"required",value:false},{type:"boolean",label:"Show messages",name:"showMsg",value:false}]},"3.0.0a",{requires:["inputex","event-custom"]});