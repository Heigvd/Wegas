YUI.add("inputex-keyvalue",function(c){var b=c.Lang,a=c.inputEx;a.KeyValueField=function(d){a.KeyValueField.superclass.constructor.call(this,d)};c.extend(a.KeyValueField,a.CombineField,{initEvents:function(){a.KeyValueField.superclass.initEvents.call(this);this.inputs[0].on("updated",this.onSelectFieldChange,this,true)},generateSelectConfig:function(j){this.nameIndex={};var m=[],f,h,g,e,d;for(f=0,d=j.length;f<d;f++){h=j[f];g={};for(e in h){if(h.hasOwnProperty(e)&&e!="label"){g[e]=h[e]}}this.nameIndex[h.name]=g;m.push({value:h.name,label:h.label||h.name})}return{type:"select",choices:m}},setOptions:function(d){var e=this.generateSelectConfig(d.availableFields);var f={fields:[e,this.nameIndex[d.availableFields[0].name]]};c.mix(f,d);a.KeyValueField.superclass.setOptions.call(this,f)},onSelectFieldChange:function(g){var e=this.nameIndex[g];var j=this.inputs[this.inputs.length-1];var d=this.divEl.childNodes[a.indexOf(j.getEl(),this.divEl.childNodes)+1];j.destroy();this.inputs.pop();var i=this.renderField(e);var h=i.getEl();c.one(h).setStyle("float","left");this.divEl.insertBefore(h,d)}});a.registerType("keyvalue",a.KeyValueField,{})},"3.0.0a",{requires:["inputex-combine"]});