YUI.add("inputex-string",function(c){var b=c.Lang,a=c.inputEx;a.StringField=function(d){a.StringField.superclass.constructor.call(this,d);if(this.options.typeInvite){this.updateTypeInvite()}};c.extend(a.StringField,a.Field,{setOptions:function(d){a.StringField.superclass.setOptions.call(this,d);this.options.regexp=d.regexp;this.options.size=d.size;this.options.maxLength=d.maxLength;this.options.minLength=d.minLength;this.options.typeInvite=d.typeInvite;this.options.readonly=d.readonly;this.options.autocomplete=b.isUndefined(d.autocomplete)?a.browserAutocomplete:(d.autocomplete===false||d.autocomplete==="off")?false:true;this.options.trim=(d.trim===true)?true:false},renderComponent:function(){this.wrapEl=a.cn("div",{className:"inputEx-StringField-wrapper"});var d={};d.type="text";d.id=this.divEl.id?this.divEl.id+"-field":c.guid();if(this.options.size){d.size=this.options.size}if(this.options.name){d.name=this.options.name}if(this.options.readonly){d.readonly="readonly"}if(this.options.maxLength){d.maxLength=this.options.maxLength}d.autocomplete=this.options.autocomplete?"on":"off";this.el=a.cn("input",d);this.wrapEl.appendChild(this.el);this.fieldContainer.appendChild(this.wrapEl)},setFieldName:function(d){this.el.name=d},initEvents:function(){c.on("change",this.onChange,this.el,this);if(c.UA.ie>0){var e=this.el;c.on("key",function(f){e.blur();e.focus()},this.el,"down:13",this)}c.on("focus",this.onFocus,this.el,this);c.on("blur",this.onBlur,this.el,this);var d=this;c.on("key",function(g,f){d.onKeyPress.call(d,g)},this.el,"press",this);c.on("key",function(g,f){d.onKeyUp.call(d,g)},this.el,"up",this)},getValue:function(){var d;d=(this.options.typeInvite&&this.el.value==this.options.typeInvite)?"":this.el.value;if(this.options.trim){d=b.trim(d)}return d},setValue:function(e,d){this.el.value=(b.isNull(e)||b.isUndefined(e))?"":e;a.StringField.superclass.setValue.call(this,e,d)},validate:function(){var e=this.getValue();if(e===""){return !this.options.required}var d=true;if(this.options.regexp){d=d&&e.match(this.options.regexp)}if(this.options.minLength){d=d&&e.length>=this.options.minLength}return d},disable:function(){this.el.disabled=true},enable:function(){this.el.disabled=false},isDisabled:function(){return this.el.disabled},focus:function(){if(!!this.el&&!b.isUndefined(this.el.focus)){this.el.focus()}},getStateString:function(d){if(d==a.stateInvalid&&this.options.minLength&&this.el.value.length<this.options.minLength){return a.messages.stringTooShort[0]+this.options.minLength+a.messages.stringTooShort[1]}return a.StringField.superclass.getStateString.call(this,d)},setClassFromState:function(){a.StringField.superclass.setClassFromState.call(this);if(this.options.typeInvite){this.updateTypeInvite()}},updateTypeInvite:function(){if(!c.one(this.divEl).hasClass("inputEx-focused")){if(this.isEmpty()){c.one(this.divEl).addClass("inputEx-typeInvite");this.el.value=this.options.typeInvite}else{c.one(this.divEl).removeClass("inputEx-typeInvite")}}else{if(c.one(this.divEl).hasClass("inputEx-typeInvite")){this.el.value="";this.previousState=null;c.one(this.divEl).removeClass("inputEx-typeInvite")}}},onFocus:function(d){a.StringField.superclass.onFocus.call(this,d);if(this.options.typeInvite){this.updateTypeInvite()}},onKeyPress:function(d){},onKeyUp:function(d){}});a.registerType("string",a.StringField,[{type:"string",label:"Type invite",name:"typeInvite",value:""},{type:"integer",label:"Size",name:"size",value:20},{type:"integer",label:"Min. length",name:"minLength",value:0}])},"3.0.0a",{requires:["inputex-field","event-key"]});