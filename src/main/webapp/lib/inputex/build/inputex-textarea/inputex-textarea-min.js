YUI.add("inputex-textarea",function(b){var a=b.inputEx;a.Textarea=function(c){a.Textarea.superclass.constructor.call(this,c)};b.extend(a.Textarea,a.StringField,{setOptions:function(c){a.Textarea.superclass.setOptions.call(this,c);this.options.rows=c.rows||6;this.options.cols=c.cols||23;this.options.readonly=!!c.readonly},renderComponent:function(){this.wrapEl=a.cn("div",{className:"inputEx-StringField-wrapper"});var c={};c.id=this.divEl.id?this.divEl.id+"-field":YAHOO.util.Dom.generateId();c.rows=!!b.UA.gecko?this.options.rows-1:this.options.rows;c.cols=this.options.cols;if(this.options.name){c.name=this.options.name}if(this.options.readonly){c.readonly="readonly"}this.el=a.cn("textarea",c,null,this.options.value);this.wrapEl.appendChild(this.el);this.fieldContainer.appendChild(this.wrapEl)},validate:function(){var c=a.Textarea.superclass.validate.call(this);if(this.options.maxLength){c=c&&this.getValue().length<=this.options.maxLength}return c},getStateString:function(c){if(c==a.stateInvalid&&this.options.minLength&&this.el.value.length<this.options.minLength){return a.messages.stringTooShort[0]+this.options.minLength+a.messages.stringTooShort[1]}else{if(c==a.stateInvalid&&this.options.maxLength&&this.el.value.length>this.options.maxLength){return a.messages.stringTooLong[0]+this.options.maxLength+a.messages.stringTooLong[1]}}return a.Textarea.superclass.getStateString.call(this,c)},insert:function(f){var e,d,c;if(document.selection){this.el.focus();e=document.selection.createRange();e.text=f}else{if(this.el.selectionStart||this.el.selectionStart=="0"){d=this.el.selectionStart;c=this.el.selectionEnd;this.el.value=this.el.value.substring(0,d)+f+this.el.value.substring(c,this.el.value.length)}else{this.el.value+=f}}}});a.registerType("text",a.Textarea,[{type:"integer",label:"Rows",name:"rows",value:6},{type:"integer",label:"Cols",name:"cols",value:23}])},"3.0.0a",{requires:["inputex-string"]});